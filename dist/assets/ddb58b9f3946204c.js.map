{"version":3,"file":"ddb58b9f3946204c.js","mappings":"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CAAC,OAAQ,OAAQ,QAAS,eAO3C,MACA,CACER,IAAK,CACH,OACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CACH,QACA,OACA,OACA,QACA,QACA,OACA,gBAQd,OACA,CACER,IAAK,CACH,MACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,OAAQ,OAAQ,QAAS,eAO3C,CACER,IAAK,CACH,UACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,OAAQ,OAAQ,gBAOlC,CACER,IAAK,CACH,OACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,OAAQ,OAAQ,QAAS,eAO3C,CACER,IAAK,CACH,OACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CACH,QACA,OACA,OACA,QACA,QACA,OACA,gBAQd,CACER,IAAK,CACH,SACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CACH,QACA,OACA,OACA,QACA,QACA,OACA,gBAQd,CACER,IAAK,CACH,MACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,MAAO,cAOzB,CACER,IAAK,CACH,OACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CACH,QACA,OACA,OACA,QACA,QACA,OACA,gBAQd,CACER,IAAK,CACH,SACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,OAAQ,QAAS,eAOnC,CACER,IAAK,CACH,YACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,OAAQ,SAAU,gBAOpC,CACER,IAAK,CACH,CACEQ,IAAK,CAAC,MAAO,QAEf,IACA,CACEX,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEQ,IAAK,CAAC,OAAQ,OAAQ,QAAS,UAEjC,OAIN,CACEX,EAAG,GACHC,IAAK,CACHU,IAAK,CAAC,MAAO,SAGjB,SAGJ,CACER,IAAK,CACH,QACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CACH,QACA,OACA,OACA,QACA,QACA,OACA,gBAQd,CACER,IAAK,CACH,SACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CACH,QACA,OACA,OACA,QACA,QACA,OACA,gBAQd,CACER,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEQ,IAAK,CAAC,WAAY,UAEpB,OAIN,cAKRO,mBAAoB,CAClBP,IAAK,CACH,OACA,SACA,UACA,QACA,UACA,SACA,UACA,SACA,aACA,UACA,aACA,UACA,MACA,UACA,QACA,QACA,OACA,QACA,SACA,UACA,SACA,OACA,QACA,OACA,UACA,SACA,CACER,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHU,IAAK,CAAC,SAAU,aAGpB,UAGJ,QACA,CACER,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHU,IAAK,CAAC,OAAQ,QAAS,UAG3B,SAGJ,SACA,SACA,QACA,OACA,WACA,QACA,UACA,WACA,WACA,SACA,UACA,SACA,OACA,QACA,SACA,SACA,QACA,YACA,OACA,WACA,SACA,YC72BN,GACEQ,SAAU,CACRnC,IAAK,UACLc,KAAM,SAERsB,QAAS,CACPpC,IAAK,UACLc,KAAM,QAERuB,QAAS,CACPrC,IAAK,UACLc,KAAM,QAERwB,QAAS,CACPtC,IAAK,UACLc,KAAM,QAERyB,YAAa,CACXvC,IAAK,UACLc,KAAM,YAER0B,WAAY,CACVxC,IAAK,UACLc,KAAM,WAER2B,WAAY,CACVzC,IAAK,UACLc,KAAM,WAER4B,OAAQ,CACN1C,IAAK,UACLc,KAAM,OAER6B,aAAc,CACZ3C,IAAK,UACLc,KAAM,aAER8B,MAAO,CACL5C,IAAK,UACLc,KAAM,MAER+B,OAAQ,CACN7C,IAAK,UACLc,KAAM,OAERgC,UAAW,CACT9C,IAAK,UACLc,KAAM,UAERiC,SAAU,CACR/C,IAAK,UACLc,KAAM,SAERkC,QAAS,CACPhD,IAAK,UACLc,KAAM,QAERmC,SAAU,CACRjD,IAAK,UACLc,KAAM,SAERoC,UAAW,CACTlD,IAAK,UACLc,KAAM,UAERqC,QAAS,CACPnD,IAAK,UACLc,KAAM,QAERsC,WAAY,CACVpD,IAAK,UACLc,KAAM,WAERuC,OAAQ,CACNrD,IAAK,UACLc,KAAM,OAERwC,SAAU,CACRtD,IAAK,UACLc,KAAM,SAERyC,QAAS,CACPvD,IAAK,UACLc,KAAM,QAER0C,QAAS,CACPxD,IAAK,UACLc,KAAM,QAER2C,SAAU,CACRzD,IAAK,UACLc,KAAM,SAER4C,QAAS,CACP1D,IAAK,UACLc,KAAM,QAER6C,YAAa,CACX3D,IAAK,UACLc,KAAM,YAER8C,YAAa,CACX5D,IAAK,UACLc,KAAM,YAER+C,SAAU,CACR7D,IAAK,UACLc,KAAM,SAERgD,YAAa,CACX9D,IAAK,UACLc,KAAM,YAERiD,aAAc,CACZ/D,IAAK,UACLc,KAAM,aAERkD,YAAa,CACXhE,IAAK,UACLc,KAAM,YAERmD,WAAY,CACVjE,IAAK,UACLc,KAAM,WAERoD,SAAU,CACRlE,IAAK,UACLc,KAAM,SAERqD,cAAe,CACbnE,IAAK,UACLc,KAAM,cAERsD,aAAc,CACZpE,IAAK,UACLc,KAAM,aAERuD,YAAa,CACXrE,IAAK,UACLc,KAAM,YAERwD,SAAU,CACRtE,IAAK,UACLc,KAAM,SAERyD,YAAa,CACXvE,IAAK,UACLc,KAAM,YAER0D,YAAa,CACXxE,IAAK,UACLc,KAAM,YAER2D,OAAQ,CACNzE,IAAK,UACLc,KAAM,OAER4D,WAAY,CACV1E,IAAK,UACLc,KAAM,WAER6D,OAAQ,CACN3E,IAAK,UACLc,KAAM,OAER8D,UAAW,CACT5E,IAAK,UACLc,KAAM,UAER+D,MAAO,CACL7E,IAAK,UACLc,KAAM,MAERgE,UAAW,CACT9E,IAAK,UACLc,KAAM,UAERiE,OAAQ,CACN/E,IAAK,UACLc,KAAM,OAERkE,gBAAiB,CACfhF,IAAK,UACLc,KAAM,gBAERmE,QAAS,CACPjF,IAAK,UACLc,KAAM,QAERoE,QAAS,CACPlF,IAAK,UACLc,KAAM,QAERqE,QAAS,CACPnF,IAAK,UACLc,KAAM,QAERsE,UAAW,CACTpF,IAAK,UACLc,KAAM,UAERuE,YAAa,CACXrF,IAAK,UACLc,KAAM,YAERwE,UAAW,CACTtF,IAAK,UACLc,KAAM,UAERyE,WAAY,CACVvF,IAAK,UACLc,KAAM,WAER0E,UAAW,CACTxF,IAAK,UACLc,KAAM,UAER2E,OAAQ,CACNzF,IAAK,UACLc,KAAM,OAER4E,OAAQ,CACN1F,IAAK,UACLc,KAAM,OAER6E,SAAU,CACR3F,IAAK,UACLc,KAAM,SAER8E,SAAU,CACR5F,IAAK,UACLc,KAAM,SAER+E,WAAY,CACV7F,IAAK,UACLc,KAAM,WAERgF,SAAU,CACR9F,IAAK,UACLc,KAAM,SAERiF,MAAO,CACL/F,IAAK,UACLc,KAAM,MAERkF,OAAQ,CACNhG,IAAK,UACLc,KAAM,OAERmF,UAAW,CACTjG,IAAK,UACLc,KAAM,UAERoF,QAAS,CACPlG,IAAK,UACLc,KAAM,QAERqF,YAAa,CACXnG,IAAK,UACLc,KAAM,YAERsF,UAAW,CACTpG,IAAK,UACLc,KAAM,UAERuF,QAAS,CACPrG,IAAK,UACLc,KAAM,QAERwF,QAAS,CACPtG,IAAK,UACLc,KAAM,QAERyF,OAAQ,CACNvG,IAAK,UACLc,KAAM,OAER0F,OAAQ,CACNxG,IAAK,UACLc,KAAM,OAER2F,OAAQ,CACNzG,IAAK,UACLc,KAAM,OAER4F,MAAO,CACL1G,IAAK,UACLc,KAAM,MAER6F,MAAO,CACL3G,IAAK,UACLc,KAAM,MAER8F,QAAS,CACP5G,IAAK,UACLc,KAAM,QAER+F,cAAe,CACb7G,IAAK,UACLc,KAAM,cAERgG,UAAW,CACT9G,IAAK,UACLc,KAAM,UAERiG,MAAO,CACL/G,IAAK,UACLc,KAAM,MAERkG,UAAW,CACThH,IAAK,UACLc,KAAM,UAERmG,cAAe,CACbjH,IAAK,UACLc,KAAM,cAERoG,OAAQ,CACNlH,IAAK,UACLc,KAAM,OAERqG,aAAc,CACZnH,IAAK,UACLc,KAAM,aAERsG,MAAO,CACLpH,IAAK,UACLc,KAAM,MAERuG,SAAU,CACRrH,IAAK,UACLc,KAAM,SAERwG,UAAW,CACTtH,IAAK,UACLc,KAAM,UAERyG,OAAQ,CACNvH,IAAK,UACLc,KAAM,OAER0G,QAAS,CACPxH,IAAK,UACLc,KAAM,QAER2G,QAAS,CACPzH,IAAK,UACLc,KAAM,QAER4G,SAAU,CACR1H,IAAK,UACLc,KAAM,SAER6G,OAAQ,CACN3H,IAAK,UACLc,KAAM,OAER8G,QAAS,CACP5H,IAAK,UACLc,KAAM,QAER+G,OAAQ,CACN7H,IAAK,UACLc,KAAM,OAERgH,WAAY,CACV9H,IAAK,UACLc,KAAM,WAERiH,aAAc,CACZ/H,IAAK,UACLc,KAAM,aAERkH,UAAW,CACThI,IAAK,UACLc,KAAM,UAERmH,OAAQ,CACNjI,IAAK,UACLc,KAAM,OAERoH,YAAa,CACXlI,IAAK,UACLc,KAAM,YAERqH,YAAa,CACXnI,IAAK,UACLc,KAAM,YAERsH,OAAQ,CACNpI,IAAK,UACLc,KAAM,OAERuH,QAAS,CACPrI,IAAK,UACLc,KAAM,QAERwH,WAAY,CACVtI,IAAK,UACLc,KAAM,WAERyH,UAAW,CACTvI,IAAK,UACLc,KAAM,UAER0H,UAAW,CACTxI,IAAK,UACLc,KAAM,UAER2H,YAAa,CACXzI,IAAK,UACLc,KAAM,YAER4H,MAAO,CACL1I,IAAK,UACLc,KAAM,MAER6H,YAAa,CACX3I,IAAK,UACLc,KAAM,YAER8H,WAAY,CACV5I,IAAK,UACLc,KAAM,WAER+H,QAAS,CACP7I,IAAK,UACLc,KAAM,QAERgI,QAAS,CACP9I,IAAK,UACLc,KAAM,QAERiI,WAAY,CACV/I,IAAK,UACLc,KAAM,WAERkI,aAAc,CACZhJ,IAAK,UACLc,KAAM,aAERmI,OAAQ,CACNjJ,IAAK,UACLc,KAAM,OAERoI,UAAW,CACTlJ,IAAK,UACLc,KAAM,UAERqI,SAAU,CACRnJ,IAAK,UACLc,KAAM,SAERsI,YAAa,CACXpJ,IAAK,UACLc,KAAM,YAERuI,OAAQ,CACNrJ,IAAK,UACLc,KAAM,OAERwI,YAAa,CACXtJ,IAAK,UACLc,KAAM,YAERyI,oBAAqB,CACnBvJ,IAAK,UACLc,KAAM,oBAER0I,YAAa,CACXxJ,IAAK,UACLc,KAAM,YAER2I,UAAW,CACTzJ,IAAK,UACLc,KAAM,UAER4I,QAAS,CACP1J,IAAK,UACLc,KAAM,QAER6I,SAAU,CACR3J,IAAK,UACLc,KAAM,SAER8I,UAAW,CACT5J,IAAK,UACLc,KAAM,UAER+I,UAAW,CACT7J,IAAK,UACLc,KAAM,UAERgJ,UAAW,CACT9J,IAAK,UACLc,KAAM,UAERiJ,iBAAkB,CAChB/J,IAAK,UACLc,KAAM,iBAERkJ,eAAgB,CACdhK,IAAK,UACLc,KAAM,eAERmJ,OAAQ,CACNjK,IAAK,UACLc,KAAM,OAERoJ,YAAa,CACXlK,IAAK,UACLc,KAAM,YAERqJ,UAAW,CACTnK,IAAK,UACLc,KAAM,UAERsJ,UAAW,CACTpK,IAAK,UACLc,KAAM,UAERuJ,SAAU,CACRrK,IAAK,UACLc,KAAM,SAERwJ,UAAW,CACTtK,IAAK,UACLc,KAAM,UAERyJ,UAAW,CACTvK,IAAK,UACLc,KAAM,UAER0J,gBAAiB,CACfxK,IAAK,UACLc,KAAM,gBAER2J,YAAa,CACXzK,IAAK,UACLc,KAAM,YAER4J,QAAS,CACP1K,IAAK,UACLc,KAAM,QAER6J,gBAAiB,CACf3K,IAAK,UACLc,KAAM,gBAER8J,SAAU,CACR5K,IAAK,UACLc,KAAM,SAER+J,UAAW,CACT7K,IAAK,UACLc,KAAM,UAERgK,SAAU,CACR9K,IAAK,UACLc,KAAM,SAERiK,aAAc,CACZ/K,IAAK,UACLc,KAAM,aAERkK,QAAS,CACPhL,IAAK,UACLc,KAAM,QAERmK,OAAQ,CACNjL,IAAK,UACLc,KAAM,OAERoK,QAAS,CACPlL,IAAK,UACLc,KAAM,QAERqK,WAAY,CACVnL,IAAK,UACLc,KAAM,WAERsK,UAAW,CACTpL,IAAK,UACLc,KAAM,UAERuK,YAAa,CACXrL,IAAK,UACLc,KAAM,YAERwK,UAAW,CACTtL,IAAK,UACLc,KAAM,UAERyK,QAAS,CACPvL,IAAK,UACLc,KAAM,QAER0K,OAAQ,CACNxL,IAAK,UACLc,KAAM,OAER2K,OAAQ,CACNzL,IAAK,UACLc,KAAM,OAER4K,OAAQ,CACN1L,IAAK,UACLc,KAAM,OAER6K,MAAO,CACL3L,IAAK,UACLc,KAAM,MAER8K,aAAc,CACZ5L,IAAK,UACLc,KAAM,aAER+K,SAAU,CACR7L,IAAK,UACLc,KAAM,SAERgL,WAAY,CACV9L,IAAK,UACLc,KAAM,WAERiL,UAAW,CACT/L,IAAK,UACLc,KAAM,UAERkL,YAAa,CACXhM,IAAK,UACLc,KAAM,YAERmL,OAAQ,CACNjM,IAAK,UACLc,KAAM,OAERoL,SAAU,CACRlM,IAAK,UACLc,KAAM,SAERqL,SAAU,CACRnM,IAAK,UACLc,KAAM,SAERsL,OAAQ,CACNpM,IAAK,UACLc,KAAM,OAERuL,WAAY,CACVrM,IAAK,UACLc,KAAM,WAERwL,QAAS,CACPtM,IAAK,UACLc,KAAM,QAERyL,YAAa,CACXvM,IAAK,UACLc,KAAM,YAER0L,WAAY,CACVxM,IAAK,UACLc,KAAM,WAER2L,SAAU,CACRzM,IAAK,UACLc,KAAM,SAER4L,SAAU,CACR1M,IAAK,UACLc,KAAM,SAER6L,QAAS,CACP3M,IAAK,UACLc,KAAM,QAER8L,SAAU,CACR5M,IAAK,UACLc,KAAM,SAER+L,OAAQ,CACN7M,IAAK,UACLc,KAAM,OAERgM,UAAW,CACT9M,IAAK,UACLc,KAAM,UAERiM,WAAY,CACV/M,IAAK,UACLc,KAAM,WAERkM,SAAU,CACRhN,IAAK,UACLc,KAAM,SAERmM,UAAW,CACTjN,IAAK,UACLc,KAAM,UAERoM,SAAU,CACRlN,IAAK,UACLc,KAAM,SAERqM,aAAc,CACZnN,IAAK,UACLc,KAAM,aAERsM,UAAW,CACTpN,IAAK,UACLc,KAAM,UAERuM,SAAU,CACRrN,IAAK,UACLc,KAAM,SAERwM,OAAQ,CACNtN,IAAK,UACLc,KAAM,QCpsBGyM,EAAmBnP,ECXhC,CACEgC,MAAO,CACLuB,IAAK,CACH,CACEE,IAAK,QAEP,CACEA,IAAK,SAIX2L,KAAM,CACJrM,IAAK,CACH,CACEU,IAAK,YAEP,IACA,CACEA,IAAK,iBAIX4L,SAAU,CACR5L,IAAK,yBAEP6L,sBAAuB,CACrBvM,IAAK,CACH,IACA,CACEU,IAAK,cAEP,CACEA,IAAK,kBAEP,OAGJ8L,eAAgB,CACdxM,IAAK,CACH,IACA,CACEU,IAAK,gBAEP,IACA,CACEA,IAAK,mBAEP,IACA,CACEA,IAAK,qBAIX+L,aAAc,CACZzM,IAAK,CACH,CACEnB,IAAK,UACLc,KAAM,MAER,IACA,IACA,CACEe,IAAK,gBAEP,MAGJgM,gBAAiB,CACf1M,IAAK,CACH,CACEnB,IAAK,UACLc,KAAM,SAER,IACA,IACA,CACEe,IAAK,gBAEP,MAGJiM,gBAAiB,CACf3M,IAAK,CACH,CACEnB,IAAK,UACLc,KAAM,SAER,IACA,IACA,CACEe,IAAK,gBAEP,MAGJkM,WAAY,CACV/N,IAAK,UACLc,KAAM,CACJK,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHU,IAAK,CAAC,MAAO,SAGjB,CACEA,IAAK,CAAC,IAAK,MAAO,OAAQ,KAAM,cAKxCqM,YAAa,CACXhO,IAAK,UACLc,KAAM,CACJa,IAAK,CAAC,SAAU,OAAQ,OAAQ,QAAS,YAG7CsM,IAAK,CACHpM,IAAK,YAEPqM,SAAU,CACR/M,IAAK,CACH,CACEU,IAAK,gBAEP,IACA,IACA,IACA,CACEA,IAAK,qBAEP,IACA,MAGJsM,aAAc,CACZhN,IAAK,CACH,CACEQ,IAAK,CACH,CACEE,IAAK,mBAEP,CACEA,IAAK,wBAIX,CACEb,EAAG,GACHC,IAAK,CACHY,IAAK,wBAGT,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEQ,IAAK,CAAC,MAAO,QAEf,CACEA,IAAK,CACH,CACEE,IAAK,mBAEP,CACEA,IAAK,wBAIX,CACEb,EAAG,GACHC,IAAK,CACHY,IAAK,6BAQnBuM,gBAAiB,CACfjN,IAAK,CACH,IACA,CACEU,IAAK,kBAIXwM,mBAAoB,CAClBlN,IAAK,CACH,IACA,CACEU,IAAK,kBAIXyM,oBAAqB,CACnB3M,IAAK,CACH,CACEE,IAAK,oBAEP,CACEA,IAAK,wBAIX0M,iBAAkB,CAChBpN,IAAK,CACH,IACA,CACEU,IAAK,2BAIX2M,sBAAuB,CACrB7M,IAAK,CACH,CACER,IAAK,CACH,MACA,IACA,CACEQ,IAAK,CAAC,MAAO,QAEf,MAGJ,QACA,SACA,QACA,QACA,UACA,WACA,aAGJ8M,mBAAoB,CAClBtN,IAAK,CACH,KACA,CACEU,IAAK,6BAIX6M,wBAAyB,CACvB/M,IAAK,CAAC,SAAU,QAAS,aAE3BgN,kBAAmB,CACjBxN,IAAK,CACH,CACEU,IAAK,gBAEP,KACA,CACEA,IAAK,gBAEP,KACA,CACEA,IAAK,gBAEP,MAGJ+M,aAAc,CACZzN,IAAK,CACH,CACEU,IAAK,qBAEP,KACA,CACEA,IAAK,wBAIXgN,kBAAmB,CACjBlN,IAAK,CACH,QACA,aACA,CACER,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEQ,IAAK,CAAC,MAAO,QAEf,OAIN,CACEA,IAAK,CAAC,QAAS,aAIrB,CACER,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEQ,IAAK,CAAC,MAAO,QAEf,OAIN,CACEA,IAAK,CAAC,SAAU,UAElB,IACA,SAGJ,OACA,QACA,MACA,SACA,CACER,IAAK,CACH,QACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,SAAU,UAElB,CACEX,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,QAAS,gBAUjC,CACER,IAAK,CACH,OACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CAAC,YAAa,OAAQ,SAAU,QAAS,OAAQ,gBAStEmN,mBAAoB,CAClBnN,IAAK,CACH,CACEE,IAAK,iBAEP,CACEA,IAAK,iBAEP,CACEA,IAAK,iBAEP,CACEA,IAAK,qBAIXkN,cAAe,CACbpN,IAAK,CAAC,UAAW,UAAW,SAAU,UAExCqN,cAAe,CACb7N,IAAK,CACH,OACA,CACEU,IAAK,cAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,sBAKb,MAGJoN,cAAe,CACbjP,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,MACA,IACA,CACEQ,IAAK,CACH,CACEE,IAAK,iBAEP,CACEA,IAAK,kBAIX,OAINqN,cAAe,CACblP,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,CACEQ,IAAK,CAAC,OAAQ,KAAM,MAAO,OAAQ,WAErC,CACEA,IAAK,CAAC,OAAQ,OAAQ,YAK9BwN,aAAc,CACZnP,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,CACEQ,IAAK,CAAC,OAAQ,QAAS,eAEzB,CACEA,IAAK,CAAC,QAAS,YAKvByN,WAAY,CACVjO,IAAK,CACH,KACA,CACEQ,IAAK,CAAC,QAAS,IAAK,QAI1B0N,gBAAiB,CACf1N,IAAK,CACH,CACER,IAAK,CACH,IACA,CACEU,IAAK,iBAEP,CACEA,IAAK,iBAEP,CACEA,IAAK,mBAIX,CACEA,IAAK,qBAIXyN,cAAe,CACb3N,IAAK,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,MAEjC4N,aAAc,CACZ5N,IAAK,CACH,OACA,MACA,SACA,SACA,QACA,UACA,CACER,IAAK,CACH,CACEQ,IAAK,CAAC,MAAO,QAEf,IACA,CACEA,IAAK,CAAC,KAAM,KAAM,SAIxB,CACER,IAAK,CACH,CACEQ,IAAK,CAAC,KAAM,UAEd,IACA,CACEE,IAAK,uBAMf2N,gBAAiB,CACf7N,IAAK,CAAC,QAAS,SAAU,OAAQ,QAAS,MAAO,QAAS,UDzfP8N,GAC1CC,EAActR,EEZ3B,CACEgC,MAAO,CACLyB,IAAK,UAEP8N,aAAc,CACZxO,IAAK,CACH,CACEU,IAAK,gBAEP,MAGJ+N,WAAY,CACV/N,IAAK,UAEPgO,OAAQ,CACN1O,IAAK,CACH,CACEU,IAAK,gBAEP,IACA,CACEA,IAAK,iBAIXiO,aAAc,CACZ3O,IAAK,CACH,CACEU,IAAK,UAEP,IACA,CACEA,IAAK,aAEP,IACA,CACEA,IAAK,gBAEP,MAGJkO,OAAQ,CACN5O,IAAK,CACH,CACEQ,IAAK,CACH,CACEE,IAAK,WAEP,CACEA,IAAK,UAEP,CACEA,IAAK,WAEP,CACEA,IAAK,YAEP,CACEA,IAAK,aAIX,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEH,EAAG,GACHC,IAAK,UAOjB+O,aAAc,CACZ7O,IAAK,CACH,CACEU,IAAK,WAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,WAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,mBAUvBoO,QAAS,CACP9O,IAAK,CACH,CACEU,IAAK,UAEP,IACA,CACEb,EAAG,GACHC,IAAK,KAEP,CACEY,IAAK,YAEP,CACEb,EAAG,GACHC,IAAK,QAIXiP,WAAY,CACV/O,IAAK,CACH,CACEU,IAAK,SAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,SAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,iBAUvBsO,MAAO,CACLtO,IAAK,UAEPuO,YAAa,CACXjP,IAAK,CACH,IACA,IACA,CACEU,IAAK,UAEP,IACA,MAGJwO,OAAQ,CACN1O,IAAK,CACH,CACEE,IAAK,cAEP,CACEA,IAAK,eAEP,CACEA,IAAK,aAEP,CACEA,IAAK,mBAIXyO,WAAY,CACVnP,IAAK,CACH,CACEU,IAAK,UAEP,IACA,CACEA,IAAK,YAEP,IACA,IACA,IACA,CACEA,IAAK,UAEP,MAGJ0O,YAAa,CACXpP,IAAK,CACH,CACEU,IAAK,aAEP,IACA,CACEA,IAAK,cAEP,IACA,MAGJ2O,UAAW,CACTrP,IAAK,CACH,CACEU,IAAK,SAEP,IACA,IACA,CACEA,IAAK,UAEP,IACA,IACA,IACA,IACA,CACEA,IAAK,eAEP,IACA,MAGJ4O,cAAe,CACbtP,IAAK,CACH,CACEU,IAAK,aAEP,IACA,CACEA,IAAK,UAEP,MAGJ6O,OAAQ,CACN/O,IAAK,CACH,CACEE,IAAK,eAEP,CACEA,IAAK,gBAEP,CACEA,IAAK,mBAIX8O,YAAa,CACXxP,IAAK,CACH,CACEQ,IAAK,CACH,CACER,IAAK,CACH,KACA,CACEU,IAAK,YAEP,MAGJ,CACEA,IAAK,cAIX,CACEF,IAAK,CACH,KACA,KACA,CACER,IAAK,CACH,KACA,CACEU,IAAK,kBAQnB+O,aAAc,CACZzP,IAAK,CACH,IACA,CACEU,IAAK,eAEP,IACA,CACEF,IAAK,CACH,CACER,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,KACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,KACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,KACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,KACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,KACA,IACA,CACEU,IAAK,cAIX,CACEV,IAAK,CACH,IACA,KACA,IACA,CACEU,IAAK,kBAQnBgP,cAAe,CACb1P,IAAK,CACH,CACEU,IAAK,eAEP,IACA,IACA,IACA,CACEA,IAAK,eAEP,IACA,IACA,IACA,CACEA,IAAK,iBAIXiP,UAAW,CACTnP,IAAK,CACH,CACER,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,SAEP,CACEY,IAAK,sBAIX,CACEA,IAAK,2BAIXkP,iBAAkB,CAChBpP,IAAK,CACH,QACA,UACA,SACA,OACA,SACA,SACA,QACA,OACA,SACA,SACA,SACA,UACA,SACA,SACA,QACA,UACA,SACA,SACA,SACA,SACA,SACA,WAGJqP,SAAU,CACR7P,IAAK,CACH,CACEH,EAAG,GACHC,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ACA,UACA,UACA,aACA,WACA,QACA,SACA,UACA,SACA,SACA,SACA,OACA,OACA,QACA,QACA,OACA,QACA,SACA,WACA,UACA,YACA,cACA,YACA,UACA,YACA,aACA,iBACA,eAGJ+R,qBAAsB,CACpBjS,IAAK,CACH,KACA,OACA,QACA,QACA,SACA,OACA,UACA,OACA,SACA,OACA,QACA,SACA,QACA,SACA,WACA,UACA,YACA,YACA,YACA,YACA,UACA,WACA,OACA,WACA,aAGJkS,sBAAuB,CACrBlS,IAAK,CACH,CACEE,IAAK,yBAEP,QACA,QACA,OACA,OACA,OACA,OACA,KACA,OACA,QACA,SACA,QACA,SACA,SACA,UACA,UACA,WACA,UACA,sBAGJiS,kBAAmB,CACjBnS,IAAK,CACH,CACEE,IAAK,sBAEP,UACA,OACA,OACA,SACA,WACA,UACA,UACA,UACA,aACA,aACA,UACA,UACA,YACA,aACA,YACA,SACA,YACA,YACA,kBACA,gBACA,iBACA,mBAGJkS,sBAAuB,CACrBpS,IAAK,CACH,SACA,6BACA,cACA,yBACA,wCACA,2BACA,gCACA,aACA,eACA,iBACA,oBACA,aACA,YACA,YACA,eACA,kBACA,mBACA,iBAGJqS,QAAS,CACPrS,IAAK,CACH,CACEE,IAAK,uBAEP,CACEA,IAAK,wBAIXoS,oBAAqB,CACnBjU,IAAK,UACLc,KAAM,CACJK,IAAK,CACH,MACA,CACEU,IAAK,mBAKbqS,mBAAoB,CAClBlU,IAAK,UACLc,KAAM,CACJK,IAAK,CACH,MACA,CACEU,IAAK,gBAEP,SAINsS,aAAc,CACZxS,IAAK,CACH,8BACA,uBACA,6BACA,4BACA,6BACA,iCACA,6BACA,mBACA,qBACA,2BACA,mBACA,iBACA,wBACA,kBACA,uBACA,oBACA,qBACA,gBACA,iBACA,cACA,yBAGJyS,eAAgB,CACdzS,IAAK,CACH,CACER,IAAK,CACH,CACEU,IAAK,UAEP,IACA,CACEA,IAAK,qBAEP,IACA,CACEA,IAAK,iBAEP,MAGJ,CACEV,IAAK,CACH,CACEU,IAAK,U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BAMfga,sBAAuB,CACrBla,IAAK,CACH,CACEE,IAAK,qBAEP,CACEA,IAAK,UAEP,CACEA,IAAK,UAEP,CACEA,IAAK,WAEP,CACEA,IAAK,YAEP,CACEA,IAAK,aAIXia,uBAAwB,CACtBna,IAAK,CACH,IACA,IACA,IACA,IACA,KACA,IACA,KACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,CACER,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEU,IAAK,UAEP,OAIN,CACEA,IAAK,WAIX,MAGJka,uBAAwB,CACtB5a,IAAK,CACH,IACA,CACEU,IAAK,qBAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,wBAKb,MAGJma,uBAAwB,CACtB7a,IAAK,CACH,IACA,CACEU,IAAK,8BAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,iCAKb,MAGJoa,2BAA4B,CAC1B9a,IAAK,CACH,CACEU,IAAK,kBAEP,IACA,IACA,CACEA,IAAK,uBAIXqa,eAAgB,CACd/a,IAAK,CACH,CACEhC,KAAM,UACNyB,KAAK,EACLC,KAAM,CACJc,IAAK,CACH,CACEE,IAAK,yBAEP,CACEA,IAAK,4BAKb,CACE1C,KAAM,UACNyB,KAAK,EACLC,KAAM,CACJgB,IAAK,4BAKbsa,sBAAuB,CACrBxa,IAAK,CACH,CACE3B,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,IACA,CACEU,IAAK,uBAEP,OAIN,CACE7B,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,IACA,CACEU,IAAK,uBAEP,OAIN,CACE7B,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,MACA,CACEU,IAAK,uBAEP,SAIN,CACE7B,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,MACA,CACEU,IAAK,uBAEP,WAMVua,qBAAsB,CACpBva,IAAK,yBAEPwa,qBAAsB,CACpB1a,IAAK,CACH,WACA,YACA,SACA,WACA,cACA,cACA,WACA,WACA,UACA,SACA,UACA,WACA,cACA,cACA,UACA,CACEE,IAAK,2BAIXya,kBAAmB,CACjBza,IAAK,sBAEP0a,oBAAqB,CACnB5a,IAAK,CACH,IACA,MACA,iBACA,gBACA,WACA,QACA,MACA,MACA,OACA,OACA,QACA,aACA,QACA,MACA,QACA,IACA,MACA,UAGJ6a,sBAAuB,CACrBxc,IAAK,SACLc,KAAM,CACJa,IAAK,CACH,IACA,QACA,OACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,OACA,OACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,QACA,QACA,IACA,KACA,MACA,KACA,KACA,MACA,MACA,IACA,KACA,KACA,IACA,KACA,IACA,OACA,MACA,IACA,KACA,KACA,IACA,IACA,OAIN8a,eAAgB,CACdzc,IAAK,UACLc,KAAM,CACJa,IAAK,CACH,iBACA,cACA,oBACA,4BNpnB2C8N,EAAWwB,GACjDyL,EAAete,EOjB5B,CACEgC,MAAO,CACLyB,IAAK,kBAEP8a,eAAgB,CACdhb,IAAK,CACH,CACEE,IAAK,4BAEP,CACEA,IAAK,0BAEP,CACEA,IAAK,eAEP,CACEA,IAAK,eAEP,CACE1C,KAAM,WACNyB,KAAK,EACLC,KAAM,CACJgB,IAAK,mBAKb+a,yBAA0B,CACxBzb,IAAK,CACH,CACEU,IAAK,SAEP,IACA,CACEA,IAAK,sBAEP,IACA,CACEA,IAAK,kBAEP,IACA,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,KACA,IACA,CACEU,IAAK,gBAKb,MAGJgb,uBAAwB,CACtB1b,IAAK,CACH,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEU,IAAK,UAEP,OAIN,CACEA,IAAK,aAEP,IACA,CACEA,IAAK,oBAEP,IACA,MAGJib,YAAa,CACX3b,IAAK,CACH,CACEU,IAAK,UAEP,IACA,CACEA,IAAK,sBAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,CACEU,IAAK,gBAKb,IACA,IACA,IACA,C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INoc,qBAAsB,CACpBtc,IAAK,CACH,CACEE,IAAK,WAEP,CACEA,IAAK,cAIXqc,mBAAoB,CAClBrc,IAAK,yBAEPsc,mBAAoB,CAClBtc,IAAK,yBAEPuc,iBAAkB,CAChBvc,IAAK,sBAEPwc,kBAAmB,CACjB1c,IAAK,CACH,GACA,gBACA,QACA,KACA,OACA,OACA,QACA,UACA,MACA,QACA,SACA,OACA,SACA,UACA,UACA,UACA,OACA,QACA,OACA,WAGJ2c,gBAAiB,CACf3c,IAAK,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAAO,MAAO,QAEnE4c,oBAAqB,CACnBve,IAAK,SACLc,KAAM,CACJa,IAAK,CACH,IACA,IACA,IACA,IACA,IACA,IACA,KACA,MACA,SACA,MACA,MACA,MACA,UACA,UACA,KACA,MACA,MACA,OACA,eAIN6c,aAAc,CACZxe,IAAK,UACLc,KAAM,CACJa,IAAK,CACH,CACER,IAAK,CACH,KACA,IACA,CACEU,IAAK,uBAIX,CACEV,IAAK,CACH,MACA,IACA,CACEU,IAAK,uBAIX,CACEV,IAAK,CACH,KACA,IACA,CACEU,IAAK,qBAEP,IACA,OAGJ,CACEV,IAAK,CACH,MACA,IACA,CACEU,IAAK,qBAEP,IACA,UAMV4c,kBAAmB,CACjB9c,IAAK,CACH,iCACA,kCACA,mCACA,6BACA,uBACA,4BACA,yBACA,uBACA,2BACA,iBACA,wBACA,6BACA,gCPppByC8N,EAAWwB,GAC7CyN,EAAgBtgB,EQlB7B,CACEgC,MAAO,CACLe,IAAK,CACH,CACEU,IAAK,iBAEP,MAGJ8c,cAAe,CACbxd,IAAK,CACH,CACEU,IAAK,gBAEP,IACA,CACEA,IAAK,YAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEQ,IAAK,CACH,CACEE,IAAK,mBAEP,CACEA,IAAK,sBASrB+c,gBAAiB,CACfzd,IAAK,CACH,CACEQ,IAAK,CAAC,IAAK,OAEb,IACA,CACEE,IAAK,eAIXgd,YAAa,CACX1d,IAAK,CACH,IACA,IACA,CACEU,IAAK,gBAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEU,IAAK,gBAKb,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEU,IAAK,kBAOjBid,SAAU,CACR3d,IAAK,CACH,CACEU,IAAK,aAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEU,IAAK,gBAKb,IACA,CACEA,IAAK,YAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEU,IAAK,eAKb,IACA,CACEF,IAAK,CACH,CACEE,IAAK,YAEP,CACEA,IAAK,gBAEP,CACEA,IAAK,WAEP,CACEA,IAAK,kBAMfkd,UAAW,CACTpd,IAAK,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAExDqd,SAAU,CACRrd,IAAK,CACH,UACA,CACER,IAAK,CACH,SACA,IACA,CACEU,IAAK,eAIX,CACEV,IAAK,CACH,QACA,IACA,CACEU,IAAK,eAIX,CACEV,IAAK,CACH,SACA,IACA,CACEU,IAAK,eAIX,CACEV,IAAK,CACH,SACA,IACA,CACEU,IAAK,eAIX,SACA,CACEV,IAAK,CACH,SACA,IACA,CACEU,IAAK,eAIX,CACEV,IAAK,CACH,OACA,IACA,CACEU,IAAK,eAIX,CACEV,IAAK,CACH,SACA,IACA,CACEU,IAAK,eAIX,CACEV,IAAK,CACH,QACA,IACA,CACEU,IAAK,eAIX,SACA,CACEV,IAAK,CACH,QACA,IACA,CACEU,IAAK,eAIX,UACA,cAGJod,SAAU,CACRpd,IAAK,aAEPqd,aAAc,CACZ/d,IAAK,CACH,IACA,IACA,CACEQ,IAAK,CACH,CACEE,IAAK,iBAEP,CACEV,IAAK,CACH,IACA,CACEU,IAAK,iBAEP,IACA,CACEA,IAAK,iBAEP,UAOZsd,QAAS,CACPxd,IAAK,CACH,CACER,IAAK,CACH,IACA,IACA,CACEU,IAAK,YAEP,MAGJ,CACEV,IAAK,CACH,IACA,IACA,CACEU,IAAK,gBAEP,IACA,CACEA,IAAK,YAEP,MAGJ,CACEV,IAAK,CAAC,IAAK,IAAK,MAAO,QAI7Bie,WAAY,CACVpf,IAAK,SACLc,KAAM,CACJK,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,YAEP,IACA,OAINwd,SAAU,CACR1d,IAAK,CACH,IACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,WACA,eACA,WACA,OACA,WACA,WACA,WACA,WACA,YACA,WACA,SACA,SACA,WAGJ2d,UAAW,CACT3d,IAAK,CACH,YACA,CACEA,IAAK,CACH,CACER,IAAK,CACH,CACEU,IAAK,YAEP,IACA,CACEV,IAAK,CACH,CACEU,IAAK,kBAEP,IACA,CACEA,IAAK,qBAMf,WAKR0d,SAAU,CACR5d,IAAK,CACH,IACA,OACA,IACA,IACA,OACA,KACA,MACA,MACA,MACA,OACA,OACA,KACA,MACA,OACA,MACA,OACA,OACA,QACA,OACA,SAGJ6d,eAAgB,CACd7d,IAAK,CACH,IACA,IACA,IACA,QACA,SACA,OACA,KACA,SACA,OACA,SACA,QACA,QACA,OACA,QACA,OACA,OACA,OACA,SACA,QACA,OACA,UACA,OACA,OACA,SACA,QACA,UAGJ8d,cAAe,CACb9d,IAAK,CACH,IACA,OACA,MACA,MACA,MACA,IACA,MACA,OACA,KACA,OACA,MACA,MACA,KACA,IACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,SAGJ+d,aAAc,CACZ1f,IAAK,UACLc,KAAM,CACJa,IAAK,CACH,QACA,MACA,KACA,QACA,QACA,KACA,MACA,KACA,SACA,KACA,OACA,MACA,MACA,OACA,SACA,OACA,OACA,OACA,OACA,KACA,OACA,MACA,QACA,KACA,OACA,OACA,MACA,OACA,KACA,MACA,KACA,QACA,MACA,MACA,OACA,MACA,OACA,MACA,OACA,MACA,QACA,OACA,QACA,SACA,KACA,KACA,WRhdKge,EAAgBvhB,ESnB7B,CACEgC,MAAO,CACLe,IAAK,CACH,IACA,CACEH,EAAG,GACHC,IAAK,KAEP,CACEY,IAAK,QAEP,CACEb,EAAG,GACHC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AK,mBAIX4gB,SAAU,CACRthB,IAAK,CACH,IACA,IACA,CACEH,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEU,IAAK,qBAEP,OAIN,CACEA,IAAK,eAEP,IACA,MAGJ6gB,YAAa,CACX/gB,IAAK,CACH,CACEE,IAAK,eAEP,CACEV,IAAK,CACH,IACA,IACA,CACEU,IAAK,iBAEP,IACA,QAKR8gB,cAAe,CACbxhB,IAAK,CACH,CACEU,IAAK,eAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,oBAOjB+gB,cAAe,CACbzhB,IAAK,CACH,IACA,IACA,CACEU,IAAK,yBAEP,IACA,MAGJghB,sBAAuB,CACrB7hB,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEU,IAAK,oBAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEU,IAAK,0BAQnBihB,mBAAoB,CAClB3hB,IAAK,CACH,CACEU,IAAK,WAEP,IACA,CACEA,IAAK,oBAEP,IACA,CACEA,IAAK,aAEP,IACA,IACA,IACA,CACEA,IAAK,qBAEP,IACA,MAGJkhB,kBAAmB,CACjB/hB,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,CACEU,IAAK,gBAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEU,IAAK,sBAQnBmhB,aAAc,CACZ7hB,IAAK,CACH,CACEU,IAAK,0BAEP,IACA,CACEA,IAAK,eAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,CACEU,IAAK,mBAOjBohB,WAAY,CACVphB,IAAK,yBAEPqhB,uBAAwB,CACtB/hB,IAAK,CACH,CACEU,IAAK,qBAEP,CACEb,EAAG,GACHC,IAAK,CACHE,IAAK,CACH,IACA,IACA,IACA,CACEU,IAAK,0BAOjB6f,sBAAuB,CACrBvgB,IAAK,CACH,CACEU,IAAK,WAEP,IACA,CACEA,IAAK,oBAEP,IACA,CACEA,IAAK,gBAEP,IACA,IACA,IACA,CACEA,IAAK,yBAEP,IACA,MAGJshB,sBAAuB,C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","sources":["webpack://tastatur.com/./packages/mkboard-code/lib/ast.ts","webpack://tastatur.com/./packages/mkboard-code/lib/flags.ts","webpack://tastatur.com/./packages/mkboard-code/lib/output.ts","webpack://tastatur.com/./packages/mkboard-code/lib/generate.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/_ident.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/_keywords.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/grammars.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_html_css.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_cpp.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_csharp.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_typescript.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_javascript.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_python.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_rust.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_shell.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_regex.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_java.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax/lang_go.ts","webpack://tastatur.com/./packages/mkboard-code/lib/syntax.ts","webpack://tastatur.com/./packages/mkboard-code/lib/validate.ts","webpack://tastatur.com/./packages/mkboard-code/lib/find-flags.ts","webpack://tastatur.com/./packages/mkboard-themes/lib/themes/use-computed-styles.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/explainer/Explainer.tsx","webpack://tastatur.com/./packages/mkboard-widget/lib/components/form/Form.module.less?d08e","webpack://tastatur.com/./packages/mkboard-widget/lib/components/form/Form.tsx","webpack://tastatur.com/./packages/mkboard-result/lib/accuracy.ts","webpack://tastatur.com/./packages/mkboard-result/lib/context.ts","webpack://tastatur.com/./packages/mkboard-result/lib/localdate.ts","webpack://tastatur.com/./packages/mkboard-result/lib/group.ts","webpack://tastatur.com/./packages/mkboard-result/lib/summarystats.ts","webpack://tastatur.com/./packages/mkboard-result/lib/dailystats.ts","webpack://tastatur.com/./packages/mkboard-result/lib/errors.ts","webpack://tastatur.com/./packages/mkboard-result/lib/result.ts","webpack://tastatur.com/./packages/mkboard-result/lib/texttype.ts","webpack://tastatur.com/./packages/mkboard-result/lib/keystats.ts","webpack://tastatur.com/./packages/mkboard-result/lib/recover.ts","webpack://tastatur.com/./packages/mkboard-result/lib/speedunit.ts","webpack://tastatur.com/./packages/mkboard-result/lib/settings.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/settings.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/internal/audiocontext.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/internal/player.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/internal/library.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/sound.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/themes/common.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/themes/default.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/themes/mechanical1.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/themes/mechanical2.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/themes/typewriter1.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/themes/typewriter2.ts","webpack://tastatur.com/./packages/mkboard-textinput-sounds/lib/player.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/radiobox/RadioBox.module.less?b5e7","webpack://tastatur.com/./packages/mkboard-widget/lib/components/radiobox/RadioBox.tsx","webpack://tastatur.com/./packages/mkboard-widget/lib/utils/format-duration.ts","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/chars.module.less","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/styles.ts","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/chars.tsx","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/Cursor.tsx","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/TextLines.tsx","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/TextLines.module.less?b23a","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/StaticText.tsx","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/AnimatedText.tsx","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/TextArea.module.less?fafe","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/TextArea.tsx","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/TypingSettings.module.less?aa88","webpack://tastatur.com/./packages/mkboard-textinput-ui/lib/TypingSettings.tsx","webpack://tastatur.com/./packages/mkboard-textinput/lib/chars.ts","webpack://tastatur.com/./packages/mkboard-themes/lib/fonts/index.ts","webpack://tastatur.com/./packages/mkboard-textinput/lib/font.ts","webpack://tastatur.com/./packages/mkboard-textinput/lib/histogram.ts","webpack://tastatur.com/./packages/mkboard-textinput/lib/settings.ts","webpack://tastatur.com/./packages/mkboard-textinput/lib/stats.ts","webpack://tastatur.com/./packages/mkboard-textinput/lib/textinput.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/checkbox/CheckBox.module.less?bf34","webpack://tastatur.com/./packages/mkboard-widget/lib/components/checkbox/CheckBox.tsx","webpack://tastatur.com/./packages/mkboard-rand/lib/rng/lcg.ts","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/Calendar.module.less?af20","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/format.ts","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/Calendar.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/styles.module.less?7e3a","webpack://tastatur.com/./packages/mkboard-color/lib/mix.ts","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/styles.ts","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/Key.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/Happiness.module.less?b6f5","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/Happiness.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/KeyDetails.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/CurrentKey.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/DailyGoal.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/DailyGoal.module.less?b2e1","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/effort.ts","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/EffortLegent.module.less?4e0c","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/EffortLegend.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/gauges.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/gauges.module.less?46b4","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/indicators.module.less?87c2","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/KeySet.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/StreakList.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/indicators.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/KeyLegend.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/KeyLegendList.tsx","webpack://tastatur.com/./packages/mkboard-lesson-ui/lib/names.module.less","webpack://tastatur.com/./packages/mkboard-widget/lib/components/text/Description.module.less?15df","webpack://tastatur.com/./packages/mkboard-widget/lib/components/text/Description.tsx","webpack://tastatur.com/./packages/mkboard-themes/lib/themes/dynamic-styles-context.tsx","webpack://tastatur.com/./packages/mkboard-content/lib/books/book.ts","webpack://tastatur.com/./packages/mkboard-content/lib/books/util.ts","webpack://tastatur.com/./packages/mkboard-content/lib/books/BookPreview.tsx","webpack://tastatur.com/./packages/mkboard-content/lib/books/BookPreview.module.less?a98b","webpack://tastatur.com/./packages/mkboard-content/lib/books/BookSelector.tsx","webpack://tastatur.com/./packages/mkboard-content/lib/books/ParagraphPreview.module.less?5994","webpack://tastatur.com/./packages/mkboard-content/lib/books/ParagraphPreview.tsx","webpack://tastatur.com/./packages/mkboard-content/lib/books/ParagraphSelector.tsx","webpack://tastatur.com/./packages/mkboard-content/lib/words/stats.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/key.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/lesson.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/lessontype.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/settings.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/target.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/text/fragment.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/text/words.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/books.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/code.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/customtext.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/dailygoal.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/dictionary.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/guided.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/learningrate.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/learningsession.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/numbers.ts","webpack://tastatur.com/./packages/mkboard-lesson/lib/wordlist.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/explainer/context.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/hooks/use-element-size.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/canvas/graphics-style.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/canvas/graphics.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/canvas/Canvas.tsx","webpack://tastatur.com/./packages/mkboard-chart/lib/Chart.tsx","webpack://tastatur.com/./packages/mkboard-chart/lib/geometry.ts","webpack://tastatur.com/./packages/mkboard-chart/lib/decoration.ts","webpack://tastatur.com/./packages/mkboard-chart/lib/styles.module.less?b9ee","webpack://tastatur.com/./packages/mkboard-chart/lib/use-chart-styles.ts","webpack://tastatur.com/./packages/mkboard-chart/lib/AccuracyHistogram.tsx","webpack://tastatur.com/./packages/mkboard-chart/lib/dist/util.ts","webpack://tastatur.com/./packages/mkboard-chart/lib/dist/dist.ts","webpack://tastatur.com/./packages/mkboard-chart/lib/graph.ts","webpack://tastatur.com/./packages/mkboard-chart/lib/KeyDetailsChart.tsx","webpack://tastatur.com/./packages/mkboard-chart/lib/RollingSpeedChart.tsx","webpack://tastatur.com/./packages/mkboard-chart/lib/SpeedHistogram.tsx","webpack://tastatur.com/./packages/mkboard-chart/lib/TimeToTypeHistogram.tsx","webpack://tastatur.com/./packages/mkboard-widget/lib/components/box/classNames.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/box/Box.module.less?6b2b","webpack://tastatur.com/./packages/mkboard-widget/lib/components/box/Box.tsx","webpack://tastatur.com/./packages/mkboard-textinput-events/lib/modifiers.ts","webpack://tastatur.com/./packages/mkboard-textinput-events/lib/timetotype.ts","webpack://tastatur.com/./packages/mkboard-textinput-events/lib/emulation.ts","webpack://tastatur.com/./packages/mkboard-textinput-events/lib/events.ts","webpack://tastatur.com/./packages/mkboard-textinput-events/lib/inputhandler.ts","webpack://tastatur.com/./packages/mkboard-textinput-events/lib/TextEvents.tsx","webpack://tastatur.com/./packages/mkboard-textinput-events/lib/use-depressed-keys.ts","webpack://tastatur.com/./packages/mkboard-math/lib/dist.ts","webpack://tastatur.com/./packages/mkboard-math/lib/filter.ts","webpack://tastatur.com/./packages/mkboard-math/lib/keyset.ts","webpack://tastatur.com/./packages/mkboard-math/lib/vector.ts","webpack://tastatur.com/./packages/mkboard-math/lib/histogram.ts","webpack://tastatur.com/./packages/mkboard-math/lib/polynomial.ts","webpack://tastatur.com/./packages/mkboard-math/lib/model.ts","webpack://tastatur.com/./packages/mkboard-math/lib/sle.ts","webpack://tastatur.com/./packages/mkboard-math/lib/polynomial-regression.ts","webpack://tastatur.com/./packages/mkboard-math/lib/linear-regression.ts","webpack://tastatur.com/./packages/mkboard-math/lib/range.ts","webpack://tastatur.com/./packages/mkboard-math/lib/util.ts","webpack://tastatur.com/./packages/mkboard-widget/lib/components/range/Range.module.less?10f1","webpack://tastatur.com/./packages/mkboard-widget/lib/components/range/Range.tsx","webpack://tastatur.com/./packages/mkboard-widget/lib/components/button/LinkButton.module.less?75a1","webpack://tastatur.com/./packages/mkboard-widget/lib/components/button/LinkButton.tsx"],"sourcesContent":["export type Grammar = {\n  readonly rules: Rules;\n  readonly composes: readonly Grammar[];\n};\n\nexport type Rules = Record<string, Prod>;\n\nexport type Prod = Cond | Span | Opt | Seq | Alt | Ref | string;\n\nexport type Cond = {\n  readonly flag: string;\n  readonly inv: boolean;\n  readonly cond: Prod;\n};\n\nexport type Span = {\n  readonly cls: string;\n  readonly span: Prod;\n};\n\nexport type Opt = {\n  readonly f: number;\n  readonly opt: Prod;\n};\n\nexport type Seq = {\n  readonly seq: readonly Prod[];\n};\n\nexport type Alt = {\n  readonly alt: readonly Prod[];\n};\n\nexport type Ref = {\n  readonly ref: string;\n};\n\nexport function isCond(v: Prod): v is Cond {\n  return typeof v === \"object\" && \"cond\" in v;\n}\n\nexport function isSpan(v: Prod): v is Span {\n  return typeof v === \"object\" && \"span\" in v;\n}\n\nexport function isOpt(v: Prod): v is Opt {\n  return typeof v === \"object\" && \"opt\" in v;\n}\n\nexport function isSeq(v: Prod): v is Seq {\n  return typeof v === \"object\" && \"seq\" in v;\n}\n\nexport function isAlt(v: Prod): v is Alt {\n  return typeof v === \"object\" && \"alt\" in v;\n}\n\nexport function isRef(v: Prod): v is Ref {\n  return typeof v === \"object\" && \"ref\" in v;\n}\n\nexport function isLit(v: Prod): v is string {\n  return typeof v === \"string\";\n}\n\nexport function compose(rules: Rules, ...rest: Rules[]): Grammar {\n  return { rules, composes: rest.map((rules) => ({ rules, composes: [] })) };\n}\n\nexport function findRule(grammar: Grammar, name: string): Prod | null {\n  const rule = grammar.rules[name];\n  if (rule != null) {\n    return rule;\n  }\n  for (const composed of grammar.composes) {\n    const rule = findRule(composed, name);\n    if (rule != null) {\n      return rule;\n    }\n  }\n  return null;\n}\n","export type Flags = {\n  has(flag: string): boolean;\n};\n\nexport function flagSet(flags: readonly string[] | ReadonlySet<string>): Flags {\n  const set = new Set(flags);\n  return {\n    has(flag) {\n      return set.has(flag) || set.has(\"*\");\n    },\n  };\n}\n","import { type StyledText, type StyledTextSpan } from \"@mkboard/textinput\";\r\n\r\nexport class Output {\r\n  static readonly Stop = new Error(\"STOP\");\r\n\r\n  readonly #limit: number;\r\n  readonly #text: (string | StyledTextSpan)[] = [];\r\n  #length: number = 0;\r\n  #separator: string = \"\";\r\n\r\n  constructor(limit: number = 1000) {\r\n    this.#limit = limit;\r\n  }\r\n\r\n  get text(): StyledText {\r\n    return this.#text;\r\n  }\r\n\r\n  /** Returns the number of characters accumulated in the output. */\r\n  get length(): number {\r\n    return this.#length + this.#separator.length;\r\n  }\r\n\r\n  /** Returns the number of remaining characters before the limit is reached. */\r\n  get remaining(): number {\r\n    return this.#limit - (this.#length + this.#separator.length);\r\n  }\r\n\r\n  /** Appends the given text, but only if followed by the `append(...)` method. */\r\n  separate(text: string): this {\r\n    if (this.#text.length > 0) {\r\n      const { length } = text;\r\n      if (length > 0) {\r\n        if (this.#length + length > this.#limit) {\r\n          throw Output.Stop;\r\n        }\r\n      }\r\n      this.#separator = text;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /** Appends the given text, or throws the stop error if the limit is reached. */\r\n  append(text: string, cls: string | null = null): this {\r\n    if ((text === \" \" || text === \"\\n\" || text === \"\\t\") && cls == null) {\r\n      return this.separate(text);\r\n    }\r\n    const { length } = text;\r\n    if (length > 0) {\r\n      if (this.#length + this.#separator.length + length > this.#limit) {\r\n        throw Output.Stop;\r\n      }\r\n      if (this.#separator.length > 0) {\r\n        this.#text.push(this.#separator);\r\n        this.#length += this.#separator.length;\r\n        this.#separator = \"\";\r\n      }\r\n      this.#text.push(cls != null ? { cls, text } : text);\r\n      this.#length += length;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /** Clears the accumulated text. */\r\n  clear(): this {\r\n    this.#text.length = 0;\r\n    this.#length = 0;\r\n    this.#separator = \"\";\r\n    return this;\r\n  }\r\n}\r\n","import { LCG, type RNG } from \"@mkboard/rand\";\r\nimport { type StyledText } from \"@mkboard/textinput\";\r\nimport {\r\n  findRule,\r\n  type Grammar,\r\n  isAlt,\r\n  isCond,\r\n  isLit,\r\n  isOpt,\r\n  isRef,\r\n  isSeq,\r\n  isSpan,\r\n  type Prod,\r\n} from \"./ast.ts\";\r\nimport { type Flags, flagSet } from \"./flags.ts\";\r\nimport { Output } from \"./output.ts\";\r\n\r\nconst lcg = LCG(1);\r\n\r\n/**\r\n * Generates text from the given context-free grammar.\r\n */\r\nexport function generate(\r\n  grammar: Grammar,\r\n  {\r\n    start = \"start\",\r\n    flags = flagSet([\"*\"]),\r\n    output = new Output(),\r\n    rng = lcg,\r\n  }: {\r\n    readonly start?: string;\r\n    readonly flags?: Flags;\r\n    readonly output?: Output;\r\n    readonly rng?: RNG;\r\n  } = {},\r\n): StyledText {\r\n  const cls = new Array<string>();\r\n  const alts = new Map<readonly Prod[], Prod>();\r\n  visit(getRule(start));\r\n  return output.text;\r\n\r\n  function visit(p: Prod): void {\r\n    if (isCond(p)) {\r\n      if (flags.has(p.flag) !== p.inv) {\r\n        visit(p.cond);\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (isSpan(p)) {\r\n      cls.push(p.cls);\r\n      visit(p.span);\r\n      cls.pop();\r\n      return;\r\n    }\r\n\r\n    if (isOpt(p)) {\r\n      const { f = 1 } = p;\r\n      if (f === 1 || f > rng()) {\r\n        visit(p.opt);\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (isSeq(p)) {\r\n      for (const child of p.seq) {\r\n        visit(child);\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (isAlt(p)) {\r\n      visit(choose(p.alt));\r\n      return;\r\n    }\r\n\r\n    if (isRef(p)) {\r\n      visit(getRule(p.ref));\r\n      return;\r\n    }\r\n\r\n    if (isLit(p)) {\r\n      output.append(p, cls.length > 0 ? cls.at(-1) : null);\r\n      return;\r\n    }\r\n\r\n    throw new Error(); // Unreachable.\r\n  }\r\n\r\n  function getRule(name: string): Prod {\r\n    const rule = findRule(grammar, name);\r\n    if (rule == null) {\r\n      throw new Error(\r\n        process.env.NODE_ENV !== \"production\"\r\n          ? `Unknown rule [${name}]`\r\n          : undefined,\r\n      );\r\n    }\r\n    return rule;\r\n  }\r\n\r\n  function choose(a: readonly Prod[]): Prod {\r\n    if (a.length > 1) {\r\n      const prev = alts.get(a);\r\n      while (true) {\r\n        const next = a[Math.floor(rng() * a.length)];\r\n        if (prev !== next) {\r\n          alts.set(a, next);\r\n          return next;\r\n        }\r\n      }\r\n    } else {\r\n      return a[0];\r\n    }\r\n  }\r\n}\r\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  generic_variable_name: {\n    alt: [\n      \"a\",\n      \"acc\",\n      \"actual\",\n      \"b\",\n      \"buffer\",\n      \"c\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"initial\", \"new\", \"bad\", \"good\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"config\",\n        ],\n      },\n      \"count\",\n      \"ctx\",\n      \"d\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"initial\", \"new\", \"bad\", \"good\", \"user\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"data\",\n        ],\n      },\n      \"expected\",\n      \"f\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\"my\", \"_\"],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"data\", \"config\", \"image\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"file\",\n        ],\n      },\n      \"h\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"min\", \"max\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"inner\", \"outer\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"height\",\n        ],\n      },\n      \"i\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"first\", \"last\", \"prev\", \"next\", \"min\", \"max\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"idx\",\n        ],\n      },\n      \"image\",\n      \"img\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"first\", \"last\", \"prev\", \"next\", \"min\", \"max\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"index\",\n        ],\n      },\n      \"input\",\n      {\n        seq: [\n          {\n            alt: [\"first\", \"last\", \"prev\", \"next\"],\n          },\n          \"_\",\n          \"item\",\n        ],\n      },\n      \"iter\",\n      {\n        seq: [\n          {\n            alt: [\"input\", \"output\"],\n          },\n          \"_\",\n          \"shape\",\n        ],\n      },\n      \"j\",\n      \"k\",\n      {\n        seq: [\n          {\n            alt: [\"first\", \"last\", \"prev\", \"next\"],\n          },\n          \"_\",\n          \"key\",\n        ],\n      },\n      {\n        seq: [\n          {\n            alt: [\"first\", \"last\", \"prev\", \"next\", \"min\", \"max\"],\n          },\n          \"_\",\n          \"layer\",\n        ],\n      },\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"min\", \"max\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"len\",\n        ],\n      },\n      \"m\",\n      \"map\",\n      \"mask\",\n      \"n\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"file\", \"dir\", \"entry\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"name\",\n        ],\n      },\n      {\n        seq: [\n          {\n            alt: [\"first\", \"last\", \"prev\", \"next\"],\n          },\n          \"_\",\n          \"node\",\n        ],\n      },\n      \"op\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"last\", \"saved\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          {\n            alt: [\"out\", \"output\"],\n          },\n        ],\n      },\n      \"req\",\n      \"res\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"min\", \"max\", \"last\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"result\",\n        ],\n      },\n      \"root\",\n      \"s\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"data\", \"layer\", \"image\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"shape\",\n        ],\n      },\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"min\", \"max\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"inner\", \"outer\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"size\",\n        ],\n      },\n      \"t\",\n      \"u\",\n      \"v\",\n      {\n        seq: [\n          {\n            alt: [\"first\", \"last\", \"prev\", \"next\", \"min\", \"max\"],\n          },\n          \"_\",\n          \"value\",\n        ],\n      },\n      \"w\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"min\", \"max\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"inner\", \"outer\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"width\",\n        ],\n      },\n      \"x\",\n      \"y\",\n      \"z\",\n    ],\n  },\n  generic_function_name: {\n    alt: [\n      {\n        seq: [\n          \"add\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"node\", \"entry\", \"value\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      \"append\",\n      \"build\",\n      \"call\",\n      \"configure\",\n      {\n        seq: [\n          \"copy\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"node\", \"entry\", \"layer\", \"file\", \"config\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"create\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"node\", \"entry\", \"layer\", \"file\", \"config\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      \"exec\",\n      {\n        seq: [\n          \"find\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"node\", \"entry\", \"layer\", \"file\", \"config\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      \"floor\",\n      {\n        seq: [\n          \"get\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"handle\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"req\", \"request\", \"res\", \"response\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"init\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  f: 0.5,\n                  opt: \"pre\",\n                },\n                \"process\",\n                \"_\",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\"_\", \"user\"],\n            },\n          },\n          \"input\",\n        ],\n      },\n      {\n        seq: [\n          \"insert\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"node\", \"entry\", \"layer\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      \"len\",\n      {\n        seq: [\n          \"load\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      \"main\",\n      {\n        seq: [\n          \"pop\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"node\", \"entry\", \"layer\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"process\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"file\", \"config\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"push\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"node\", \"entry\", \"layer\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"read\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"remove\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"run\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"job\", \"task\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"save\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"search\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"item\", \"value\", \"entry\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"serialize\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\"data\", \"config\", \"object\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            alt: [\"get\", \"set\"],\n          },\n          \" \",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"file\", \"data\", \"image\", \"layer\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              alt: [\"min\", \"max\"],\n            },\n          },\n          \"size\",\n        ],\n      },\n      {\n        seq: [\n          \"store\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"update\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"_\",\n                {\n                  alt: [\n                    \"state\",\n                    \"item\",\n                    \"node\",\n                    \"entry\",\n                    \"layer\",\n                    \"file\",\n                    \"config\",\n                  ],\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"function\", \"class\"],\n                },\n                \"_\",\n              ],\n            },\n          },\n          \"wrapper\",\n        ],\n      },\n    ],\n  },\n  generic_class_name: {\n    alt: [\n      \"Body\",\n      \"Buffer\",\n      \"Builder\",\n      \"Cache\",\n      \"Channel\",\n      \"Client\",\n      \"Command\",\n      \"Config\",\n      \"Connection\",\n      \"Context\",\n      \"Controller\",\n      \"Decoder\",\n      \"Dir\",\n      \"Encoder\",\n      \"Entry\",\n      \"Error\",\n      \"File\",\n      \"Graph\",\n      \"Handle\",\n      \"Handler\",\n      \"Header\",\n      \"Item\",\n      \"Layer\",\n      \"List\",\n      \"Manager\",\n      \"Matrix\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              alt: [\"Custom\", \"Example\"],\n            },\n          },\n          \"Model\",\n        ],\n      },\n      \"Mutex\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              alt: [\"Tree\", \"Graph\", \"List\"],\n            },\n          },\n          \"Node\",\n        ],\n      },\n      \"Parser\",\n      \"Person\",\n      \"Point\",\n      \"Pool\",\n      \"Property\",\n      \"Queue\",\n      \"Request\",\n      \"Resource\",\n      \"Response\",\n      \"Result\",\n      \"Scanner\",\n      \"Server\",\n      \"Size\",\n      \"State\",\n      \"Status\",\n      \"Stream\",\n      \"Table\",\n      \"TestSuite\",\n      \"Tree\",\n      \"Variable\",\n      \"Vector\",\n      \"Worker\",\n    ],\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  kw_False: {\n    cls: \"keyword\",\n    span: \"False\",\n  },\n  kw_None: {\n    cls: \"keyword\",\n    span: \"None\",\n  },\n  kw_Self: {\n    cls: \"keyword\",\n    span: \"Self\",\n  },\n  kw_True: {\n    cls: \"keyword\",\n    span: \"True\",\n  },\n  kw_abstract: {\n    cls: \"keyword\",\n    span: \"abstract\",\n  },\n  kw_alignas: {\n    cls: \"keyword\",\n    span: \"alignas\",\n  },\n  kw_alignof: {\n    cls: \"keyword\",\n    span: \"alignof\",\n  },\n  kw_and: {\n    cls: \"keyword\",\n    span: \"and\",\n  },\n  kw_arguments: {\n    cls: \"keyword\",\n    span: \"arguments\",\n  },\n  kw_as: {\n    cls: \"keyword\",\n    span: \"as\",\n  },\n  kw_asm: {\n    cls: \"keyword\",\n    span: \"asm\",\n  },\n  kw_assert: {\n    cls: \"keyword\",\n    span: \"assert\",\n  },\n  kw_async: {\n    cls: \"keyword\",\n    span: \"async\",\n  },\n  kw_auto: {\n    cls: \"keyword\",\n    span: \"auto\",\n  },\n  kw_await: {\n    cls: \"keyword\",\n    span: \"await\",\n  },\n  kw_become: {\n    cls: \"keyword\",\n    span: \"become\",\n  },\n  kw_bool: {\n    cls: \"keyword\",\n    span: \"bool\",\n  },\n  kw_boolean: {\n    cls: \"keyword\",\n    span: \"boolean\",\n  },\n  kw_box: {\n    cls: \"keyword\",\n    span: \"box\",\n  },\n  kw_break: {\n    cls: \"keyword\",\n    span: \"break\",\n  },\n  kw_byte: {\n    cls: \"keyword\",\n    span: \"byte\",\n  },\n  kw_case: {\n    cls: \"keyword\",\n    span: \"case\",\n  },\n  kw_catch: {\n    cls: \"keyword\",\n    span: \"catch\",\n  },\n  kw_char: {\n    cls: \"keyword\",\n    span: \"char\",\n  },\n  kw_char16_t: {\n    cls: \"keyword\",\n    span: \"char16_t\",\n  },\n  kw_char32_t: {\n    cls: \"keyword\",\n    span: \"char32_t\",\n  },\n  kw_class: {\n    cls: \"keyword\",\n    span: \"class\",\n  },\n  kw_co_await: {\n    cls: \"keyword\",\n    span: \"co_await\",\n  },\n  kw_co_return: {\n    cls: \"keyword\",\n    span: \"co_return\",\n  },\n  kw_co_yield: {\n    cls: \"keyword\",\n    span: \"co_yield\",\n  },\n  kw_concept: {\n    cls: \"keyword\",\n    span: \"concept\",\n  },\n  kw_const: {\n    cls: \"keyword\",\n    span: \"const\",\n  },\n  kw_const_cast: {\n    cls: \"keyword\",\n    span: \"const_cast\",\n  },\n  kw_constexpr: {\n    cls: \"keyword\",\n    span: \"constexpr\",\n  },\n  kw_continue: {\n    cls: \"keyword\",\n    span: \"continue\",\n  },\n  kw_crate: {\n    cls: \"keyword\",\n    span: \"crate\",\n  },\n  kw_debugger: {\n    cls: \"keyword\",\n    span: \"debugger\",\n  },\n  kw_decltype: {\n    cls: \"keyword\",\n    span: \"decltype\",\n  },\n  kw_def: {\n    cls: \"keyword\",\n    span: \"def\",\n  },\n  kw_default: {\n    cls: \"keyword\",\n    span: \"default\",\n  },\n  kw_del: {\n    cls: \"keyword\",\n    span: \"del\",\n  },\n  kw_delete: {\n    cls: \"keyword\",\n    span: \"delete\",\n  },\n  kw_do: {\n    cls: \"keyword\",\n    span: \"do\",\n  },\n  kw_double: {\n    cls: \"keyword\",\n    span: \"double\",\n  },\n  kw_dyn: {\n    cls: \"keyword\",\n    span: \"dyn\",\n  },\n  kw_dynamic_cast: {\n    cls: \"keyword\",\n    span: \"dynamic_cast\",\n  },\n  kw_elif: {\n    cls: \"keyword\",\n    span: \"elif\",\n  },\n  kw_else: {\n    cls: \"keyword\",\n    span: \"else\",\n  },\n  kw_enum: {\n    cls: \"keyword\",\n    span: \"enum\",\n  },\n  kw_except: {\n    cls: \"keyword\",\n    span: \"except\",\n  },\n  kw_explicit: {\n    cls: \"keyword\",\n    span: \"explicit\",\n  },\n  kw_export: {\n    cls: \"keyword\",\n    span: \"export\",\n  },\n  kw_extends: {\n    cls: \"keyword\",\n    span: \"extends\",\n  },\n  kw_extern: {\n    cls: \"keyword\",\n    span: \"extern\",\n  },\n  kw_f32: {\n    cls: \"keyword\",\n    span: \"f32\",\n  },\n  kw_f64: {\n    cls: \"keyword\",\n    span: \"f64\",\n  },\n  kw_false: {\n    cls: \"keyword\",\n    span: \"false\",\n  },\n  kw_final: {\n    cls: \"keyword\",\n    span: \"final\",\n  },\n  kw_finally: {\n    cls: \"keyword\",\n    span: \"finally\",\n  },\n  kw_float: {\n    cls: \"keyword\",\n    span: \"float\",\n  },\n  kw_fn: {\n    cls: \"keyword\",\n    span: \"fn\",\n  },\n  kw_for: {\n    cls: \"keyword\",\n    span: \"for\",\n  },\n  kw_friend: {\n    cls: \"keyword\",\n    span: \"friend\",\n  },\n  kw_from: {\n    cls: \"keyword\",\n    span: \"from\",\n  },\n  kw_function: {\n    cls: \"keyword\",\n    span: \"function\",\n  },\n  kw_global: {\n    cls: \"keyword\",\n    span: \"global\",\n  },\n  kw_goto: {\n    cls: \"keyword\",\n    span: \"goto\",\n  },\n  kw_i128: {\n    cls: \"keyword\",\n    span: \"i128\",\n  },\n  kw_i16: {\n    cls: \"keyword\",\n    span: \"i16\",\n  },\n  kw_i32: {\n    cls: \"keyword\",\n    span: \"i32\",\n  },\n  kw_i64: {\n    cls: \"keyword\",\n    span: \"i64\",\n  },\n  kw_i8: {\n    cls: \"keyword\",\n    span: \"i8\",\n  },\n  kw_if: {\n    cls: \"keyword\",\n    span: \"if\",\n  },\n  kw_impl: {\n    cls: \"keyword\",\n    span: \"impl\",\n  },\n  kw_implements: {\n    cls: \"keyword\",\n    span: \"implements\",\n  },\n  kw_import: {\n    cls: \"keyword\",\n    span: \"import\",\n  },\n  kw_in: {\n    cls: \"keyword\",\n    span: \"in\",\n  },\n  kw_inline: {\n    cls: \"keyword\",\n    span: \"inline\",\n  },\n  kw_instanceof: {\n    cls: \"keyword\",\n    span: \"instanceof\",\n  },\n  kw_int: {\n    cls: \"keyword\",\n    span: \"int\",\n  },\n  kw_interface: {\n    cls: \"keyword\",\n    span: \"interface\",\n  },\n  kw_is: {\n    cls: \"keyword\",\n    span: \"is\",\n  },\n  kw_isize: {\n    cls: \"keyword\",\n    span: \"isize\",\n  },\n  kw_lambda: {\n    cls: \"keyword\",\n    span: \"lambda\",\n  },\n  kw_let: {\n    cls: \"keyword\",\n    span: \"let\",\n  },\n  kw_long: {\n    cls: \"keyword\",\n    span: \"long\",\n  },\n  kw_loop: {\n    cls: \"keyword\",\n    span: \"loop\",\n  },\n  kw_match: {\n    cls: \"keyword\",\n    span: \"match\",\n  },\n  kw_mod: {\n    cls: \"keyword\",\n    span: \"mod\",\n  },\n  kw_move: {\n    cls: \"keyword\",\n    span: \"move\",\n  },\n  kw_mut: {\n    cls: \"keyword\",\n    span: \"mut\",\n  },\n  kw_mutable: {\n    cls: \"keyword\",\n    span: \"mutable\",\n  },\n  kw_namespace: {\n    cls: \"keyword\",\n    span: \"namespace\",\n  },\n  kw_native: {\n    cls: \"keyword\",\n    span: \"native\",\n  },\n  kw_new: {\n    cls: \"keyword\",\n    span: \"new\",\n  },\n  kw_noexcept: {\n    cls: \"keyword\",\n    span: \"noexcept\",\n  },\n  kw_nonlocal: {\n    cls: \"keyword\",\n    span: \"nonlocal\",\n  },\n  kw_not: {\n    cls: \"keyword\",\n    span: \"not\",\n  },\n  kw_null: {\n    cls: \"keyword\",\n    span: \"null\",\n  },\n  kw_nullptr: {\n    cls: \"keyword\",\n    span: \"nullptr\",\n  },\n  kw_number: {\n    cls: \"keyword\",\n    span: \"number\",\n  },\n  kw_object: {\n    cls: \"keyword\",\n    span: \"object\",\n  },\n  kw_operator: {\n    cls: \"keyword\",\n    span: \"operator\",\n  },\n  kw_or: {\n    cls: \"keyword\",\n    span: \"or\",\n  },\n  kw_override: {\n    cls: \"keyword\",\n    span: \"override\",\n  },\n  kw_package: {\n    cls: \"keyword\",\n    span: \"package\",\n  },\n  kw_pass: {\n    cls: \"keyword\",\n    span: \"pass\",\n  },\n  kw_priv: {\n    cls: \"keyword\",\n    span: \"priv\",\n  },\n  kw_private: {\n    cls: \"keyword\",\n    span: \"private\",\n  },\n  kw_protected: {\n    cls: \"keyword\",\n    span: \"protected\",\n  },\n  kw_pub: {\n    cls: \"keyword\",\n    span: \"pub\",\n  },\n  kw_public: {\n    cls: \"keyword\",\n    span: \"public\",\n  },\n  kw_raise: {\n    cls: \"keyword\",\n    span: \"raise\",\n  },\n  kw_readonly: {\n    cls: \"keyword\",\n    span: \"readonly\",\n  },\n  kw_ref: {\n    cls: \"keyword\",\n    span: \"ref\",\n  },\n  kw_register: {\n    cls: \"keyword\",\n    span: \"register\",\n  },\n  kw_reinterpret_cast: {\n    cls: \"keyword\",\n    span: \"reinterpret_cast\",\n  },\n  kw_requires: {\n    cls: \"keyword\",\n    span: \"requires\",\n  },\n  kw_return: {\n    cls: \"keyword\",\n    span: \"return\",\n  },\n  kw_self: {\n    cls: \"keyword\",\n    span: \"self\",\n  },\n  kw_short: {\n    cls: \"keyword\",\n    span: \"short\",\n  },\n  kw_signed: {\n    cls: \"keyword\",\n    span: \"signed\",\n  },\n  kw_sizeof: {\n    cls: \"keyword\",\n    span: \"sizeof\",\n  },\n  kw_static: {\n    cls: \"keyword\",\n    span: \"static\",\n  },\n  kw_static_assert: {\n    cls: \"keyword\",\n    span: \"static_assert\",\n  },\n  kw_static_cast: {\n    cls: \"keyword\",\n    span: \"static_cast\",\n  },\n  kw_str: {\n    cls: \"keyword\",\n    span: \"str\",\n  },\n  kw_strictfp: {\n    cls: \"keyword\",\n    span: \"strictfp\",\n  },\n  kw_string: {\n    cls: \"keyword\",\n    span: \"string\",\n  },\n  kw_struct: {\n    cls: \"keyword\",\n    span: \"struct\",\n  },\n  kw_super: {\n    cls: \"keyword\",\n    span: \"super\",\n  },\n  kw_switch: {\n    cls: \"keyword\",\n    span: \"switch\",\n  },\n  kw_symbol: {\n    cls: \"keyword\",\n    span: \"symbol\",\n  },\n  kw_synchronized: {\n    cls: \"keyword\",\n    span: \"synchronized\",\n  },\n  kw_template: {\n    cls: \"keyword\",\n    span: \"template\",\n  },\n  kw_this: {\n    cls: \"keyword\",\n    span: \"this\",\n  },\n  kw_thread_local: {\n    cls: \"keyword\",\n    span: \"thread_local\",\n  },\n  kw_throw: {\n    cls: \"keyword\",\n    span: \"throw\",\n  },\n  kw_throws: {\n    cls: \"keyword\",\n    span: \"throws\",\n  },\n  kw_trait: {\n    cls: \"keyword\",\n    span: \"trait\",\n  },\n  kw_transient: {\n    cls: \"keyword\",\n    span: \"transient\",\n  },\n  kw_true: {\n    cls: \"keyword\",\n    span: \"true\",\n  },\n  kw_try: {\n    cls: \"keyword\",\n    span: \"try\",\n  },\n  kw_type: {\n    cls: \"keyword\",\n    span: \"type\",\n  },\n  kw_typedef: {\n    cls: \"keyword\",\n    span: \"typedef\",\n  },\n  kw_typeid: {\n    cls: \"keyword\",\n    span: \"typeid\",\n  },\n  kw_typename: {\n    cls: \"keyword\",\n    span: \"typename\",\n  },\n  kw_typeof: {\n    cls: \"keyword\",\n    span: \"typeof\",\n  },\n  kw_u128: {\n    cls: \"keyword\",\n    span: \"u128\",\n  },\n  kw_u16: {\n    cls: \"keyword\",\n    span: \"u16\",\n  },\n  kw_u32: {\n    cls: \"keyword\",\n    span: \"u32\",\n  },\n  kw_u64: {\n    cls: \"keyword\",\n    span: \"u64\",\n  },\n  kw_u8: {\n    cls: \"keyword\",\n    span: \"u8\",\n  },\n  kw_undefined: {\n    cls: \"keyword\",\n    span: \"undefined\",\n  },\n  kw_union: {\n    cls: \"keyword\",\n    span: \"union\",\n  },\n  kw_unknown: {\n    cls: \"keyword\",\n    span: \"unknown\",\n  },\n  kw_unsafe: {\n    cls: \"keyword\",\n    span: \"unsafe\",\n  },\n  kw_unsigned: {\n    cls: \"keyword\",\n    span: \"unsigned\",\n  },\n  kw_use: {\n    cls: \"keyword\",\n    span: \"use\",\n  },\n  kw_using: {\n    cls: \"keyword\",\n    span: \"using\",\n  },\n  kw_usize: {\n    cls: \"keyword\",\n    span: \"usize\",\n  },\n  kw_var: {\n    cls: \"keyword\",\n    span: \"var\",\n  },\n  kw_virtual: {\n    cls: \"keyword\",\n    span: \"virtual\",\n  },\n  kw_void: {\n    cls: \"keyword\",\n    span: \"void\",\n  },\n  kw_volatile: {\n    cls: \"keyword\",\n    span: \"volatile\",\n  },\n  kw_wchar_t: {\n    cls: \"keyword\",\n    span: \"wchar_t\",\n  },\n  kw_where: {\n    cls: \"keyword\",\n    span: \"where\",\n  },\n  kw_while: {\n    cls: \"keyword\",\n    span: \"while\",\n  },\n  kw_with: {\n    cls: \"keyword\",\n    span: \"with\",\n  },\n  kw_yield: {\n    cls: \"keyword\",\n    span: \"yield\",\n  },\n  kw_any: {\n    cls: \"keyword\",\n    span: \"any\",\n  },\n  kw_bigint: {\n    cls: \"keyword\",\n    span: \"bigint\",\n  },\n  kw_declare: {\n    cls: \"keyword\",\n    span: \"declare\",\n  },\n  kw_keyof: {\n    cls: \"keyword\",\n    span: \"keyof\",\n  },\n  kw_module: {\n    cls: \"keyword\",\n    span: \"module\",\n  },\n  kw_never: {\n    cls: \"keyword\",\n    span: \"never\",\n  },\n  kw_satisfies: {\n    cls: \"keyword\",\n    span: \"satisfies\",\n  },\n  kw_unique: {\n    cls: \"keyword\",\n    span: \"unique\",\n  },\n  kw_infer: {\n    cls: \"keyword\",\n    span: \"infer\",\n  },\n  kw_out: {\n    cls: \"keyword\",\n    span: \"out\",\n  },\n} as Rules;\n","import { compose } from \"../ast.ts\";\nimport _ident from \"./_ident.ts\";\nimport _keywords from \"./_keywords.ts\";\nimport lang_cpp from \"./lang_cpp.ts\";\nimport lang_csharp from \"./lang_csharp.ts\";\nimport lang_go from \"./lang_go.ts\";\nimport lang_html_css from \"./lang_html_css.ts\";\nimport lang_java from \"./lang_java.ts\";\nimport lang_javascript from \"./lang_javascript.ts\";\nimport lang_python from \"./lang_python.ts\";\nimport lang_regex from \"./lang_regex.ts\";\nimport lang_rust from \"./lang_rust.ts\";\nimport lang_shell from \"./lang_shell.ts\";\nimport lang_typescript from \"./lang_typescript.ts\";\n\nexport const grammar_html_css = compose(lang_html_css, _keywords);\nexport const grammar_cpp = compose(lang_cpp, _keywords, _ident);\nexport const grammar_csharp = compose(lang_csharp, _keywords, _ident);\nexport const grammar_typescript = compose(lang_typescript, _keywords, _ident);\nexport const grammar_javascript = compose(lang_javascript, _keywords, _ident);\nexport const grammar_python = compose(lang_python, _keywords, _ident);\nexport const grammar_rust = compose(lang_rust, _keywords, _ident);\nexport const grammar_shell = compose(lang_shell);\nexport const grammar_regex = compose(lang_regex);\nexport const grammar_java = compose(lang_java);\nexport const grammar_go = compose(lang_go, _keywords, _ident);\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    alt: [\n      {\n        ref: \"html\",\n      },\n      {\n        ref: \"css\",\n      },\n    ],\n  },\n  html: {\n    seq: [\n      {\n        ref: \"html_tag\",\n      },\n      \" \",\n      {\n        ref: \"html_entity\",\n      },\n    ],\n  },\n  html_tag: {\n    ref: \"html_self_closing_tag\",\n  },\n  html_self_closing_tag: {\n    seq: [\n      \"<\",\n      {\n        ref: \"html_ident\",\n      },\n      {\n        ref: \"html_attr_list\",\n      },\n      \"/>\",\n    ],\n  },\n  html_attr_list: {\n    seq: [\n      \" \",\n      {\n        ref: \"html_id_attr\",\n      },\n      \" \",\n      {\n        ref: \"html_class_attr\",\n      },\n      \" \",\n      {\n        ref: \"html_style_attr\",\n      },\n    ],\n  },\n  html_id_attr: {\n    seq: [\n      {\n        cls: \"keyword\",\n        span: \"id\",\n      },\n      \"=\",\n      '\"',\n      {\n        ref: \"css_class_id\",\n      },\n      '\"',\n    ],\n  },\n  html_class_attr: {\n    seq: [\n      {\n        cls: \"keyword\",\n        span: \"class\",\n      },\n      \"=\",\n      '\"',\n      {\n        ref: \"css_class_id\",\n      },\n      '\"',\n    ],\n  },\n  html_style_attr: {\n    seq: [\n      {\n        cls: \"keyword\",\n        span: \"style\",\n      },\n      \"=\",\n      '\"',\n      {\n        ref: \"css_property\",\n      },\n      '\"',\n    ],\n  },\n  html_ident: {\n    cls: \"keyword\",\n    span: {\n      seq: [\n        {\n          f: 0.5,\n          opt: {\n            alt: [\"ns:\", \"my-\"],\n          },\n        },\n        {\n          alt: [\"p\", \"div\", \"span\", \"em\", \"strong\"],\n        },\n      ],\n    },\n  },\n  html_entity: {\n    cls: \"comment\",\n    span: {\n      alt: [\"&nbsp;\", \"&lt;\", \"&gt;\", \"&amp;\", \"&apos;\"],\n    },\n  },\n  css: {\n    ref: \"css_rule\",\n  },\n  css_rule: {\n    seq: [\n      {\n        ref: \"css_selector\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"css_property_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  css_selector: {\n    seq: [\n      {\n        alt: [\n          {\n            ref: \"css_id_selector\",\n          },\n          {\n            ref: \"css_class_selector\",\n          },\n        ],\n      },\n      {\n        f: 0.5,\n        opt: {\n          ref: \"css_pseudo_selector\",\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              alt: [\" > \", \" + \"],\n            },\n            {\n              alt: [\n                {\n                  ref: \"css_id_selector\",\n                },\n                {\n                  ref: \"css_class_selector\",\n                },\n              ],\n            },\n            {\n              f: 0.5,\n              opt: {\n                ref: \"css_pseudo_selector\",\n              },\n            },\n          ],\n        },\n      },\n    ],\n  },\n  css_id_selector: {\n    seq: [\n      \"#\",\n      {\n        ref: \"css_class_id\",\n      },\n    ],\n  },\n  css_class_selector: {\n    seq: [\n      \".\",\n      {\n        ref: \"css_class_id\",\n      },\n    ],\n  },\n  css_pseudo_selector: {\n    alt: [\n      {\n        ref: \"css_pseudo_class\",\n      },\n      {\n        ref: \"css_pseudo_element\",\n      },\n    ],\n  },\n  css_pseudo_class: {\n    seq: [\n      \":\",\n      {\n        ref: \"css_pseudo_class_name\",\n      },\n    ],\n  },\n  css_pseudo_class_name: {\n    alt: [\n      {\n        seq: [\n          \"dir\",\n          \"(\",\n          {\n            alt: [\"ltr\", \"rtl\"],\n          },\n          \")\",\n        ],\n      },\n      \"hover\",\n      \"active\",\n      \"focus\",\n      \"valid\",\n      \"invalid\",\n      \"required\",\n      \"optional\",\n    ],\n  },\n  css_pseudo_element: {\n    seq: [\n      \"::\",\n      {\n        ref: \"css_pseudo_element_name\",\n      },\n    ],\n  },\n  css_pseudo_element_name: {\n    alt: [\"before\", \"after\", \"backdrop\"],\n  },\n  css_property_list: {\n    seq: [\n      {\n        ref: \"css_property\",\n      },\n      \"; \",\n      {\n        ref: \"css_property\",\n      },\n      \"; \",\n      {\n        ref: \"css_property\",\n      },\n      \";\",\n    ],\n  },\n  css_property: {\n    seq: [\n      {\n        ref: \"css_property_name\",\n      },\n      \": \",\n      {\n        ref: \"css_property_value\",\n      },\n    ],\n  },\n  css_property_name: {\n    alt: [\n      \"color\",\n      \"box-sizing\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"min\", \"max\"],\n                },\n                \"-\",\n              ],\n            },\n          },\n          {\n            alt: [\"width\", \"height\"],\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  alt: [\"min\", \"max\"],\n                },\n                \"-\",\n              ],\n            },\n          },\n          {\n            alt: [\"inline\", \"block\"],\n          },\n          \"-\",\n          \"size\",\n        ],\n      },\n      \"left\",\n      \"right\",\n      \"top\",\n      \"bottom\",\n      {\n        seq: [\n          \"inset\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"-\",\n                {\n                  alt: [\"inline\", \"block\"],\n                },\n                {\n                  f: 0.5,\n                  opt: {\n                    seq: [\n                      \"-\",\n                      {\n                        alt: [\"start\", \"end\"],\n                      },\n                    ],\n                  },\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          \"flex\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \"-\",\n                {\n                  alt: [\"direction\", \"grow\", \"shrink\", \"basis\", \"flow\", \"wrap\"],\n                },\n              ],\n            },\n          },\n        ],\n      },\n    ],\n  },\n  css_property_value: {\n    alt: [\n      {\n        ref: \"css_std_value\",\n      },\n      {\n        ref: \"css_var_value\",\n      },\n      {\n        ref: \"css_url_value\",\n      },\n      {\n        ref: \"css_color_value\",\n      },\n    ],\n  },\n  css_std_value: {\n    alt: [\"initial\", \"inherit\", \"revert\", \"unset\"],\n  },\n  css_var_value: {\n    seq: [\n      \"var(\",\n      {\n        ref: \"css_var_id\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"css_color_value\",\n            },\n          ],\n        },\n      },\n      \")\",\n    ],\n  },\n  css_url_value: {\n    cls: \"string\",\n    span: {\n      seq: [\n        \"url\",\n        \"(\",\n        {\n          alt: [\n            {\n              ref: \"css_image_url\",\n            },\n            {\n              ref: \"css_font_url\",\n            },\n          ],\n        },\n        \")\",\n      ],\n    },\n  },\n  css_image_url: {\n    cls: \"string\",\n    span: {\n      seq: [\n        {\n          alt: [\"logo\", \"bg\", \"img\", \"hero\", \"footer\"],\n        },\n        {\n          alt: [\".jpg\", \".png\", \".svg\"],\n        },\n      ],\n    },\n  },\n  css_font_url: {\n    cls: \"string\",\n    span: {\n      seq: [\n        {\n          alt: [\"mono\", \"serif\", \"sans-serif\"],\n        },\n        {\n          alt: [\".woff\", \".ttf\"],\n        },\n      ],\n    },\n  },\n  css_var_id: {\n    seq: [\n      \"--\",\n      {\n        alt: [\"color\", \"x\", \"y\"],\n      },\n    ],\n  },\n  css_color_value: {\n    alt: [\n      {\n        seq: [\n          \"#\",\n          {\n            ref: \"css_hex_digit\",\n          },\n          {\n            ref: \"css_hex_digit\",\n          },\n          {\n            ref: \"css_hex_digit\",\n          },\n        ],\n      },\n      {\n        ref: \"css_named_color\",\n      },\n    ],\n  },\n  css_hex_digit: {\n    alt: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"],\n  },\n  css_class_id: {\n    alt: [\n      \"main\",\n      \"nav\",\n      \"header\",\n      \"footer\",\n      \"aside\",\n      \"article\",\n      {\n        seq: [\n          {\n            alt: [\"row\", \"col\"],\n          },\n          \"-\",\n          {\n            alt: [\"sm\", \"md\", \"lg\"],\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            alt: [\"bg\", \"color\"],\n          },\n          \"-\",\n          {\n            ref: \"css_named_color\",\n          },\n        ],\n      },\n    ],\n  },\n  css_named_color: {\n    alt: [\"black\", \"silver\", \"gray\", \"white\", \"red\", \"green\", \"blue\"],\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"c_func\",\n  },\n  start_fproto: {\n    seq: [\n      {\n        ref: \"c_func_proto\",\n      },\n      \";\",\n    ],\n  },\n  start_stmt: {\n    ref: \"c_stmt\",\n  },\n  c_func: {\n    seq: [\n      {\n        ref: \"c_func_proto\",\n      },\n      \" \",\n      {\n        ref: \"c_func_body\",\n      },\n    ],\n  },\n  c_func_proto: {\n    seq: [\n      {\n        ref: \"c_type\",\n      },\n      \" \",\n      {\n        ref: \"c_func_id\",\n      },\n      \"(\",\n      {\n        ref: \"c_param_list\",\n      },\n      \")\",\n    ],\n  },\n  c_type: {\n    seq: [\n      {\n        alt: [\n          {\n            ref: \"kw_char\",\n          },\n          {\n            ref: \"kw_int\",\n          },\n          {\n            ref: \"kw_long\",\n          },\n          {\n            ref: \"kw_short\",\n          },\n          {\n            ref: \"kw_void\",\n          },\n        ],\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \"*\",\n            {\n              f: 0.5,\n              opt: \"*\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  c_param_list: {\n    seq: [\n      {\n        ref: \"c_param\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"c_param\",\n            },\n            {\n              f: 0.5,\n              opt: {\n                seq: [\n                  \",\",\n                  \" \",\n                  {\n                    ref: \"c_param\",\n                  },\n                ],\n              },\n            },\n          ],\n        },\n      },\n    ],\n  },\n  c_param: {\n    seq: [\n      {\n        ref: \"c_type\",\n      },\n      \" \",\n      {\n        f: 0.5,\n        opt: \"&\",\n      },\n      {\n        ref: \"c_var_id\",\n      },\n      {\n        f: 0.5,\n        opt: \"[]\",\n      },\n    ],\n  },\n  c_arg_list: {\n    seq: [\n      {\n        ref: \"c_arg\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"c_arg\",\n            },\n            {\n              f: 0.5,\n              opt: {\n                seq: [\n                  \",\",\n                  \" \",\n                  {\n                    ref: \"c_arg\",\n                  },\n                ],\n              },\n            },\n          ],\n        },\n      },\n    ],\n  },\n  c_arg: {\n    ref: \"c_expr\",\n  },\n  c_func_body: {\n    seq: [\n      \"{\",\n      \" \",\n      {\n        ref: \"c_stmt\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  c_stmt: {\n    alt: [\n      {\n        ref: \"c_var_stmt\",\n      },\n      {\n        ref: \"c_call_stmt\",\n      },\n      {\n        ref: \"c_if_stmt\",\n      },\n      {\n        ref: \"c_return_stmt\",\n      },\n    ],\n  },\n  c_var_stmt: {\n    seq: [\n      {\n        ref: \"c_type\",\n      },\n      \" \",\n      {\n        ref: \"c_var_id\",\n      },\n      \" \",\n      \"=\",\n      \" \",\n      {\n        ref: \"c_expr\",\n      },\n      \";\",\n    ],\n  },\n  c_call_stmt: {\n    seq: [\n      {\n        ref: \"c_func_id\",\n      },\n      \"(\",\n      {\n        ref: \"c_arg_list\",\n      },\n      \")\",\n      \";\",\n    ],\n  },\n  c_if_stmt: {\n    seq: [\n      {\n        ref: \"kw_if\",\n      },\n      \" \",\n      \"(\",\n      {\n        ref: \"c_expr\",\n      },\n      \")\",\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"c_call_stmt\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  c_return_stmt: {\n    seq: [\n      {\n        ref: \"kw_return\",\n      },\n      \" \",\n      {\n        ref: \"c_expr\",\n      },\n      \";\",\n    ],\n  },\n  c_expr: {\n    alt: [\n      {\n        ref: \"c_unary_exp\",\n      },\n      {\n        ref: \"c_binary_exp\",\n      },\n      {\n        ref: \"c_ternary_exp\",\n      },\n    ],\n  },\n  c_unary_exp: {\n    seq: [\n      {\n        alt: [\n          {\n            seq: [\n              \"(*\",\n              {\n                ref: \"c_var_id\",\n              },\n              \")\",\n            ],\n          },\n          {\n            ref: \"c_var_id\",\n          },\n        ],\n      },\n      {\n        alt: [\n          \"--\",\n          \"++\",\n          {\n            seq: [\n              \"->\",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  c_binary_exp: {\n    seq: [\n      \"(\",\n      {\n        ref: \"c_unary_exp\",\n      },\n      \")\",\n      {\n        alt: [\n          {\n            seq: [\n              \" \",\n              \"+\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"-\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"*\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"/\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"|\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"&\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"<<\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \">>\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"==\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"!=\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \">=\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n          {\n            seq: [\n              \" \",\n              \"<=\",\n              \" \",\n              {\n                ref: \"c_var_id\",\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  c_ternary_exp: {\n    seq: [\n      {\n        ref: \"c_unary_exp\",\n      },\n      \" \",\n      \"?\",\n      \" \",\n      {\n        ref: \"c_unary_exp\",\n      },\n      \" \",\n      \":\",\n      \" \",\n      {\n        ref: \"c_unary_exp\",\n      },\n    ],\n  },\n  c_func_id: {\n    alt: [\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: \"std::\",\n          },\n          {\n            ref: \"c_func_id_suffix\",\n          },\n        ],\n      },\n      {\n        ref: \"generic_function_name\",\n      },\n    ],\n  },\n  c_func_id_suffix: {\n    alt: [\n      \"abort\",\n      \"bsearch\",\n      \"calloc\",\n      \"exit\",\n      \"fclose\",\n      \"fflush\",\n      \"fopen\",\n      \"free\",\n      \"malloc\",\n      \"memcmp\",\n      \"memcpy\",\n      \"memmove\",\n      \"memset\",\n      \"printf\",\n      \"qsort\",\n      \"realloc\",\n      \"strcat\",\n      \"strcmp\",\n      \"strcmp\",\n      \"strcpy\",\n      \"strlen\",\n      \"strlen\",\n    ],\n  },\n  c_var_id: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          f: 0.5,\n          opt: {\n            seq: [\n              {\n                alt: [\"p\", \"ptr\"],\n              },\n              \"_\",\n            ],\n          },\n        },\n      },\n      {\n        ref: \"generic_variable_name\",\n      },\n    ],\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"csharp_statement\",\n  },\n  csharp_statement: {\n    alt: [\n      {\n        ref: \"using_declaration\",\n      },\n      {\n        ref: \"using_statement\",\n      },\n      {\n        ref: \"class_declaration\",\n      },\n      {\n        ref: \"method_declaration\",\n      },\n      {\n        ref: \"property_declaration\",\n      },\n      {\n        ref: \"field_declaration\",\n      },\n      {\n        ref: \"variable_declaration\",\n      },\n      {\n        ref: \"if_statement\",\n      },\n      {\n        ref: \"for_statement\",\n      },\n      {\n        ref: \"foreach_statement\",\n      },\n      {\n        ref: \"while_statement\",\n      },\n      {\n        ref: \"switch_statement\",\n      },\n      {\n        ref: \"try_statement\",\n      },\n      {\n        ref: \"return_statement\",\n      },\n      {\n        ref: \"break_statement\",\n      },\n      {\n        ref: \"continue_statement\",\n      },\n      {\n        ref: \"throw_statement\",\n      },\n      {\n        ref: \"expression_statement\",\n      },\n      {\n        flag: \"comments\",\n        inv: false,\n        cond: {\n          ref: \"comment\",\n        },\n      },\n    ],\n  },\n  using_declaration: {\n    seq: [\n      {\n        ref: \"kw_using\",\n      },\n      \" \",\n      {\n        ref: \"csharp_namespace_name\",\n      },\n      \";\",\n    ],\n  },\n  class_declaration: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"access_modifier\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"kw_class\",\n      },\n      \" \",\n      {\n        ref: \"csharp_class_name\",\n      },\n      \" \",\n      \"{\",\n      {\n        ref: \"class_body\",\n      },\n      \"}\",\n    ],\n  },\n  class_body: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"class_member\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              {\n                ref: \"class_member\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  class_member: {\n    alt: [\n      {\n        ref: \"method_declaration\",\n      },\n      {\n        ref: \"property_declaration\",\n      },\n      {\n        ref: \"field_declaration\",\n      },\n    ],\n  },\n  method_declaration: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"access_modifier\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_static\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_async\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"return_type\",\n      },\n      \" \",\n      {\n        ref: \"csharp_method_name\",\n      },\n      \"(\",\n      {\n        ref: \"parameter_list\",\n      },\n      \")\",\n      {\n        ref: \"method_body\",\n      },\n    ],\n  },\n  method_body: {\n    alt: [\n      {\n        seq: [\n          \"{\",\n          {\n            ref: \"statement_list\",\n          },\n          \"}\",\n        ],\n      },\n      {\n        seq: [\n          \"{\",\n          {\n            ref: \"simple_statement\",\n          },\n          \"}\",\n        ],\n      },\n      \"{}\",\n    ],\n  },\n  simple_statement: {\n    alt: [\n      {\n        ref: \"return_statement\",\n      },\n      {\n        ref: \"variable_declaration\",\n      },\n      {\n        seq: [\n          {\n            ref: \"assignment_expression\",\n          },\n          \";\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"method_call\",\n          },\n          \";\",\n        ],\n      },\n    ],\n  },\n  statement_list: {\n    seq: [\n      {\n        ref: \"csharp_statement\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"csharp_statement\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  property_declaration: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"access_modifier\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"csharp_type\",\n      },\n      \" \",\n      {\n        ref: \"csharp_property_name\",\n      },\n      \" \",\n      \"{\",\n      \"get;\",\n      \"set;\",\n      \"}\",\n    ],\n  },\n  field_declaration: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"access_modifier\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_static\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_readonly\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"csharp_type\",\n      },\n      \" \",\n      {\n        ref: \"csharp_identifier\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" = \",\n            {\n              ref: \"csharp_expression\",\n            },\n            {\n              f: 0.5,\n              opt: {\n                ref: \"linq_chain\",\n              },\n            },\n          ],\n        },\n      },\n      \";\",\n    ],\n  },\n  variable_declaration: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_type\",\n          },\n          \" \",\n          {\n            ref: \"csharp_identifier\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \" = \",\n                {\n                  ref: \"csharp_expression\",\n                },\n                {\n                  f: 0.5,\n                  opt: {\n                    ref: \"linq_chain\",\n                  },\n                },\n              ],\n            },\n          },\n          \";\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_var\",\n          },\n          \" \",\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" = \",\n          {\n            ref: \"csharp_expression\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              ref: \"linq_chain\",\n            },\n          },\n          \";\",\n        ],\n      },\n    ],\n  },\n  parameter_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"parameter\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \", \",\n              {\n                ref: \"parameter\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  parameter: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_type\",\n          },\n          \" \",\n          {\n            ref: \"csharp_parameter_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_type\",\n          },\n          \" \",\n          {\n            ref: \"contextual_parameter_name\",\n          },\n        ],\n      },\n    ],\n  },\n  contextual_parameter_name: {\n    alt: [\n      \"id\",\n      \"name\",\n      \"value\",\n      \"count\",\n      \"index\",\n      \"item\",\n      \"entity\",\n      \"model\",\n      \"request\",\n      \"cancellationToken\",\n    ],\n  },\n  argument_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"csharp_expression\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \", \",\n              {\n                ref: \"csharp_expression\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  return_type: {\n    alt: [\n      {\n        ref: \"csharp_type\",\n      },\n      {\n        ref: \"kw_void\",\n      },\n    ],\n  },\n  csharp_type: {\n    alt: [\n      {\n        ref: \"kw_int\",\n      },\n      {\n        ref: \"kw_string\",\n      },\n      {\n        ref: \"kw_bool\",\n      },\n      {\n        ref: \"kw_double\",\n      },\n      {\n        ref: \"kw_float\",\n      },\n      {\n        ref: \"kw_decimal\",\n      },\n      {\n        ref: \"kw_char\",\n      },\n      {\n        ref: \"kw_byte\",\n      },\n      {\n        ref: \"kw_long\",\n      },\n      {\n        ref: \"kw_short\",\n      },\n      {\n        ref: \"kw_uint\",\n      },\n      {\n        ref: \"kw_ulong\",\n      },\n      {\n        ref: \"kw_ushort\",\n      },\n      {\n        ref: \"kw_object\",\n      },\n      {\n        ref: \"kw_void\",\n      },\n      \"DateTime\",\n      \"TimeSpan\",\n      \"Guid\",\n      {\n        ref: \"csharp_class_name\",\n      },\n      {\n        seq: [\n          \"List<\",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \">\",\n        ],\n      },\n      {\n        seq: [\n          \"Dictionary<\",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \", \",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \">\",\n        ],\n      },\n      {\n        seq: [\n          \"IEnumerable<\",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \">\",\n        ],\n      },\n      {\n        seq: [\n          \"Task<\",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \">\",\n        ],\n      },\n      \"Task\",\n      {\n        seq: [\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \"[]\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \"?\",\n        ],\n      },\n    ],\n  },\n  csharp_simple_type: {\n    alt: [\n      {\n        ref: \"kw_int\",\n      },\n      {\n        ref: \"kw_string\",\n      },\n      {\n        ref: \"kw_bool\",\n      },\n      {\n        ref: \"kw_double\",\n      },\n      {\n        ref: \"kw_float\",\n      },\n      {\n        ref: \"kw_decimal\",\n      },\n      {\n        ref: \"kw_char\",\n      },\n      {\n        ref: \"kw_byte\",\n      },\n      \"DateTime\",\n      \"Guid\",\n      {\n        ref: \"csharp_class_name\",\n      },\n    ],\n  },\n  csharp_expression: {\n    alt: [\n      {\n        ref: \"csharp_literal\",\n      },\n      {\n        ref: \"csharp_identifier\",\n      },\n      {\n        ref: \"method_call\",\n      },\n      {\n        ref: \"property_access\",\n      },\n      {\n        ref: \"simple_binary_expression\",\n      },\n      {\n        ref: \"simple_linq_expression\",\n      },\n      {\n        ref: \"new_expression\",\n      },\n      {\n        ref: \"cast_expression\",\n      },\n      {\n        ref: \"lambda_expression\",\n      },\n      {\n        ref: \"conditional_expression\",\n      },\n      {\n        ref: \"await_expression\",\n      },\n      {\n        ref: \"assignment_expression\",\n      },\n      {\n        ref: \"null_check_expression\",\n      },\n      {\n        ref: \"string_interpolation\",\n      },\n    ],\n  },\n  null_check_expression: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" ?? \",\n          {\n            ref: \"csharp_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \"?.\",\n          {\n            ref: \"csharp_property_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \"?.\",\n          {\n            ref: \"csharp_method_name\",\n          },\n          \"()\",\n        ],\n      },\n    ],\n  },\n  string_interpolation: {\n    seq: [\n      '$\"',\n      {\n        ref: \"interpolation_content\",\n      },\n      '\"',\n    ],\n  },\n  interpolation_content: {\n    alt: [\n      {\n        seq: [\n          \"Result: {\",\n          {\n            ref: \"csharp_identifier\",\n          },\n          \"}\",\n        ],\n      },\n      {\n        seq: [\n          \"Count: {\",\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".Count}\",\n        ],\n      },\n      {\n        seq: [\n          \"Value: {\",\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n          \"}\",\n        ],\n      },\n      {\n        seq: [\n          \"Status: {\",\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".Status}\",\n        ],\n      },\n    ],\n  },\n  method_call: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \"(\",\n          {\n            ref: \"argument_list\",\n          },\n          \")\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_method_name\",\n          },\n          \"(\",\n          {\n            ref: \"argument_list\",\n          },\n          \")\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_method_name\",\n          },\n          \"()\",\n        ],\n      },\n    ],\n  },\n  property_access: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"this.\",\n          {\n            ref: \"csharp_property_name\",\n          },\n        ],\n      },\n    ],\n  },\n  simple_binary_expression: {\n    seq: [\n      {\n        ref: \"csharp_identifier\",\n      },\n      \" \",\n      {\n        ref: \"simple_operator\",\n      },\n      \" \",\n      {\n        ref: \"csharp_literal\",\n      },\n    ],\n  },\n  simple_operator: {\n    alt: [\"+\", \"-\", \"*\", \"/\", \"==\", \"!=\", \"<\", \">\", \"&&\", \"||\"],\n  },\n  simple_linq_expression: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"linq_method\",\n          },\n          \"(\",\n          {\n            ref: \"simple_lambda\",\n          },\n          \")\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"linq_method\",\n          },\n          \"()\",\n        ],\n      },\n    ],\n  },\n  linq_chain: {\n    alt: [\n      {\n        seq: [\n          \".\",\n          {\n            ref: \"linq_method\",\n          },\n          \"(\",\n          {\n            ref: \"simple_lambda\",\n          },\n          \")\",\n        ],\n      },\n      {\n        seq: [\n          \".\",\n          {\n            ref: \"linq_method\",\n          },\n          \"()\",\n        ],\n      },\n      {\n        seq: [\n          \".Where(\",\n          {\n            ref: \"simple_lambda\",\n          },\n          \").Select(\",\n          {\n            ref: \"simple_lambda\",\n          },\n          \")\",\n        ],\n      },\n      {\n        seq: [\n          \".Where(\",\n          {\n            ref: \"simple_lambda\",\n          },\n          \").Count()\",\n        ],\n      },\n      {\n        seq: [\n          \".OrderBy(\",\n          {\n            ref: \"simple_lambda\",\n          },\n          \").ToList()\",\n        ],\n      },\n    ],\n  },\n  linq_method: {\n    alt: [\n      \"Where\",\n      \"Select\",\n      \"First\",\n      \"FirstOrDefault\",\n      \"Last\",\n      \"LastOrDefault\",\n      \"Any\",\n      \"All\",\n      \"Count\",\n      \"Sum\",\n      \"Max\",\n      \"Min\",\n      \"Average\",\n      \"ToList\",\n      \"ToArray\",\n      \"OrderBy\",\n      \"OrderByDescending\",\n      \"GroupBy\",\n      \"Distinct\",\n      \"Skip\",\n      \"Take\",\n    ],\n  },\n  simple_lambda: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \" => \",\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \" => \",\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n          \" == \",\n          {\n            ref: \"csharp_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \" => \",\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n          \" != null\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \" => \",\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n          \" > \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n    ],\n  },\n  csharp_literal: {\n    alt: [\n      {\n        ref: \"csharp_string_literal\",\n      },\n      {\n        ref: \"csharp_number_literal\",\n      },\n      {\n        ref: \"csharp_boolean_literal\",\n      },\n      {\n        ref: \"csharp_null_literal\",\n      },\n      {\n        ref: \"csharp_char_literal\",\n      },\n    ],\n  },\n  csharp_string_literal: {\n    alt: [\n      {\n        seq: ['\"', \"Hello World\", '\"'],\n      },\n      {\n        seq: ['\"', \"Test\", '\"'],\n      },\n      {\n        seq: ['\"', \"Example\", '\"'],\n      },\n      {\n        seq: ['\"', \"Data\", '\"'],\n      },\n      {\n        seq: ['\"', \"Config\", '\"'],\n      },\n      {\n        seq: ['\"', \"File\", '\"'],\n      },\n      {\n        seq: ['\"', \"Item\", '\"'],\n      },\n      {\n        seq: ['\"', \"Value\", '\"'],\n      },\n      {\n        seq: ['\"', \"Result\", '\"'],\n      },\n      {\n        seq: ['\"', \"Output\", '\"'],\n      },\n      {\n        seq: ['\"', \"Input\", '\"'],\n      },\n      {\n        seq: ['\"', \"Message\", '\"'],\n      },\n      {\n        seq: ['\"', \"Error\", '\"'],\n      },\n      {\n        seq: ['\"', \"Success\", '\"'],\n      },\n      {\n        seq: ['\"', \"en-US\", '\"'],\n      },\n      {\n        seq: ['\"', \"admin@example.com\", '\"'],\n      },\n      {\n        seq: ['\"', \"https://example.com\", '\"'],\n      },\n      {\n        seq: ['$\"', \"Item {id}\", '\"'],\n      },\n      {\n        seq: ['$\"', \"Count: {count}\", '\"'],\n      },\n      {\n        seq: ['$\"', \"Value: {value}\", '\"'],\n      },\n    ],\n  },\n  csharp_number_literal: {\n    alt: [\n      \"0\",\n      \"1\",\n      \"5\",\n      \"10\",\n      \"25\",\n      \"50\",\n      \"100\",\n      \"120\",\n      \"200\",\n      \"500\",\n      \"1000\",\n      \"60.0\",\n      \"95.5\",\n      \"99.9\",\n      \"3.14159\",\n      \"2.5\",\n      \"0.95\",\n      \"1.0\",\n    ],\n  },\n  csharp_boolean_literal: {\n    alt: [\"true\", \"false\"],\n  },\n  csharp_null_literal: \"null\",\n  csharp_char_literal: {\n    alt: [\"'a'\", \"'Z'\", \"'\\\\n'\", \"'\\\\t'\"],\n  },\n  access_modifier: {\n    alt: [\n      {\n        ref: \"kw_public\",\n      },\n      {\n        ref: \"kw_private\",\n      },\n      {\n        ref: \"kw_protected\",\n      },\n    ],\n  },\n  csharp_identifier: {\n    alt: [\n      {\n        ref: \"generic_variable_name\",\n      },\n      {\n        ref: \"contextual_variable_name\",\n      },\n    ],\n  },\n  contextual_variable_name: {\n    alt: [\n      \"users\",\n      \"items\",\n      \"data\",\n      \"list\",\n      \"result\",\n      \"config\",\n      \"settings\",\n      \"manager\",\n      \"service\",\n      \"repository\",\n      \"context\",\n      \"request\",\n      \"response\",\n      \"model\",\n      \"entity\",\n      \"dto\",\n    ],\n  },\n  csharp_method_name: {\n    alt: [\n      {\n        ref: \"generic_function_name\",\n      },\n      \"Main\",\n      \"ToString\",\n      \"Equals\",\n      \"GetHashCode\",\n      \"GetValue\",\n      \"SetValue\",\n      \"Calculate\",\n      \"Process\",\n      \"Execute\",\n      \"Initialize\",\n      \"Validate\",\n      \"Parse\",\n      \"Format\",\n      \"Convert\",\n      \"Create\",\n      \"Update\",\n      \"Delete\",\n      \"Save\",\n      \"Load\",\n      \"Reset\",\n      \"Start\",\n      \"Stop\",\n      \"Pause\",\n      \"Resume\",\n      \"GetItems\",\n      \"GetData\",\n      \"Calculate\",\n      \"ProcessData\",\n      \"StartTask\",\n      \"EndTask\",\n      \"SaveState\",\n      \"LoadConfig\",\n      \"GenerateReport\",\n      \"SubmitForm\",\n    ],\n  },\n  csharp_property_name: {\n    alt: [\n      \"Id\",\n      \"Name\",\n      \"Value\",\n      \"Count\",\n      \"Length\",\n      \"Text\",\n      \"Content\",\n      \"Data\",\n      \"Result\",\n      \"Size\",\n      \"Width\",\n      \"Height\",\n      \"Index\",\n      \"Status\",\n      \"IsActive\",\n      \"IsValid\",\n      \"IsEnabled\",\n      \"CreatedAt\",\n      \"UpdatedAt\",\n      \"StartTime\",\n      \"EndTime\",\n      \"Duration\",\n      \"Type\",\n      \"Category\",\n      \"Priority\",\n    ],\n  },\n  csharp_parameter_name: {\n    alt: [\n      {\n        ref: \"generic_variable_name\",\n      },\n      \"value\",\n      \"index\",\n      \"item\",\n      \"data\",\n      \"text\",\n      \"name\",\n      \"id\",\n      \"size\",\n      \"count\",\n      \"result\",\n      \"input\",\n      \"output\",\n      \"config\",\n      \"options\",\n      \"request\",\n      \"response\",\n      \"context\",\n      \"cancellationToken\",\n    ],\n  },\n  csharp_class_name: {\n    alt: [\n      {\n        ref: \"generic_class_name\",\n      },\n      \"Program\",\n      \"User\",\n      \"Data\",\n      \"Config\",\n      \"Settings\",\n      \"Service\",\n      \"Manager\",\n      \"Handler\",\n      \"Controller\",\n      \"Repository\",\n      \"Factory\",\n      \"Builder\",\n      \"Processor\",\n      \"Calculator\",\n      \"Validator\",\n      \"Parser\",\n      \"Formatter\",\n      \"Converter\",\n      \"DatabaseContext\",\n      \"ApiController\",\n      \"HomeController\",\n      \"DataController\",\n    ],\n  },\n  csharp_namespace_name: {\n    alt: [\n      \"System\",\n      \"System.Collections.Generic\",\n      \"System.Linq\",\n      \"System.Threading.Tasks\",\n      \"System.ComponentModel.DataAnnotations\",\n      \"Microsoft.AspNetCore.Mvc\",\n      \"Microsoft.EntityFrameworkCore\",\n      \"MyApp.Core\",\n      \"MyApp.Models\",\n      \"MyApp.Services\",\n      \"MyApp.Controllers\",\n      \"MyApp.Data\",\n      \"MyApp.Api\",\n      \"MyApp.Web\",\n      \"MyApp.Common\",\n      \"Company.Product\",\n      \"Company.Services\",\n      \"Example.Data\",\n    ],\n  },\n  comment: {\n    alt: [\n      {\n        ref: \"single_line_comment\",\n      },\n      {\n        ref: \"multi_line_comment\",\n      },\n    ],\n  },\n  single_line_comment: {\n    cls: \"comment\",\n    span: {\n      seq: [\n        \"// \",\n        {\n          ref: \"comment_text\",\n        },\n      ],\n    },\n  },\n  multi_line_comment: {\n    cls: \"comment\",\n    span: {\n      seq: [\n        \"/* \",\n        {\n          ref: \"comment_text\",\n        },\n        \" */\",\n      ],\n    },\n  },\n  comment_text: {\n    alt: [\n      \"TODO: Implement this method\",\n      \"TODO: Add validation\",\n      \"TODO: Optimize performance\",\n      \"FIXME: Handle null values\",\n      \"HACK: Temporary workaround\",\n      \"NOTE: This could be refactored\",\n      \"BUG: Edge case not handled\",\n      \"Calculate result\",\n      \"Process input data\",\n      \"Initialize configuration\",\n      \"Main entry point\",\n      \"Validate input\",\n      \"Save data to database\",\n      \"Generate report\",\n      \"Calculate percentage\",\n      \"Update statistics\",\n      \"Load configuration\",\n      \"Handle events\",\n      \"Track progress\",\n      \"Export data\",\n      \"Import configuration\",\n    ],\n  },\n  new_expression: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_new\",\n          },\n          \" \",\n          {\n            ref: \"csharp_class_name\",\n          },\n          \"(\",\n          {\n            ref: \"argument_list\",\n          },\n          \")\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_new\",\n          },\n          \" \",\n          {\n            ref: \"csharp_class_name\",\n          },\n          \"()\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_new\",\n          },\n          \" \",\n          {\n            ref: \"csharp_type\",\n          },\n          \" {\",\n          {\n            ref: \"object_initializer\",\n          },\n          \"}\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_new\",\n          },\n          \" List<\",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \">()\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_new\",\n          },\n          \" Dictionary<\",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \", \",\n          {\n            ref: \"csharp_simple_type\",\n          },\n          \">()\",\n        ],\n      },\n    ],\n  },\n  cast_expression: {\n    seq: [\n      \"(\",\n      {\n        ref: \"csharp_type\",\n      },\n      \")\",\n      {\n        ref: \"csharp_expression\",\n      },\n    ],\n  },\n  object_initializer: {\n    seq: [\n      {\n        ref: \"property_initializer\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \", \",\n            {\n              ref: \"property_initializer\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  property_initializer: {\n    seq: [\n      {\n        ref: \"csharp_property_name\",\n      },\n      \" = \",\n      {\n        ref: \"csharp_expression\",\n      },\n    ],\n  },\n  using_statement: {\n    seq: [\n      {\n        ref: \"kw_using\",\n      },\n      \" (\",\n      {\n        ref: \"variable_declaration\",\n      },\n      \") \",\n      {\n        ref: \"statement_block\",\n      },\n    ],\n  },\n  if_statement: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_if\",\n          },\n          \" (\",\n          {\n            ref: \"if_condition\",\n          },\n          \") \",\n          {\n            ref: \"statement_block\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \" \",\n                {\n                  ref: \"kw_else\",\n                },\n                \" \",\n                {\n                  ref: \"statement_block\",\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_if\",\n          },\n          \" (\",\n          {\n            ref: \"if_condition\",\n          },\n          \") \",\n          {\n            ref: \"statement_block\",\n          },\n          \" \",\n          {\n            ref: \"kw_else\",\n          },\n          \" \",\n          {\n            ref: \"if_statement\",\n          },\n        ],\n      },\n    ],\n  },\n  if_condition: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" != null\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" == null\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n          \" == \",\n          {\n            ref: \"csharp_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n          \" != \",\n          {\n            ref: \"csharp_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".Count > \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".Any()\",\n        ],\n      },\n    ],\n  },\n  for_statement: {\n    seq: [\n      {\n        ref: \"kw_for\",\n      },\n      \" (\",\n      {\n        ref: \"for_initializer\",\n      },\n      \"; \",\n      {\n        ref: \"for_condition\",\n      },\n      \"; \",\n      {\n        ref: \"for_iterator\",\n      },\n      \") \",\n      {\n        ref: \"statement_block\",\n      },\n    ],\n  },\n  for_initializer: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_int\",\n          },\n          \" \",\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" = \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_var\",\n          },\n          \" \",\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" = \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n    ],\n  },\n  for_condition: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" < \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" <= \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" > \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" >= \",\n          {\n            ref: \"csharp_number_literal\",\n          },\n        ],\n      },\n    ],\n  },\n  for_iterator: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \"++\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \"--\",\n        ],\n      },\n      {\n        seq: [\n          \"++\",\n          {\n            ref: \"csharp_identifier\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"--\",\n          {\n            ref: \"csharp_identifier\",\n          },\n        ],\n      },\n    ],\n  },\n  foreach_statement: {\n    seq: [\n      {\n        ref: \"kw_foreach\",\n      },\n      \" (\",\n      {\n        ref: \"foreach_variable\",\n      },\n      \" \",\n      {\n        ref: \"kw_in\",\n      },\n      \" \",\n      {\n        ref: \"foreach_collection\",\n      },\n      \") \",\n      {\n        ref: \"statement_block\",\n      },\n    ],\n  },\n  foreach_variable: {\n    seq: [\n      {\n        ref: \"csharp_type\",\n      },\n      \" \",\n      {\n        ref: \"csharp_identifier\",\n      },\n    ],\n  },\n  foreach_collection: {\n    alt: [\n      {\n        ref: \"csharp_identifier\",\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".ToList()\",\n        ],\n      },\n      \"items\",\n      \"list\",\n      \"collection\",\n      \"data\",\n    ],\n  },\n  while_statement: {\n    seq: [\n      {\n        ref: \"kw_while\",\n      },\n      \" (\",\n      {\n        ref: \"csharp_expression\",\n      },\n      \") \",\n      {\n        ref: \"statement_block\",\n      },\n    ],\n  },\n  switch_statement: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_switch\",\n          },\n          \" (\",\n          {\n            ref: \"csharp_expression\",\n          },\n          \") {\",\n          {\n            ref: \"switch_cases\",\n          },\n          \"}\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_expression\",\n          },\n          \" \",\n          {\n            ref: \"kw_switch\",\n          },\n          \" {\",\n          {\n            ref: \"switch_expressions\",\n          },\n          \"}\",\n        ],\n      },\n    ],\n  },\n  switch_cases: {\n    seq: [\n      {\n        ref: \"switch_case\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          ref: \"switch_case\",\n        },\n      },\n    ],\n  },\n  switch_case: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_case\",\n          },\n          \" \",\n          {\n            ref: \"csharp_literal\",\n          },\n          \": \",\n          {\n            ref: \"statement_list\",\n          },\n          \" \",\n          {\n            ref: \"kw_break\",\n          },\n          \";\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_default\",\n          },\n          \": \",\n          {\n            ref: \"statement_list\",\n          },\n          \" \",\n          {\n            ref: \"kw_break\",\n          },\n          \";\",\n        ],\n      },\n    ],\n  },\n  switch_expressions: {\n    seq: [\n      {\n        ref: \"switch_expression\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \", \",\n            {\n              ref: \"switch_expression\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  switch_expression: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_literal\",\n          },\n          \" => \",\n          {\n            ref: \"csharp_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"_ => \",\n          {\n            ref: \"csharp_expression\",\n          },\n        ],\n      },\n    ],\n  },\n  try_statement: {\n    seq: [\n      {\n        ref: \"kw_try\",\n      },\n      \" \",\n      {\n        ref: \"statement_block\",\n      },\n      \" \",\n      {\n        ref: \"catch_clauses\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"finally_clause\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  catch_clauses: {\n    seq: [\n      {\n        ref: \"catch_clause\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          ref: \"catch_clause\",\n        },\n      },\n    ],\n  },\n  catch_clause: {\n    seq: [\n      {\n        ref: \"kw_catch\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" (\",\n            {\n              ref: \"csharp_type\",\n            },\n            {\n              f: 0.5,\n              opt: {\n                seq: [\n                  \" \",\n                  {\n                    ref: \"csharp_identifier\",\n                  },\n                ],\n              },\n            },\n            \") \",\n          ],\n        },\n      },\n      {\n        ref: \"statement_block\",\n      },\n    ],\n  },\n  finally_clause: {\n    seq: [\n      {\n        ref: \"kw_finally\",\n      },\n      \" \",\n      {\n        ref: \"statement_block\",\n      },\n    ],\n  },\n  return_statement: {\n    seq: [\n      {\n        ref: \"kw_return\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"csharp_expression\",\n            },\n          ],\n        },\n      },\n      \";\",\n    ],\n  },\n  break_statement: {\n    seq: [\n      {\n        ref: \"kw_break\",\n      },\n      \";\",\n    ],\n  },\n  continue_statement: {\n    seq: [\n      {\n        ref: \"kw_continue\",\n      },\n      \";\",\n    ],\n  },\n  throw_statement: {\n    seq: [\n      {\n        ref: \"kw_throw\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"csharp_expression\",\n            },\n          ],\n        },\n      },\n      \";\",\n    ],\n  },\n  expression_statement: {\n    seq: [\n      {\n        ref: \"csharp_expression\",\n      },\n      \";\",\n    ],\n  },\n  statement_block: {\n    alt: [\n      {\n        seq: [\n          \"{\",\n          {\n            ref: \"statement_list\",\n          },\n          \"}\",\n        ],\n      },\n      \"{}\",\n      {\n        ref: \"csharp_statement\",\n      },\n    ],\n  },\n  lambda_expression: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \" => \",\n          {\n            ref: \"csharp_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"(\",\n          {\n            ref: \"lambda_parameters\",\n          },\n          \") => \",\n          {\n            ref: \"csharp_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"(\",\n          {\n            ref: \"lambda_parameters\",\n          },\n          \") => \",\n          {\n            ref: \"statement_block\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          \" => \",\n          {\n            ref: \"statement_block\",\n          },\n        ],\n      },\n    ],\n  },\n  lambda_parameters: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_type\",\n          },\n          \" \",\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \", \",\n                {\n                  ref: \"csharp_type\",\n                },\n                \" \",\n                {\n                  ref: \"csharp_parameter_name\",\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_parameter_name\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \", \",\n                {\n                  ref: \"csharp_parameter_name\",\n                },\n              ],\n            },\n          },\n        ],\n      },\n    ],\n  },\n  conditional_expression: {\n    seq: [\n      {\n        ref: \"csharp_expression\",\n      },\n      \" ? \",\n      {\n        ref: \"csharp_expression\",\n      },\n      \" : \",\n      {\n        ref: \"csharp_expression\",\n      },\n    ],\n  },\n  await_expression: {\n    seq: [\n      {\n        ref: \"kw_await\",\n      },\n      \" \",\n      {\n        ref: \"csharp_expression\",\n      },\n    ],\n  },\n  assignment_expression: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \" \",\n          {\n            ref: \"assignment_operator\",\n          },\n          \" \",\n          {\n            ref: \"csharp_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"csharp_identifier\",\n          },\n          \".\",\n          {\n            ref: \"csharp_property_name\",\n          },\n          \" \",\n          {\n            ref: \"assignment_operator\",\n          },\n          \" \",\n          {\n            ref: \"csharp_expression\",\n          },\n        ],\n      },\n    ],\n  },\n  assignment_operator: {\n    alt: [\"=\", \"+=\", \"-=\", \"*=\", \"/=\", \"%=\"],\n  },\n  kw_using: \"using\",\n  kw_var: \"var\",\n  kw_new: \"new\",\n  kw_readonly: \"readonly\",\n  kw_if: \"if\",\n  kw_else: \"else\",\n  kw_for: \"for\",\n  kw_foreach: \"foreach\",\n  kw_in: \"in\",\n  kw_while: \"while\",\n  kw_switch: \"switch\",\n  kw_case: \"case\",\n  kw_default: \"default\",\n  kw_break: \"break\",\n  kw_continue: \"continue\",\n  kw_return: \"return\",\n  kw_try: \"try\",\n  kw_catch: \"catch\",\n  kw_finally: \"finally\",\n  kw_throw: \"throw\",\n  kw_await: \"await\",\n  kw_async: \"async\",\n  kw_decimal: \"decimal\",\n  kw_short: \"short\",\n  kw_uint: \"uint\",\n  kw_ulong: \"ulong\",\n  kw_ushort: \"ushort\",\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"ts_statement\",\n  },\n  ts_statement: {\n    alt: [\n      {\n        ref: \"ts_interface_declaration\",\n      },\n      {\n        ref: \"ts_type_declaration\",\n      },\n      {\n        ref: \"ts_enum_declaration\",\n      },\n      {\n        ref: \"ts_namespace_declaration\",\n      },\n      {\n        ref: \"ts_function_signature\",\n      },\n      {\n        ref: \"ts_variable_declaration\",\n      },\n      {\n        flag: \"comments\",\n        inv: false,\n        cond: {\n          ref: \"ts_comment\",\n        },\n      },\n    ],\n  },\n  ts_interface_declaration: {\n    seq: [\n      {\n        ref: \"kw_interface\",\n      },\n      \" \",\n      {\n        ref: \"ts_type_name\",\n      },\n      \" \",\n      {\n        ref: \"ts_type_parameters\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"ts_interface_body\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  ts_interface_body: {\n    seq: [\n      {\n        ref: \"ts_property_signature\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \";\",\n            \" \",\n            {\n              ref: \"ts_property_signature\",\n            },\n          ],\n        },\n      },\n      \";\",\n    ],\n  },\n  ts_property_signature: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"ts_access_modifier\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_readonly\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"ts_property_name\",\n      },\n      {\n        f: 0.5,\n        opt: \"?\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n    ],\n  },\n  ts_type_declaration: {\n    seq: [\n      {\n        ref: \"kw_type\",\n      },\n      \" \",\n      {\n        ref: \"ts_type_name\",\n      },\n      \" \",\n      {\n        ref: \"ts_type_parameters\",\n      },\n      \" \",\n      \"=\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      \";\",\n    ],\n  },\n  ts_type: {\n    alt: [\n      {\n        ref: \"ts_primitive_type\",\n      },\n      {\n        ref: \"ts_union_type\",\n      },\n      {\n        ref: \"ts_intersection_type\",\n      },\n      {\n        ref: \"ts_array_type\",\n      },\n      {\n        ref: \"ts_tuple_type\",\n      },\n      {\n        ref: \"ts_function_type\",\n      },\n      {\n        ref: \"ts_object_type\",\n      },\n      {\n        ref: \"ts_mapped_type\",\n      },\n      {\n        ref: \"ts_conditional_type\",\n      },\n      {\n        ref: \"ts_type_reference\",\n      },\n      {\n        seq: [\n          \"(\",\n          {\n            ref: \"ts_type\",\n          },\n          \")\",\n        ],\n      },\n    ],\n  },\n  ts_primitive_type: {\n    alt: [\n      {\n        ref: \"kw_string\",\n      },\n      {\n        ref: \"kw_number\",\n      },\n      {\n        ref: \"kw_boolean\",\n      },\n      {\n        ref: \"kw_null\",\n      },\n      {\n        ref: \"kw_undefined\",\n      },\n      {\n        ref: \"kw_void\",\n      },\n      {\n        ref: \"kw_any\",\n      },\n      {\n        ref: \"kw_never\",\n      },\n      {\n        ref: \"kw_unknown\",\n      },\n      {\n        ref: \"kw_object\",\n      },\n      {\n        ref: \"kw_symbol\",\n      },\n      {\n        ref: \"kw_bigint\",\n      },\n    ],\n  },\n  ts_union_type: {\n    seq: [\n      {\n        ref: \"ts_type\",\n      },\n      \" \",\n      \"|\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"|\",\n            \" \",\n            {\n              ref: \"ts_type\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_intersection_type: {\n    seq: [\n      {\n        ref: \"ts_type\",\n      },\n      \" \",\n      \"&\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"&\",\n            \" \",\n            {\n              ref: \"ts_type\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_array_type: {\n    seq: [\n      {\n        ref: \"ts_type\",\n      },\n      \"[]\",\n    ],\n  },\n  ts_tuple_type: {\n    seq: [\n      \"[\",\n      {\n        ref: \"ts_type\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"ts_type\",\n            },\n          ],\n        },\n      },\n      \"]\",\n    ],\n  },\n  ts_function_type: {\n    seq: [\n      \"(\",\n      {\n        ref: \"ts_parameter_list\",\n      },\n      \")\",\n      \" \",\n      \"=>\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n    ],\n  },\n  ts_object_type: {\n    seq: [\n      \"{\",\n      \" \",\n      {\n        ref: \"ts_object_member_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  ts_object_member_list: {\n    seq: [\n      {\n        ref: \"ts_object_member\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \";\",\n            \" \",\n            {\n              ref: \"ts_object_member\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_object_member: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_readonly\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"ts_property_name\",\n      },\n      {\n        f: 0.5,\n        opt: \"?\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n    ],\n  },\n  ts_mapped_type: {\n    seq: [\n      \"{\",\n      \" \",\n      {\n        f: 0.5,\n        opt: {\n          alt: [\"+\", \"-\"],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          ref: \"kw_readonly\",\n        },\n      },\n      \" \",\n      \"[\",\n      {\n        ref: \"ts_type_parameter\",\n      },\n      \" \",\n      {\n        ref: \"kw_in\",\n      },\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      \"]\",\n      {\n        f: 0.5,\n        opt: {\n          alt: [\"+\", \"-\"],\n        },\n      },\n      {\n        f: 0.5,\n        opt: \"?\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  ts_conditional_type: {\n    seq: [\n      {\n        ref: \"ts_type\",\n      },\n      \" \",\n      {\n        ref: \"kw_extends\",\n      },\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      \" \",\n      \"?\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      \" \",\n      \":\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n    ],\n  },\n  ts_type_reference: {\n    seq: [\n      {\n        ref: \"ts_type_name\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \"<\",\n            {\n              ref: \"ts_type_argument_list\",\n            },\n            \">\",\n          ],\n        },\n      },\n    ],\n  },\n  ts_type_argument_list: {\n    seq: [\n      {\n        ref: \"ts_type\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"ts_type\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_enum_declaration: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_const\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"kw_enum\",\n      },\n      \" \",\n      {\n        ref: \"ts_enum_name\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"ts_enum_member_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  ts_enum_member_list: {\n    seq: [\n      {\n        ref: \"ts_enum_member\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"ts_enum_member\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_enum_member: {\n    seq: [\n      {\n        ref: \"ts_identifier\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \"=\",\n            \" \",\n            {\n              alt: [\n                {\n                  ref: \"ts_number_literal\",\n                },\n                {\n                  ref: \"ts_string_literal\",\n                },\n              ],\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_namespace_declaration: {\n    seq: [\n      {\n        ref: \"kw_namespace\",\n      },\n      \" \",\n      {\n        ref: \"ts_namespace_name\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"ts_namespace_body\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  ts_namespace_body: {\n    f: 0.5,\n    opt: {\n      ref: \"ts_statement\",\n    },\n  },\n  ts_function_signature: {\n    seq: [\n      {\n        ref: \"kw_function\",\n      },\n      \" \",\n      {\n        ref: \"ts_function_name\",\n      },\n      \" \",\n      {\n        ref: \"ts_type_parameters\",\n      },\n      \" \",\n      \"(\",\n      {\n        ref: \"ts_parameter_list\",\n      },\n      \")\",\n      \" \",\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \":\",\n            \" \",\n            {\n              ref: \"ts_type\",\n            },\n          ],\n        },\n      },\n      \";\",\n    ],\n  },\n  ts_variable_declaration: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_declare\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          alt: [\n            {\n              ref: \"kw_const\",\n            },\n            {\n              ref: \"kw_let\",\n            },\n          ],\n        },\n      },\n      \" \",\n      {\n        ref: \"ts_identifier\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n      \";\",\n    ],\n  },\n  ts_parameter_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"ts_parameter\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \",\",\n              \" \",\n              {\n                ref: \"ts_parameter\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  ts_parameter: {\n    f: 0.5,\n    opt: {\n      alt: [\n        {\n          ref: \"ts_rest_parameter\",\n        },\n        {\n          ref: \"ts_optional_parameter\",\n        },\n        {\n          ref: \"ts_required_parameter\",\n        },\n      ],\n    },\n  },\n  ts_required_parameter: {\n    seq: [\n      {\n        ref: \"ts_identifier\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n    ],\n  },\n  ts_optional_parameter: {\n    seq: [\n      {\n        ref: \"ts_identifier\",\n      },\n      \"?\",\n      \":\",\n      \" \",\n      {\n        ref: \"ts_type\",\n      },\n    ],\n  },\n  ts_rest_parameter: {\n    seq: [\n      \"...\",\n      {\n        ref: \"ts_identifier\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"ts_array_type\",\n      },\n    ],\n  },\n  ts_type_parameters: {\n    f: 0.5,\n    opt: {\n      seq: [\n        \"<\",\n        {\n          ref: \"ts_type_parameter_list\",\n        },\n        \">\",\n      ],\n    },\n  },\n  ts_type_parameter_list: {\n    seq: [\n      {\n        ref: \"ts_type_parameter\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"ts_type_parameter\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_type_parameter: {\n    seq: [\n      {\n        ref: \"ts_identifier\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"kw_extends\",\n            },\n            \" \",\n            {\n              ref: \"ts_type\",\n            },\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"=\",\n            \" \",\n            {\n              ref: \"ts_type\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  ts_property_name: {\n    alt: [\n      {\n        ref: \"ts_identifier\",\n      },\n      {\n        ref: \"ts_string_literal\",\n      },\n    ],\n  },\n  ts_access_modifier: {\n    alt: [\n      {\n        ref: \"kw_public\",\n      },\n      {\n        ref: \"kw_private\",\n      },\n      {\n        ref: \"kw_protected\",\n      },\n    ],\n  },\n  ts_type_name: {\n    ref: \"ts_identifier\",\n  },\n  ts_enum_name: {\n    ref: \"ts_identifier\",\n  },\n  ts_namespace_name: {\n    ref: \"ts_identifier\",\n  },\n  ts_function_name: {\n    ref: \"ts_identifier\",\n  },\n  ts_identifier: {\n    alt: [\n      \"T\",\n      \"U\",\n      \"V\",\n      \"K\",\n      \"P\",\n      \"R\",\n      \"Props\",\n      \"State\",\n      \"Config\",\n      \"Options\",\n      \"Result\",\n      \"UserData\",\n      \"ApiResponse\",\n      \"Callback\",\n      \"Handler\",\n      \"EventData\",\n      \"Partial\",\n      \"Readonly\",\n      \"Record\",\n      \"Pick\",\n      \"Omit\",\n      \"Exclude\",\n      \"Extract\",\n      \"NonNullable\",\n      \"Required\",\n      \"ReturnType\",\n      \"InstanceType\",\n      \"Parameters\",\n      \"ConstructorParameters\",\n      \"ThisType\",\n    ],\n  },\n  ts_number_literal: {\n    cls: \"number\",\n    span: {\n      alt: [\"0\", \"1\", \"2\", \"42\", \"100\", \"200\", \"404\", \"500\"],\n    },\n  },\n  ts_string_literal: {\n    cls: \"string\",\n    span: {\n      alt: ['\"error\"', '\"success\"', '\"pending\"', '\"data\"', '\"key\"', '\"value\"'],\n    },\n  },\n  ts_comment: {\n    cls: \"comment\",\n    span: {\n      alt: [\n        {\n          seq: [\n            \"//\",\n            \" \",\n            {\n              ref: \"ts_comment_text\",\n            },\n          ],\n        },\n        {\n          seq: [\n            \"/*\",\n            \" \",\n            {\n              ref: \"ts_comment_text\",\n            },\n            \" \",\n            \"*/\",\n          ],\n        },\n        {\n          seq: [\n            \"/**\",\n            \" \",\n            {\n              ref: \"ts_comment_text\",\n            },\n            \" \",\n            \"*/\",\n          ],\n        },\n      ],\n    },\n  },\n  ts_comment_text: {\n    alt: [\n      \"Type definition\",\n      \"Interface for API response\",\n      \"Generic type parameter\",\n      \"Utility type\",\n      \"TODO: Add validation\",\n      \"FIXME: Handle edge case\",\n      \"@param description\",\n      \"@returns description\",\n      \"@template T The type parameter\",\n      \"@deprecated Use alternative instead\",\n    ],\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"js_variable_statement\",\n  },\n  js_variable_statement: {\n    seq: [\n      {\n        alt: [\n          {\n            ref: \"kw_let\",\n          },\n          {\n            ref: \"kw_const\",\n          },\n        ],\n      },\n      \" \",\n      {\n        ref: \"js_var_id\",\n      },\n      \" \",\n      \"=\",\n      \" \",\n      {\n        ref: \"js_primary_exp\",\n      },\n      \";\",\n    ],\n  },\n  js_primary_exp: {\n    alt: [\n      {\n        ref: \"js_literal\",\n      },\n      {\n        ref: \"js_array_literal\",\n      },\n      {\n        ref: \"js_object_literal\",\n      },\n      {\n        ref: \"js_function_exp\",\n      },\n      {\n        ref: \"js_call_exp\",\n      },\n    ],\n  },\n  js_array_literal: {\n    seq: [\n      \"[\",\n      {\n        ref: \"js_primary_exp\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"js_primary_exp\",\n            },\n          ],\n        },\n      },\n      \"]\",\n    ],\n  },\n  js_object_literal: {\n    seq: [\n      \"{\",\n      \" \",\n      {\n        ref: \"js_property_name\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"js_property_value\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  js_property_name: {\n    alt: [\n      {\n        ref: \"js_id\",\n      },\n      {\n        seq: [\n          \"[\",\n          {\n            ref: \"js_id\",\n          },\n          \"]\",\n        ],\n      },\n    ],\n  },\n  js_property_value: {\n    ref: \"js_primary_exp\",\n  },\n  js_function_exp: {\n    seq: [\n      {\n        ref: \"js_function_args\",\n      },\n      \" \",\n      \"=>\",\n      \" \",\n      {\n        ref: \"js_primary_exp\",\n      },\n    ],\n  },\n  js_function_args: {\n    alt: [\n      {\n        ref: \"js_single_arg\",\n      },\n      {\n        ref: \"js_multi_args\",\n      },\n    ],\n  },\n  js_single_arg: {\n    ref: \"js_arg\",\n  },\n  js_multi_args: {\n    seq: [\n      \"(\",\n      {\n        ref: \"js_arg\",\n      },\n      \",\",\n      \" \",\n      {\n        ref: \"js_arg\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"js_tail_arg\",\n            },\n          ],\n        },\n      },\n      \")\",\n    ],\n  },\n  js_arg: {\n    seq: [\n      {\n        ref: \"js_var_id\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"=\",\n            \" \",\n            {\n              ref: \"js_primary_exp\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  js_tail_arg: {\n    seq: [\n      \"...\",\n      {\n        ref: \"js_var_id\",\n      },\n    ],\n  },\n  js_call_exp: {\n    seq: [\n      {\n        ref: \"js_func_id\",\n      },\n      \"(\",\n      {\n        ref: \"js_primary_exp\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"js_primary_exp\",\n            },\n          ],\n        },\n      },\n      \")\",\n    ],\n  },\n  js_var_id: {\n    ref: \"js_id\",\n  },\n  js_func_id: {\n    alt: [\n      \"all\",\n      \"entries\",\n      \"every\",\n      \"filter\",\n      \"find\",\n      \"has\",\n      \"includes\",\n      \"keys\",\n      \"length\",\n      \"map\",\n      \"size\",\n      \"values\",\n    ],\n  },\n  js_id: {\n    alt: [\n      \"a\",\n      \"b\",\n      \"c\",\n      \"x\",\n      \"y\",\n      \"i\",\n      \"j\",\n      \"char\",\n      \"end\",\n      \"err\",\n      \"event\",\n      \"id\",\n      \"item\",\n      \"key\",\n      \"length\",\n      \"line\",\n      \"list\",\n      \"map\",\n      \"name\",\n      \"path\",\n      \"pos\",\n      \"start\",\n      \"str\",\n      \"text\",\n      \"value\",\n    ],\n  },\n  js_literal: {\n    alt: [\n      {\n        ref: \"kw_null\",\n      },\n      {\n        ref: \"kw_true\",\n      },\n      {\n        ref: \"kw_false\",\n      },\n      {\n        ref: \"js_string_literal\",\n      },\n      {\n        ref: \"js_template_literal\",\n      },\n    ],\n  },\n  js_string_literal: {\n    cls: \"string\",\n    span: {\n      alt: ['\"a\"', '\"b\"', '\"c\"'],\n    },\n  },\n  js_template_literal: {\n    cls: \"string\",\n    span: {\n      seq: [\n        \"`abc=${\",\n        {\n          ref: \"js_id\",\n        },\n        \"}`\",\n      ],\n    },\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"python_statement\",\n  },\n  python_statement: {\n    alt: [\n      {\n        ref: \"python_function_definition\",\n      },\n      {\n        ref: \"python_class_definition\",\n      },\n      {\n        ref: \"python_assign\",\n      },\n      {\n        ref: \"python_return\",\n      },\n      {\n        flag: \"comments\",\n        inv: false,\n        cond: {\n          ref: \"python_comment\",\n        },\n      },\n    ],\n  },\n  python_function_definition: {\n    seq: [\n      {\n        ref: \"kw_def\",\n      },\n      \" \",\n      {\n        ref: \"python_function_name\",\n      },\n      \"(\",\n      {\n        ref: \"python_arguments\",\n      },\n      \")\",\n      {\n        flag: \"types\",\n        inv: false,\n        cond: {\n          seq: [\n            \" \",\n            \"->\",\n            \" \",\n            {\n              ref: \"python_type\",\n            },\n          ],\n        },\n      },\n      \":\",\n    ],\n  },\n  python_class_definition: {\n    seq: [\n      {\n        ref: \"kw_class\",\n      },\n      \" \",\n      {\n        ref: \"python_class_name\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \"(\",\n            {\n              ref: \"python_class_name\",\n            },\n            \")\",\n          ],\n        },\n      },\n      \":\",\n    ],\n  },\n  python_assign: {\n    seq: [\n      {\n        ref: \"python_variable_name\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \"[\",\n            {\n              ref: \"python_literal\",\n            },\n            \"]\",\n          ],\n        },\n      },\n      \" \",\n      \"=\",\n      \" \",\n      {\n        ref: \"python_expression\",\n      },\n    ],\n  },\n  python_return: {\n    seq: [\n      {\n        ref: \"kw_return\",\n      },\n      \" \",\n      {\n        ref: \"python_expression\",\n      },\n    ],\n  },\n  python_arguments: {\n    seq: [\n      {\n        ref: \"python_argument\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"python_argument\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  python_argument: {\n    seq: [\n      {\n        ref: \"python_variable_name\",\n      },\n      {\n        flag: \"types\",\n        inv: false,\n        cond: {\n          seq: [\n            \":\",\n            \" \",\n            {\n              ref: \"python_type\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  python_expression: {\n    alt: [\n      {\n        ref: \"python_literal\",\n      },\n      {\n        ref: \"python_unary_operation\",\n      },\n      {\n        ref: \"python_binary_operation\",\n      },\n      {\n        seq: [\n          \"(\",\n          {\n            ref: \"python_expression\",\n          },\n          \")\",\n        ],\n      },\n      {\n        ref: \"python_list_definition\",\n      },\n      {\n        ref: \"python_dict_definition\",\n      },\n      {\n        ref: \"python_function_call\",\n      },\n    ],\n  },\n  python_unary_operation: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"python_expression\",\n          },\n          \" \",\n          {\n            ref: \"kw_is\",\n          },\n          \" \",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  ref: \"kw_not\",\n                },\n                \" \",\n              ],\n            },\n          },\n          {\n            ref: \"kw_None\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_not\",\n          },\n          \" \",\n          {\n            ref: \"python_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"~\",\n          {\n            ref: \"python_expression\",\n          },\n        ],\n      },\n    ],\n  },\n  python_binary_operation: {\n    seq: [\n      {\n        ref: \"python_expression\",\n      },\n      \" \",\n      {\n        ref: \"python_binary_operator\",\n      },\n      \" \",\n      {\n        ref: \"python_expression\",\n      },\n    ],\n  },\n  python_function_call: {\n    seq: [\n      {\n        ref: \"python_function_name\",\n      },\n      \"(\",\n      {\n        ref: \"python_function_arg\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"python_function_arg\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  python_function_arg: {\n    seq: [\n      {\n        ref: \"python_variable_name\",\n      },\n      \"=\",\n      {\n        ref: \"python_expression\",\n      },\n    ],\n  },\n  python_type: {\n    alt: [\n      {\n        ref: \"python_primitive_type\",\n      },\n      {\n        seq: [\n          \"list[\",\n          {\n            ref: \"python_primitive_type\",\n          },\n          \"]\",\n        ],\n      },\n      {\n        seq: [\n          \"dict[\",\n          {\n            ref: \"python_primitive_type\",\n          },\n          \",\",\n          \" \",\n          {\n            ref: \"python_primitive_type\",\n          },\n          \"]\",\n        ],\n      },\n      {\n        seq: [\n          \"tuple[\",\n          {\n            ref: \"python_primitive_type\",\n          },\n          \",\",\n          \" \",\n          \"...]\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"python_primitive_type\",\n          },\n          \" \",\n          \"|\",\n          \" \",\n          {\n            ref: \"python_primitive_type\",\n          },\n        ],\n      },\n    ],\n  },\n  python_primitive_type: {\n    alt: [\n      {\n        ref: \"python_class_name\",\n      },\n      {\n        ref: \"kw_int\",\n      },\n      {\n        ref: \"kw_str\",\n      },\n      {\n        ref: \"kw_bool\",\n      },\n      {\n        ref: \"kw_float\",\n      },\n      {\n        ref: \"kw_None\",\n      },\n    ],\n  },\n  python_binary_operator: {\n    alt: [\n      \"+\",\n      \"-\",\n      \"*\",\n      \"/\",\n      \"//\",\n      \"%\",\n      \"**\",\n      \"@\",\n      \"&\",\n      \"|\",\n      \">\",\n      \"<\",\n      \">=\",\n      \"<=\",\n      \"==\",\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  ref: \"kw_not\",\n                },\n                \" \",\n              ],\n            },\n          },\n          {\n            ref: \"kw_in\",\n          },\n        ],\n      },\n      \"^\",\n    ],\n  },\n  python_list_definition: {\n    seq: [\n      \"[\",\n      {\n        ref: \"python_expression\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"python_expression\",\n            },\n          ],\n        },\n      },\n      \"]\",\n    ],\n  },\n  python_dict_definition: {\n    seq: [\n      \"{\",\n      {\n        ref: \"python_dict_key_value_pair\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"python_dict_key_value_pair\",\n            },\n          ],\n        },\n      },\n      \"}\",\n    ],\n  },\n  python_dict_key_value_pair: {\n    seq: [\n      {\n        ref: \"python_literal\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"python_expression\",\n      },\n    ],\n  },\n  python_literal: {\n    seq: [\n      {\n        flag: \"numbers\",\n        inv: false,\n        cond: {\n          alt: [\n            {\n              ref: \"python_string_literal\",\n            },\n            {\n              ref: \"python_number_literal\",\n            },\n          ],\n        },\n      },\n      {\n        flag: \"numbers\",\n        inv: true,\n        cond: {\n          ref: \"python_string_literal\",\n        },\n      },\n    ],\n  },\n  python_string_literal: {\n    alt: [\n      {\n        cls: \"string\",\n        span: {\n          seq: [\n            '\"',\n            {\n              ref: \"python_string_value\",\n            },\n            '\"',\n          ],\n        },\n      },\n      {\n        cls: \"string\",\n        span: {\n          seq: [\n            \"'\",\n            {\n              ref: \"python_string_value\",\n            },\n            \"'\",\n          ],\n        },\n      },\n      {\n        cls: \"string\",\n        span: {\n          seq: [\n            '\"\"\"',\n            {\n              ref: \"python_string_value\",\n            },\n            '\"\"\"',\n          ],\n        },\n      },\n      {\n        cls: \"string\",\n        span: {\n          seq: [\n            \"'''\",\n            {\n              ref: \"python_string_value\",\n            },\n            \"'''\",\n          ],\n        },\n      },\n    ],\n  },\n  python_variable_name: {\n    ref: \"generic_variable_name\",\n  },\n  python_function_name: {\n    alt: [\n      \"__call__\",\n      \"__enter__\",\n      \"__eq__\",\n      \"__exit__\",\n      \"__getattr__\",\n      \"__getitem__\",\n      \"__init__\",\n      \"__iter__\",\n      \"__len__\",\n      \"__ne__\",\n      \"__new__\",\n      \"__repr__\",\n      \"__setattr__\",\n      \"__setitem__\",\n      \"__str__\",\n      {\n        ref: \"generic_function_name\",\n      },\n    ],\n  },\n  python_class_name: {\n    ref: \"generic_class_name\",\n  },\n  python_string_value: {\n    alt: [\n      \".\",\n      \"abc\",\n      \"channels_first\",\n      \"channels_last\",\n      \"constant\",\n      \"dtype\",\n      \"int\",\n      \"jax\",\n      \"name\",\n      \"same\",\n      \"shape\",\n      \"tensorflow\",\n      \"torch\",\n      \"uvw\",\n      \"valid\",\n      \"x\",\n      \"xyz\",\n      \"zeros\",\n    ],\n  },\n  python_number_literal: {\n    cls: \"number\",\n    span: {\n      alt: [\n        \"1\",\n        \"0.001\",\n        \"0.01\",\n        \"0.1\",\n        \"0.2\",\n        \"0.25\",\n        \"0.3\",\n        \"0.4\",\n        \"0.5\",\n        \"0.6\",\n        \"0.7\",\n        \"0.8\",\n        \"0.9\",\n        \"1.5\",\n        \"10\",\n        \"100\",\n        \"1000\",\n        \"1024\",\n        \"11\",\n        \"12\",\n        \"128\",\n        \"13\",\n        \"14\",\n        \"15\",\n        \"16\",\n        \"17\",\n        \"1e-05\",\n        \"1e-06\",\n        \"2\",\n        \"20\",\n        \"200\",\n        \"24\",\n        \"25\",\n        \"255\",\n        \"256\",\n        \"3\",\n        \"30\",\n        \"32\",\n        \"4\",\n        \"40\",\n        \"5\",\n        \"50.0\",\n        \"512\",\n        \"6\",\n        \"60\",\n        \"64\",\n        \"7\",\n        \"8\",\n        \"9\",\n      ],\n    },\n  },\n  python_comment: {\n    cls: \"comment\",\n    span: {\n      alt: [\n        \"# type: ignore\",\n        \"# TODO: fix\",\n        \"# TODO: implement\",\n        \"#!/usr/bin/env python\",\n      ],\n    },\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"rust_statement\",\n  },\n  rust_statement: {\n    alt: [\n      {\n        ref: \"rust_function_definition\",\n      },\n      {\n        ref: \"rust_struct_definition\",\n      },\n      {\n        ref: \"rust_assign\",\n      },\n      {\n        ref: \"rust_return\",\n      },\n      {\n        flag: \"comments\",\n        inv: false,\n        cond: {\n          ref: \"rust_comment\",\n        },\n      },\n    ],\n  },\n  rust_function_definition: {\n    seq: [\n      {\n        ref: \"kw_fn\",\n      },\n      \" \",\n      {\n        ref: \"rust_function_name\",\n      },\n      \"(\",\n      {\n        ref: \"rust_arguments\",\n      },\n      \")\",\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"->\",\n            \" \",\n            {\n              ref: \"rust_type\",\n            },\n          ],\n        },\n      },\n      \"{\",\n    ],\n  },\n  rust_struct_definition: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_pub\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"kw_struct\",\n      },\n      \" \",\n      {\n        ref: \"rust_struct_name\",\n      },\n      \" \",\n      \"{\",\n    ],\n  },\n  rust_assign: {\n    seq: [\n      {\n        ref: \"kw_let\",\n      },\n      \" \",\n      {\n        ref: \"rust_variable_name\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \":\",\n            \" \",\n            {\n              ref: \"rust_type\",\n            },\n          ],\n        },\n      },\n      \" \",\n      \"=\",\n      \" \",\n      {\n        ref: \"rust_expression\",\n      },\n      \";\",\n    ],\n  },\n  rust_return: {\n    seq: [\n      {\n        ref: \"kw_return\",\n      },\n      \" \",\n      {\n        ref: \"rust_expression\",\n      },\n      \";\",\n    ],\n  },\n  rust_arguments: {\n    seq: [\n      {\n        ref: \"rust_argument\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"rust_argument\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  rust_argument: {\n    seq: [\n      {\n        ref: \"rust_variable_name\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"rust_type\",\n      },\n    ],\n  },\n  rust_expression: {\n    alt: [\n      {\n        ref: \"rust_literal\",\n      },\n      {\n        ref: \"rust_unary_operation\",\n      },\n      {\n        ref: \"rust_binary_operation\",\n      },\n      {\n        seq: [\n          \"(\",\n          {\n            ref: \"rust_expression\",\n          },\n          \")\",\n        ],\n      },\n      {\n        ref: \"rust_array_definition\",\n      },\n      {\n        ref: \"rust_struct_instantiation\",\n      },\n      {\n        ref: \"rust_function_call\",\n      },\n    ],\n  },\n  rust_unary_operation: {\n    alt: [\n      {\n        seq: [\n          \"!\",\n          {\n            ref: \"rust_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"-\",\n          {\n            ref: \"rust_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"*\",\n          {\n            ref: \"rust_expression\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"&\",\n          {\n            ref: \"rust_expression\",\n          },\n        ],\n      },\n    ],\n  },\n  rust_binary_operation: {\n    seq: [\n      {\n        ref: \"rust_expression\",\n      },\n      \" \",\n      {\n        ref: \"rust_binary_operator\",\n      },\n      \" \",\n      {\n        ref: \"rust_expression\",\n      },\n    ],\n  },\n  rust_function_call: {\n    seq: [\n      {\n        ref: \"rust_function_name\",\n      },\n      \"(\",\n      {\n        f: 0.5,\n        opt: {\n          ref: \"rust_function_args\",\n        },\n      },\n      \")\",\n    ],\n  },\n  rust_function_args: {\n    seq: [\n      {\n        ref: \"rust_expression\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"rust_expression\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  rust_type: {\n    alt: [\n      {\n        ref: \"rust_primitive_type\",\n      },\n      {\n        seq: [\n          \"&\",\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  ref: \"kw_mut\",\n                },\n                \" \",\n              ],\n            },\n          },\n          {\n            ref: \"rust_type\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"rust_type\",\n          },\n          \" \",\n          \"<\",\n          {\n            ref: \"rust_type\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \",\",\n                \" \",\n                {\n                  ref: \"rust_type\",\n                },\n              ],\n            },\n          },\n          \">\",\n        ],\n      },\n      {\n        seq: [\n          \"[\",\n          {\n            ref: \"rust_type\",\n          },\n          \";\",\n          \" \",\n          {\n            ref: \"rust_number_literal\",\n          },\n          \"]\",\n        ],\n      },\n      {\n        seq: [\n          \"(\",\n          {\n            ref: \"rust_type\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \",\",\n                \" \",\n                {\n                  ref: \"rust_type\",\n                },\n              ],\n            },\n          },\n          \")\",\n        ],\n      },\n    ],\n  },\n  rust_primitive_type: {\n    alt: [\n      {\n        ref: \"rust_struct_name\",\n      },\n      {\n        ref: \"kw_u32\",\n      },\n      {\n        ref: \"kw_u64\",\n      },\n      {\n        ref: \"kw_i32\",\n      },\n      {\n        ref: \"kw_i64\",\n      },\n      {\n        ref: \"kw_f32\",\n      },\n      {\n        ref: \"kw_f64\",\n      },\n      {\n        ref: \"kw_usize\",\n      },\n      {\n        ref: \"kw_isize\",\n      },\n      {\n        ref: \"kw_bool\",\n      },\n      {\n        ref: \"kw_char\",\n      },\n      {\n        ref: \"kw_str\",\n      },\n      \"String\",\n    ],\n  },\n  rust_binary_operator: {\n    alt: [\n      \"+\",\n      \"-\",\n      \"*\",\n      \"/\",\n      \"%\",\n      \"&&\",\n      \"||\",\n      \"==\",\n      \"!=\",\n      \"<\",\n      \"<=\",\n      \">\",\n      \">=\",\n      \"<<\",\n      \">>\",\n      \"&\",\n      \"|\",\n      \"^\",\n    ],\n  },\n  rust_array_definition: {\n    alt: [\n      {\n        seq: [\n          \"[\",\n          {\n            ref: \"rust_expression\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                \",\",\n                \" \",\n                {\n                  ref: \"rust_expression\",\n                },\n              ],\n            },\n          },\n          \"]\",\n        ],\n      },\n      {\n        seq: [\n          \"[\",\n          {\n            ref: \"rust_expression\",\n          },\n          \";\",\n          \" \",\n          {\n            ref: \"rust_number_literal\",\n          },\n          \"]\",\n        ],\n      },\n    ],\n  },\n  rust_struct_instantiation: {\n    seq: [\n      {\n        ref: \"rust_struct_name\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"rust_struct_fields\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  rust_struct_fields: {\n    seq: [\n      {\n        ref: \"rust_field_assignment\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \",\",\n            \" \",\n            {\n              ref: \"rust_field_assignment\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  rust_field_assignment: {\n    seq: [\n      {\n        ref: \"rust_variable_name\",\n      },\n      \":\",\n      \" \",\n      {\n        ref: \"rust_expression\",\n      },\n    ],\n  },\n  rust_literal: {\n    alt: [\n      {\n        ref: \"rust_string_literal\",\n      },\n      {\n        ref: \"rust_number_literal\",\n      },\n      {\n        ref: \"rust_boolean_literal\",\n      },\n      {\n        ref: \"rust_char_literal\",\n      },\n    ],\n  },\n  rust_string_literal: {\n    cls: \"string\",\n    span: {\n      seq: [\n        '\"',\n        {\n          ref: \"rust_string_value\",\n        },\n        '\"',\n      ],\n    },\n  },\n  rust_char_literal: {\n    cls: \"string\",\n    span: {\n      seq: [\n        \"'\",\n        {\n          ref: \"rust_char_value\",\n        },\n        \"'\",\n      ],\n    },\n  },\n  rust_boolean_literal: {\n    alt: [\n      {\n        ref: \"kw_true\",\n      },\n      {\n        ref: \"kw_false\",\n      },\n    ],\n  },\n  rust_variable_name: {\n    ref: \"generic_variable_name\",\n  },\n  rust_function_name: {\n    ref: \"generic_function_name\",\n  },\n  rust_struct_name: {\n    ref: \"generic_class_name\",\n  },\n  rust_string_value: {\n    alt: [\n      \"\",\n      \"Hello, world!\",\n      \"Error\",\n      \"OK\",\n      \"Test\",\n      \"Name\",\n      \"Value\",\n      \"Message\",\n      \"Key\",\n      \"Input\",\n      \"Output\",\n      \"Data\",\n      \"Result\",\n      \"Success\",\n      \"Failure\",\n      \"Warning\",\n      \"Info\",\n      \"Debug\",\n      \"Rust\",\n      \"Sample\",\n    ],\n  },\n  rust_char_value: {\n    alt: [\"a\", \"b\", \"c\", \"x\", \"y\", \"z\", \"0\", \"1\", \"2\", \"\\\\n\", \"\\\\t\", \"\\\\r\"],\n  },\n  rust_number_literal: {\n    cls: \"number\",\n    span: {\n      alt: [\n        \"0\",\n        \"1\",\n        \"2\",\n        \"3\",\n        \"4\",\n        \"5\",\n        \"10\",\n        \"100\",\n        \"123i32\",\n        \"0.0\",\n        \"0.5\",\n        \"1.5\",\n        \"2.5_f64\",\n        \"3.14f32\",\n        \"42\",\n        \"255\",\n        \"256\",\n        \"1024\",\n        \"1_000_000\",\n      ],\n    },\n  },\n  rust_comment: {\n    cls: \"comment\",\n    span: {\n      alt: [\n        {\n          seq: [\n            \"//\",\n            \" \",\n            {\n              ref: \"rust_comment_text\",\n            },\n          ],\n        },\n        {\n          seq: [\n            \"//!\",\n            \" \",\n            {\n              ref: \"rust_comment_text\",\n            },\n          ],\n        },\n        {\n          seq: [\n            \"/*\",\n            \" \",\n            {\n              ref: \"rust_comment_text\",\n            },\n            \" \",\n            \"*/\",\n          ],\n        },\n        {\n          seq: [\n            \"/*!\",\n            \" \",\n            {\n              ref: \"rust_comment_text\",\n            },\n            \" \",\n            \"*/\",\n          ],\n        },\n      ],\n    },\n  },\n  rust_comment_text: {\n    alt: [\n      \"TODO: Implement error handling\",\n      \"FIXME: Potential race condition\",\n      \"Unsafe: Raw pointer manipulation\",\n      \"Optimize memory allocation\",\n      \"Ensure thread safety\",\n      \"Zero-copy deserialization\",\n      \"Handle lifetime issues\",\n      \"Implement Drop trait\",\n      \"Lock-free data structure\",\n      \"FFI: C interop\",\n      \"Benchmark performance\",\n      \"Async/await transformation\",\n      \"Check for integer overflow\",\n    ],\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    seq: [\n      {\n        ref: \"shell_command\",\n      },\n      \";\",\n    ],\n  },\n  shell_command: {\n    seq: [\n      {\n        ref: \"command_name\",\n      },\n      \" \",\n      {\n        ref: \"arg_list\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              alt: [\n                {\n                  ref: \"redirect_suffix\",\n                },\n                {\n                  ref: \"pipe_suffix\",\n                },\n              ],\n            },\n          ],\n        },\n      },\n    ],\n  },\n  redirect_suffix: {\n    seq: [\n      {\n        alt: [\">\", \">>\"],\n      },\n      \" \",\n      {\n        ref: \"file_name\",\n      },\n    ],\n  },\n  pipe_suffix: {\n    seq: [\n      \"|\",\n      \" \",\n      {\n        ref: \"command_name\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"short_arg\",\n            },\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"short_arg\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  arg_list: {\n    seq: [\n      {\n        ref: \"short_arg\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"short_arg\",\n            },\n          ],\n        },\n      },\n      \" \",\n      {\n        ref: \"long_arg\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"long_arg\",\n            },\n          ],\n        },\n      },\n      \" \",\n      {\n        alt: [\n          {\n            ref: \"file_arg\",\n          },\n          {\n            ref: \"wildcard_arg\",\n          },\n          {\n            ref: \"var_arg\",\n          },\n          {\n            ref: \"string_arg\",\n          },\n        ],\n      },\n    ],\n  },\n  short_arg: {\n    alt: [\"-a\", \"-b\", \"-c\", \"-d\", \"-e\", \"-f\", \"-h\", \"-l\", \"-v\"],\n  },\n  long_arg: {\n    alt: [\n      \"--color\",\n      {\n        seq: [\n          \"--conf\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"--dir\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"--dump\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"--file\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      \"--help\",\n      {\n        seq: [\n          \"--home\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"--in\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"--list\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"--log\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      \"--null\",\n      {\n        seq: [\n          \"--out\",\n          \"=\",\n          {\n            ref: \"file_name\",\n          },\n        ],\n      },\n      \"--quiet\",\n      \"--version\",\n    ],\n  },\n  file_arg: {\n    ref: \"file_name\",\n  },\n  wildcard_arg: {\n    seq: [\n      \"*\",\n      \".\",\n      {\n        alt: [\n          {\n            ref: \"file_ext_name\",\n          },\n          {\n            seq: [\n              \"{\",\n              {\n                ref: \"file_ext_name\",\n              },\n              \",\",\n              {\n                ref: \"file_ext_name\",\n              },\n              \"}\",\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  var_arg: {\n    alt: [\n      {\n        seq: [\n          \"$\",\n          \"{\",\n          {\n            ref: \"var_name\",\n          },\n          \"}\",\n        ],\n      },\n      {\n        seq: [\n          \"$\",\n          \"(\",\n          {\n            ref: \"command_name\",\n          },\n          \" \",\n          {\n            ref: \"file_arg\",\n          },\n          \")\",\n        ],\n      },\n      {\n        seq: [\"$\", \"(\", \"pwd\", \")\"],\n      },\n    ],\n  },\n  string_arg: {\n    cls: \"string\",\n    span: {\n      seq: [\n        '\"',\n        \"$\",\n        \"{\",\n        {\n          ref: \"var_name\",\n        },\n        \"}\",\n        '\"',\n      ],\n    },\n  },\n  dir_name: {\n    alt: [\n      \"~\",\n      \"/bin\",\n      \"/home\",\n      \"/lib\",\n      \"/mnt\",\n      \"/opt\",\n      \"/tmp\",\n      \"/usr\",\n      \"/usr/bin\",\n      \"/usr/include\",\n      \"/usr/lib\",\n      \"/var\",\n      \"/var/lib\",\n      \"/var/log\",\n      \"/var/tmp\",\n      \"~/.cache\",\n      \"~/.config\",\n      \"~/.local\",\n      \"~/data\",\n      \"~/docs\",\n      \"~/work\",\n    ],\n  },\n  file_name: {\n    alt: [\n      \"/dev/null\",\n      {\n        alt: [\n          {\n            seq: [\n              {\n                ref: \"dir_name\",\n              },\n              \"/\",\n              {\n                seq: [\n                  {\n                    ref: \"file_base_name\",\n                  },\n                  \".\",\n                  {\n                    ref: \"file_ext_name\",\n                  },\n                ],\n              },\n            ],\n          },\n          \".env\",\n        ],\n      },\n    ],\n  },\n  var_name: {\n    alt: [\n      \"a\",\n      \"addr\",\n      \"b\",\n      \"c\",\n      \"date\",\n      \"db\",\n      \"dir\",\n      \"env\",\n      \"ext\",\n      \"file\",\n      \"host\",\n      \"in\",\n      \"job\",\n      \"lang\",\n      \"out\",\n      \"path\",\n      \"root\",\n      \"shell\",\n      \"time\",\n      \"user\",\n    ],\n  },\n  file_base_name: {\n    alt: [\n      \"a\",\n      \"b\",\n      \"c\",\n      \"close\",\n      \"config\",\n      \"data\",\n      \"db\",\n      \"delete\",\n      \"file\",\n      \"groups\",\n      \"hosts\",\n      \"index\",\n      \"info\",\n      \"input\",\n      \"list\",\n      \"main\",\n      \"open\",\n      \"output\",\n      \"print\",\n      \"read\",\n      \"receive\",\n      \"scan\",\n      \"send\",\n      \"source\",\n      \"users\",\n      \"write\",\n    ],\n  },\n  file_ext_name: {\n    alt: [\n      \"c\",\n      \"bash\",\n      \"bin\",\n      \"cpp\",\n      \"err\",\n      \"h\",\n      \"hpp\",\n      \"java\",\n      \"js\",\n      \"json\",\n      \"lib\",\n      \"log\",\n      \"md\",\n      \"o\",\n      \"out\",\n      \"pdf\",\n      \"ps\",\n      \"py\",\n      \"sh\",\n      \"so\",\n      \"ts\",\n      \"txt\",\n      \"unit\",\n    ],\n  },\n  command_name: {\n    cls: \"keyword\",\n    span: {\n      alt: [\n        \"cargo\",\n        \"cat\",\n        \"cd\",\n        \"chmod\",\n        \"chown\",\n        \"cp\",\n        \"cut\",\n        \"df\",\n        \"docker\",\n        \"du\",\n        \"echo\",\n        \"gcc\",\n        \"git\",\n        \"grep\",\n        \"gunzip\",\n        \"gzip\",\n        \"head\",\n        \"kill\",\n        \"less\",\n        \"ls\",\n        \"make\",\n        \"man\",\n        \"mkdir\",\n        \"mv\",\n        \"nmap\",\n        \"node\",\n        \"npm\",\n        \"ping\",\n        \"ps\",\n        \"pwd\",\n        \"rm\",\n        \"rmdir\",\n        \"scp\",\n        \"sed\",\n        \"sort\",\n        \"ssh\",\n        \"tail\",\n        \"tar\",\n        \"time\",\n        \"top\",\n        \"uname\",\n        \"uniq\",\n        \"unzip\",\n        \"uptime\",\n        \"vi\",\n        \"wc\",\n        \"zip\",\n      ],\n    },\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    seq: [\n      \"/\",\n      {\n        f: 0.5,\n        opt: \"^\",\n      },\n      {\n        ref: \"item\",\n      },\n      {\n        f: 0.5,\n        opt: \"$\",\n      },\n      \"/\",\n      {\n        f: 0.5,\n        opt: \"i\",\n      },\n      {\n        f: 0.5,\n        opt: \"g\",\n      },\n    ],\n  },\n  item: {\n    seq: [\n      {\n        alt: [\n          {\n            ref: \"group\",\n          },\n          {\n            ref: \"union\",\n          },\n        ],\n      },\n      {\n        ref: \"quantifier\",\n      },\n    ],\n  },\n  group: {\n    seq: [\n      \"(\",\n      {\n        f: 0.5,\n        opt: {\n          alt: [\n            {\n              ref: \"group_name\",\n            },\n            \"?:\",\n          ],\n        },\n      },\n      {\n        ref: \"group_item\",\n      },\n      \")\",\n    ],\n  },\n  group_name: {\n    seq: [\n      \"?<\",\n      {\n        alt: [\"name\", \"item\", \"email\", \"url\", \"param\", \"id\"],\n      },\n      \">\",\n    ],\n  },\n  group_item: {\n    alt: [\n      {\n        ref: \"char_class\",\n      },\n      {\n        ref: \"char\",\n      },\n    ],\n  },\n  union: {\n    seq: [\n      {\n        ref: \"union_item\",\n      },\n      \"|\",\n      {\n        ref: \"union_item\",\n      },\n    ],\n  },\n  union_item: {\n    alt: [\n      {\n        ref: \"char_class\",\n      },\n      {\n        ref: \"char\",\n      },\n    ],\n  },\n  char_class: {\n    seq: [\n      \"[\",\n      {\n        f: 0.5,\n        opt: \"^\",\n      },\n      {\n        f: 0.5,\n        opt: \"-\",\n      },\n      {\n        f: 0.5,\n        opt: \".\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          ref: \"escaped_char\",\n        },\n      },\n      {\n        alt: [\"a-z\", \"a-f\"],\n      },\n      \"]\",\n    ],\n  },\n  char: {\n    alt: [\n      \".\",\n      \"\\\\d\",\n      \"\\\\s\",\n      {\n        seq: [\n          {\n            ref: \"literal_char\",\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  ref: \"literal_char\",\n                },\n                {\n                  f: 0.5,\n                  opt: {\n                    ref: \"literal_char\",\n                  },\n                },\n              ],\n            },\n          },\n        ],\n      },\n      {\n        ref: \"escaped_char\",\n      },\n      {\n        ref: \"unicode_char\",\n      },\n    ],\n  },\n  literal_char: {\n    alt: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"],\n  },\n  escaped_char: {\n    alt: [\"\\\\t\", \"\\\\n\"],\n  },\n  unicode_char: {\n    seq: [\n      {\n        alt: [\"\\\\p\", \"\\\\P\"],\n      },\n      \"{\",\n      {\n        ref: \"unicode_category\",\n      },\n      \"}\",\n    ],\n  },\n  unicode_category: {\n    alt: [\"L\", \"Lu\", \"Ll\", \"Lt\", \"N\", \"Z\"],\n  },\n  quantifier: {\n    alt: [\"*\", \"+\", \"?\"],\n  },\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"java_statement\",\n  },\n  java_statement: {\n    alt: [\n      {\n        ref: \"class_declaration\",\n      },\n      {\n        ref: \"interface_declaration\",\n      },\n      {\n        ref: \"enum_declaration\",\n      },\n      {\n        ref: \"method_signature\",\n      },\n      {\n        ref: \"variable_declaration\",\n      },\n      {\n        ref: \"comment\",\n      },\n    ],\n  },\n  class_declaration: {\n    seq: [\n      {\n        ref: \"kw_class\",\n      },\n      \" \",\n      {\n        ref: \"java_type_name\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"class_body\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  class_body: {\n    seq: [\n      {\n        ref: \"class_member\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \";\",\n            \" \",\n            {\n              ref: \"class_member\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  class_member: {\n    alt: [\n      {\n        seq: [\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  ref: \"access_modifier\",\n                },\n                \" \",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  ref: \"kw_static\",\n                },\n                \" \",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  ref: \"kw_final\",\n                },\n                \" \",\n              ],\n            },\n          },\n          {\n            f: 0.5,\n            opt: {\n              seq: [\n                {\n                  f: 0.5,\n                  opt: {\n                    alt: [\n                      {\n                        ref: \"kw_private\",\n                      },\n                      {\n                        ref: \"kw_public\",\n                      },\n                      {\n                        ref: \"kw_protected\",\n                      },\n                    ],\n                  },\n                },\n                \" \",\n              ],\n            },\n          },\n          {\n            ref: \"method_signature\",\n          },\n        ],\n      },\n      {\n        ref: \"variable_declaration\",\n      },\n    ],\n  },\n  method_signature: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"access_modifier\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_static\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_final\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"return_type\",\n      },\n      \" \",\n      {\n        ref: \"java_method_name\",\n      },\n      \"(\",\n      \" \",\n      {\n        ref: \"parameter_list\",\n      },\n      \")\",\n    ],\n  },\n  return_type: {\n    alt: [\n      {\n        ref: \"kw_void\",\n      },\n      {\n        ref: \"java_type\",\n      },\n    ],\n  },\n  parameter_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"parameter\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              \",\",\n              \" \",\n              {\n                ref: \"parameter\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  parameter: {\n    seq: [\n      {\n        ref: \"java_type\",\n      },\n      \" \",\n      {\n        ref: \"java_variable_name\",\n      },\n    ],\n  },\n  variable_declaration: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_final\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"java_type\",\n      },\n      \" \",\n      {\n        ref: \"java_variable_name\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"=\",\n            \" \",\n            {\n              ref: \"java_expression\",\n            },\n          ],\n        },\n      },\n      \";\",\n    ],\n  },\n  java_type: {\n    alt: [\n      {\n        ref: \"kw_int\",\n      },\n      {\n        ref: \"kw_string\",\n      },\n      {\n        ref: \"kw_boolean\",\n      },\n      {\n        ref: \"kw_double\",\n      },\n      {\n        ref: \"kw_float\",\n      },\n      {\n        ref: \"kw_char\",\n      },\n      {\n        ref: \"kw_long\",\n      },\n      {\n        ref: \"kw_short\",\n      },\n      {\n        ref: \"kw_byte\",\n      },\n      {\n        ref: \"kw_void\",\n      },\n      {\n        ref: \"java_reference_type\",\n      },\n    ],\n  },\n  java_reference_type: {\n    alt: [\n      {\n        ref: \"class_type\",\n      },\n      {\n        ref: \"interface_type\",\n      },\n      {\n        ref: \"array_type\",\n      },\n    ],\n  },\n  class_type: {\n    ref: \"java_type_name\",\n  },\n  interface_type: {\n    seq: [\n      {\n        ref: \"kw_interface\",\n      },\n      \" \",\n      {\n        ref: \"java_type_name\",\n      },\n    ],\n  },\n  array_type: {\n    seq: [\n      {\n        ref: \"java_type\",\n      },\n      \"[]\",\n    ],\n  },\n  java_expression: {\n    alt: [\n      {\n        ref: \"java_variable_name\",\n      },\n      {\n        ref: \"java_literal\",\n      },\n      {\n        ref: \"java_method_call\",\n      },\n    ],\n  },\n  java_literal: {\n    alt: [\n      {\n        ref: \"java_number_literal\",\n      },\n      {\n        ref: \"java_string_literal\",\n      },\n      {\n        ref: \"java_boolean_literal\",\n      },\n    ],\n  },\n  java_number_literal: {\n    alt: [\"0\", \"1\", \"2\", \"42\", \"100\", \"200\", \"404\"],\n  },\n  java_string_literal: {\n    seq: ['\"', '\"'],\n  },\n  java_boolean_literal: {\n    alt: [\"true\", \"false\"],\n  },\n  java_method_call: {\n    seq: [\n      {\n        ref: \"java_variable_name\",\n      },\n      \"(\",\n      \" \",\n      {\n        ref: \"argument_list\",\n      },\n      \")\",\n    ],\n  },\n  argument_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"java_expression\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              \",\",\n              \" \",\n              {\n                ref: \"java_expression\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  java_variable_name: {\n    alt: [\"x\", \"y\", \"z\", \"result\", \"data\", \"input\"],\n  },\n  java_method_name: {\n    alt: [\"main\", \"calculate\", \"setValue\", \"getResult\"],\n  },\n  java_type_name: {\n    alt: [\"String\", \"Integer\", \"Double\", \"Float\", \"Object\", \"CustomType\"],\n  },\n  interface_declaration: {\n    seq: [\n      {\n        ref: \"kw_interface\",\n      },\n      \" \",\n      {\n        ref: \"java_type_name\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"interface_body\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  interface_body: {\n    seq: [\n      {\n        ref: \"interface_method_signature\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \";\",\n            \" \",\n            {\n              ref: \"interface_method_signature\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  interface_method_signature: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"kw_static\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"return_type\",\n      },\n      \" \",\n      {\n        ref: \"java_method_name\",\n      },\n      \"(\",\n      \" \",\n      {\n        ref: \"parameter_list\",\n      },\n      \")\",\n    ],\n  },\n  enum_declaration: {\n    seq: [\n      {\n        ref: \"kw_enum\",\n      },\n      \" \",\n      {\n        ref: \"java_type_name\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"enum_member_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  enum_member_list: {\n    seq: [\n      {\n        ref: \"enum_member\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \",\",\n            \" \",\n            {\n              ref: \"enum_member\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  enum_member: {\n    seq: [\n      {\n        ref: \"java_variable_name\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"=\",\n            \" \",\n            {\n              ref: \"java_expression\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  access_modifier: {\n    alt: [\n      {\n        ref: \"kw_public\",\n      },\n      {\n        ref: \"kw_private\",\n      },\n      {\n        ref: \"kw_protected\",\n      },\n    ],\n  },\n  comment: {\n    alt: [\n      {\n        ref: \"single_line_comment\",\n      },\n      {\n        ref: \"multi_line_comment\",\n      },\n      {\n        ref: \"javadoc_comment\",\n      },\n    ],\n  },\n  single_line_comment: {\n    seq: [\n      \"//\",\n      \" \",\n      {\n        ref: \"comment_text\",\n      },\n    ],\n  },\n  multi_line_comment: {\n    seq: [\n      \"/*\",\n      \" \",\n      {\n        ref: \"comment_text\",\n      },\n      \" \",\n      \"*/\",\n    ],\n  },\n  javadoc_comment: {\n    seq: [\n      \"/**\",\n      \" \",\n      {\n        ref: \"comment_text\",\n      },\n      \" \",\n      \"*/\",\n    ],\n  },\n  comment_text: {\n    alt: [\n      \"Method to calculate the result\",\n      \"TODO: Improve performance\",\n      \"This is a constructor\",\n      \"@param description\",\n      \"@returns description\",\n      \"@throws exception\",\n      \"@deprecated Use alternative method\",\n    ],\n  },\n  kw_class: \"class\",\n  kw_interface: \"interface\",\n  kw_enum: \"enum\",\n  kw_static: \"static\",\n  kw_final: \"final\",\n  kw_private: \"private\",\n  kw_public: \"public\",\n  kw_protected: \"protected\",\n  kw_void: \"void\",\n  kw_int: \"int\",\n  kw_string: \"String\",\n  kw_boolean: \"boolean\",\n  kw_double: \"double\",\n  kw_float: \"float\",\n  kw_char: \"char\",\n  kw_long: \"long\",\n  kw_short: \"short\",\n  kw_byte: \"byte\",\n} as Rules;\n","// Generated file, do not edit.\n\nimport { type Rules } from \"../ast.ts\";\n\nexport default {\n  start: {\n    ref: \"golang_statement\",\n  },\n  golang_statement: {\n    alt: [\n      {\n        ref: \"package_declaration\",\n      },\n      {\n        ref: \"import_declaration\",\n      },\n      {\n        ref: \"function_declaration\",\n      },\n      {\n        ref: \"struct_declaration\",\n      },\n      {\n        ref: \"interface_declaration\",\n      },\n      {\n        ref: \"variable_declaration\",\n      },\n      {\n        ref: \"constant_declaration\",\n      },\n      {\n        ref: \"type_declaration\",\n      },\n      {\n        ref: \"comment\",\n      },\n    ],\n  },\n  package_declaration: {\n    seq: [\n      {\n        ref: \"kw_package\",\n      },\n      \" \",\n      {\n        ref: \"golang_package_name\",\n      },\n    ],\n  },\n  import_declaration: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_import\",\n          },\n          \" \",\n          \"(\",\n          \" \",\n          {\n            ref: \"import_list\",\n          },\n          \" \",\n          \")\",\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_import\",\n          },\n          \" \",\n          {\n            ref: \"import_spec\",\n          },\n        ],\n      },\n    ],\n  },\n  import_list: {\n    seq: [\n      {\n        ref: \"import_spec\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"import_spec\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  import_spec: {\n    alt: [\n      {\n        ref: \"golang_string_literal\",\n      },\n      {\n        seq: [\n          {\n            ref: \"golang_import_alias\",\n          },\n          \" \",\n          {\n            ref: \"golang_string_literal\",\n          },\n        ],\n      },\n    ],\n  },\n  golang_import_alias: {\n    ref: \"golang_identifier\",\n  },\n  function_declaration: {\n    seq: [\n      {\n        ref: \"kw_func\",\n      },\n      \" \",\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"receiver\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"golang_function_name\",\n      },\n      \" \",\n      \"(\",\n      \" \",\n      {\n        ref: \"parameter_list\",\n      },\n      \" \",\n      \")\",\n      \" \",\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"return_spec\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"function_body\",\n      },\n    ],\n  },\n  receiver: {\n    seq: [\n      \"(\",\n      \" \",\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"golang_identifier\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"golang_type\",\n      },\n      \" \",\n      \")\",\n    ],\n  },\n  return_spec: {\n    alt: [\n      {\n        ref: \"golang_type\",\n      },\n      {\n        seq: [\n          \"(\",\n          \" \",\n          {\n            ref: \"return_params\",\n          },\n          \" \",\n          \")\",\n        ],\n      },\n    ],\n  },\n  return_params: {\n    seq: [\n      {\n        ref: \"golang_type\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \",\",\n            \" \",\n            {\n              ref: \"golang_type\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  function_body: {\n    seq: [\n      \"{\",\n      \" \",\n      {\n        ref: \"golang_statement_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  golang_statement_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"golang_statement\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              {\n                ref: \"golang_statement\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  struct_declaration: {\n    seq: [\n      {\n        ref: \"kw_type\",\n      },\n      \" \",\n      {\n        ref: \"golang_type_name\",\n      },\n      \" \",\n      {\n        ref: \"kw_struct\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"struct_field_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  struct_field_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"struct_field\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              {\n                ref: \"struct_field\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  struct_field: {\n    seq: [\n      {\n        ref: \"golang_identifier_list\",\n      },\n      \" \",\n      {\n        ref: \"golang_type\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"struct_tag\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  struct_tag: {\n    ref: \"golang_string_literal\",\n  },\n  golang_identifier_list: {\n    seq: [\n      {\n        ref: \"golang_identifier\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \",\",\n            \" \",\n            {\n              ref: \"golang_identifier\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  interface_declaration: {\n    seq: [\n      {\n        ref: \"kw_type\",\n      },\n      \" \",\n      {\n        ref: \"golang_type_name\",\n      },\n      \" \",\n      {\n        ref: \"kw_interface\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"interface_method_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  interface_method_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"interface_method_spec\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              {\n                ref: \"interface_method_spec\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  interface_method_spec: {\n    seq: [\n      {\n        ref: \"golang_method_name\",\n      },\n      \" \",\n      \"(\",\n      \" \",\n      {\n        ref: \"parameter_list\",\n      },\n      \" \",\n      \")\",\n      \" \",\n      {\n        f: 0.5,\n        opt: {\n          ref: \"return_spec\",\n        },\n      },\n    ],\n  },\n  variable_declaration: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_var\",\n          },\n          \" \",\n          {\n            ref: \"variable_spec\",\n          },\n        ],\n      },\n      {\n        ref: \"short_variable_declaration\",\n      },\n    ],\n  },\n  variable_spec: {\n    seq: [\n      {\n        ref: \"golang_identifier_list\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"golang_type\",\n            },\n          ],\n        },\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \"=\",\n            \" \",\n            {\n              ref: \"expression_list\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  short_variable_declaration: {\n    seq: [\n      {\n        ref: \"golang_identifier_list\",\n      },\n      \" \",\n      \":=\",\n      \" \",\n      {\n        ref: \"expression_list\",\n      },\n    ],\n  },\n  expression_list: {\n    seq: [\n      {\n        ref: \"golang_expression\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            \",\",\n            \" \",\n            {\n              ref: \"golang_expression\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n  constant_declaration: {\n    seq: [\n      {\n        ref: \"kw_const\",\n      },\n      \" \",\n      {\n        ref: \"constant_spec\",\n      },\n    ],\n  },\n  constant_spec: {\n    seq: [\n      {\n        ref: \"golang_identifier_list\",\n      },\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            \" \",\n            {\n              ref: \"golang_type\",\n            },\n          ],\n        },\n      },\n      \" \",\n      \"=\",\n      \" \",\n      {\n        ref: \"expression_list\",\n      },\n    ],\n  },\n  type_declaration: {\n    seq: [\n      {\n        ref: \"kw_type\",\n      },\n      \" \",\n      {\n        ref: \"type_spec\",\n      },\n    ],\n  },\n  type_spec: {\n    seq: [\n      {\n        ref: \"golang_type_name\",\n      },\n      \" \",\n      {\n        ref: \"golang_type\",\n      },\n    ],\n  },\n  parameter_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"parameter\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              \",\",\n              \" \",\n              {\n                ref: \"parameter\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  parameter: {\n    seq: [\n      {\n        f: 0.5,\n        opt: {\n          seq: [\n            {\n              ref: \"golang_identifier_list\",\n            },\n            \" \",\n          ],\n        },\n      },\n      {\n        ref: \"golang_type\",\n      },\n    ],\n  },\n  golang_type: {\n    alt: [\n      {\n        ref: \"golang_basic_type\",\n      },\n      {\n        ref: \"golang_reference_type\",\n      },\n      {\n        ref: \"golang_struct_type\",\n      },\n      {\n        ref: \"golang_interface_type\",\n      },\n      {\n        ref: \"golang_array_type\",\n      },\n      {\n        ref: \"golang_slice_type\",\n      },\n      {\n        ref: \"golang_map_type\",\n      },\n      {\n        ref: \"golang_channel_type\",\n      },\n      {\n        ref: \"golang_function_type\",\n      },\n    ],\n  },\n  golang_basic_type: {\n    alt: [\n      {\n        ref: \"kw_bool\",\n      },\n      {\n        ref: \"kw_int\",\n      },\n      {\n        ref: \"kw_int8\",\n      },\n      {\n        ref: \"kw_int16\",\n      },\n      {\n        ref: \"kw_int32\",\n      },\n      {\n        ref: \"kw_int64\",\n      },\n      {\n        ref: \"kw_uint\",\n      },\n      {\n        ref: \"kw_uint8\",\n      },\n      {\n        ref: \"kw_uint16\",\n      },\n      {\n        ref: \"kw_uint32\",\n      },\n      {\n        ref: \"kw_uint64\",\n      },\n      {\n        ref: \"kw_float32\",\n      },\n      {\n        ref: \"kw_float64\",\n      },\n      {\n        ref: \"kw_complex64\",\n      },\n      {\n        ref: \"kw_complex128\",\n      },\n      {\n        ref: \"kw_string\",\n      },\n      {\n        ref: \"kw_rune\",\n      },\n      {\n        ref: \"kw_byte\",\n      },\n    ],\n  },\n  golang_reference_type: {\n    seq: [\n      \"*\",\n      \" \",\n      {\n        ref: \"golang_type\",\n      },\n    ],\n  },\n  golang_struct_type: {\n    seq: [\n      {\n        ref: \"kw_struct\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"struct_field_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  golang_interface_type: {\n    seq: [\n      {\n        ref: \"kw_interface\",\n      },\n      \" \",\n      \"{\",\n      \" \",\n      {\n        ref: \"interface_method_list\",\n      },\n      \" \",\n      \"}\",\n    ],\n  },\n  golang_array_type: {\n    seq: [\n      \"[\",\n      \" \",\n      {\n        ref: \"golang_expression\",\n      },\n      \" \",\n      \"]\",\n      \" \",\n      {\n        ref: \"golang_type\",\n      },\n    ],\n  },\n  golang_slice_type: {\n    seq: [\n      \"[]\",\n      \" \",\n      {\n        ref: \"golang_type\",\n      },\n    ],\n  },\n  golang_map_type: {\n    seq: [\n      {\n        ref: \"kw_map\",\n      },\n      \" \",\n      \"[\",\n      \" \",\n      {\n        ref: \"golang_type\",\n      },\n      \" \",\n      \"]\",\n      \" \",\n      {\n        ref: \"golang_type\",\n      },\n    ],\n  },\n  golang_channel_type: {\n    alt: [\n      {\n        seq: [\n          {\n            ref: \"kw_chan\",\n          },\n          \" \",\n          {\n            ref: \"golang_type\",\n          },\n        ],\n      },\n      {\n        seq: [\n          \"<-\",\n          \" \",\n          {\n            ref: \"kw_chan\",\n          },\n          \" \",\n          {\n            ref: \"golang_type\",\n          },\n        ],\n      },\n      {\n        seq: [\n          {\n            ref: \"kw_chan\",\n          },\n          \" \",\n          \"<-\",\n          \" \",\n          {\n            ref: \"golang_type\",\n          },\n        ],\n      },\n    ],\n  },\n  golang_function_type: {\n    seq: [\n      {\n        ref: \"kw_func\",\n      },\n      \" \",\n      \"(\",\n      \" \",\n      {\n        ref: \"parameter_list\",\n      },\n      \" \",\n      \")\",\n      \" \",\n      {\n        f: 0.5,\n        opt: {\n          ref: \"return_spec\",\n        },\n      },\n    ],\n  },\n  golang_expression: {\n    alt: [\n      {\n        ref: \"golang_identifier\",\n      },\n      {\n        ref: \"golang_literal\",\n      },\n      {\n        ref: \"golang_function_call\",\n      },\n      {\n        ref: \"unary_expression\",\n      },\n      {\n        ref: \"binary_expression\",\n      },\n    ],\n  },\n  unary_expression: {\n    seq: [\n      {\n        ref: \"unary_operator\",\n      },\n      \" \",\n      {\n        ref: \"golang_expression\",\n      },\n    ],\n  },\n  unary_operator: {\n    alt: [\"&\", \"*\", \"+\", \"-\", \"!\", \"^\", \"<-\"],\n  },\n  binary_expression: {\n    seq: [\n      {\n        ref: \"golang_expression\",\n      },\n      \" \",\n      {\n        ref: \"binary_operator\",\n      },\n      \" \",\n      {\n        ref: \"golang_expression\",\n      },\n    ],\n  },\n  binary_operator: {\n    alt: [\n      \"+\",\n      \"-\",\n      \"*\",\n      \"/\",\n      \"%\",\n      \"&\",\n      \"|\",\n      \"^\",\n      \"<<\",\n      \">>\",\n      \"&&\",\n      \"||\",\n      \"==\",\n      \"!=\",\n      \"<\",\n      \"<=\",\n      \">\",\n      \">=\",\n    ],\n  },\n  golang_literal: {\n    alt: [\n      {\n        ref: \"golang_number_literal\",\n      },\n      {\n        ref: \"golang_string_literal\",\n      },\n      {\n        ref: \"golang_boolean_literal\",\n      },\n      {\n        ref: \"golang_nil_literal\",\n      },\n    ],\n  },\n  golang_number_literal: {\n    alt: [\"0\", \"1\", \"2\", \"42\", \"100\", \"200\", \"404\"],\n  },\n  golang_string_literal: {\n    alt: [\n      {\n        seq: ['\"', '\"'],\n      },\n      {\n        seq: [\"`\", \"`\"],\n      },\n    ],\n  },\n  golang_boolean_literal: {\n    alt: [\"true\", \"false\"],\n  },\n  golang_nil_literal: \"nil\",\n  golang_function_call: {\n    seq: [\n      {\n        ref: \"golang_identifier\",\n      },\n      \" \",\n      \"(\",\n      \" \",\n      {\n        ref: \"argument_list\",\n      },\n      \" \",\n      \")\",\n    ],\n  },\n  argument_list: {\n    f: 0.5,\n    opt: {\n      seq: [\n        {\n          ref: \"golang_expression\",\n        },\n        {\n          f: 0.5,\n          opt: {\n            seq: [\n              \" \",\n              \",\",\n              \" \",\n              {\n                ref: \"golang_expression\",\n              },\n            ],\n          },\n        },\n      ],\n    },\n  },\n  golang_identifier: {\n    alt: [\"x\", \"y\", \"z\", \"result\", \"data\", \"input\", \"err\", \"val\"],\n  },\n  golang_function_name: {\n    alt: [\n      \"main\",\n      \"calculate\",\n      \"setValue\",\n      \"getResult\",\n      \"init\",\n      \"String\",\n      \"Error\",\n    ],\n  },\n  golang_type_name: {\n    alt: [\n      \"string\",\n      \"int\",\n      \"bool\",\n      \"float64\",\n      \"CustomType\",\n      \"Error\",\n      \"Reader\",\n      \"Writer\",\n    ],\n  },\n  golang_package_name: {\n    alt: [\n      \"main\",\n      \"fmt\",\n      \"strings\",\n      \"math\",\n      \"os\",\n      \"io\",\n      \"net/http\",\n      \"encoding/json\",\n    ],\n  },\n  golang_method_name: {\n    alt: [\"Read\", \"Write\", \"String\", \"Error\", \"Close\", \"Parse\"],\n  },\n  comment: {\n    alt: [\n      {\n        ref: \"single_line_comment\",\n      },\n      {\n        ref: \"multi_line_comment\",\n      },\n    ],\n  },\n  single_line_comment: {\n    seq: [\n      \"//\",\n      \" \",\n      {\n        ref: \"comment_text\",\n      },\n    ],\n  },\n  multi_line_comment: {\n    seq: [\n      \"/*\",\n      \" \",\n      {\n        ref: \"comment_text\",\n      },\n      \" \",\n      \"*/\",\n    ],\n  },\n  comment_text: {\n    alt: [\n      \"Function to calculate the result\",\n      \"TODO: Improve performance\",\n      \"This is a constructor\",\n      \"Package documentation\",\n      \"Returns value with error\",\n      \"Implements interface\",\n      \"Deprecated: Use alternative function\",\n    ],\n  },\n  kw_package: \"package\",\n  kw_import: \"import\",\n  kw_func: \"func\",\n  kw_type: \"type\",\n  kw_struct: \"struct\",\n  kw_interface: \"interface\",\n  kw_var: \"var\",\n  kw_const: \"const\",\n  kw_map: \"map\",\n  kw_chan: \"chan\",\n  kw_bool: \"bool\",\n  kw_int: \"int\",\n  kw_int8: \"int8\",\n  kw_int16: \"int16\",\n  kw_int32: \"int32\",\n  kw_int64: \"int64\",\n  kw_uint: \"uint\",\n  kw_uint8: \"uint8\",\n  kw_uint16: \"uint16\",\n  kw_uint32: \"uint32\",\n  kw_uint64: \"uint64\",\n  kw_float32: \"float32\",\n  kw_float64: \"float64\",\n  kw_complex64: \"complex64\",\n  kw_complex128: \"complex128\",\n  kw_string: \"string\",\n  kw_rune: \"rune\",\n  kw_byte: \"byte\",\n} as Rules;\n","import { Enum, type EnumItem } from \"@mkboard/lang\";\r\nimport { type RNG } from \"@mkboard/rand\";\r\nimport { type StyledText } from \"@mkboard/textinput\";\r\nimport { type Grammar } from \"./ast.ts\";\r\nimport { findFlags } from \"./find-flags.ts\";\r\nimport { type Flags } from \"./flags.ts\";\r\nimport { generate } from \"./generate.ts\";\r\nimport { Output } from \"./output.ts\";\r\nimport {\r\n  grammar_cpp,\r\n  grammar_csharp,\r\n  grammar_go,\r\n  grammar_html_css,\r\n  grammar_java,\r\n  grammar_javascript,\r\n  grammar_python,\r\n  grammar_regex,\r\n  grammar_rust,\r\n  grammar_shell,\r\n  grammar_typescript,\r\n} from \"./syntax/grammars.ts\";\r\nimport { validate } from \"./validate.ts\";\r\n\r\nexport class Syntax implements EnumItem {\r\n  static readonly HTML = new Syntax(\"html\", \"HTML\", grammar_html_css, \"html\");\r\n  static readonly CSS = new Syntax(\"css\", \"CSS\", grammar_html_css, \"css\");\r\n  static readonly CPP = new Syntax(\"cpp\", \"C/C++\", grammar_cpp);\r\n  static readonly CPP_FPROTO = new Syntax(\r\n    \"cpp_fproto\",\r\n    \"C/C++ Function Prototypes\",\r\n    grammar_cpp,\r\n    \"start_fproto\",\r\n  );\r\n  static readonly CPP_STMT = new Syntax(\r\n    \"cpp_stmt\",\r\n    \"C/C++ Statements\",\r\n    grammar_cpp,\r\n    \"start_stmt\",\r\n  );\r\n  static readonly JAVASCRIPT_EXP = new Syntax(\r\n    \"javascript_exp\",\r\n    \"Java Script Expressions\",\r\n    grammar_javascript,\r\n  );\r\n  static readonly TYPESCRIPT = new Syntax(\r\n    \"typescript\",\r\n    \"TypeScript\",\r\n    grammar_typescript,\r\n  );\r\n  static readonly PYTHON = new Syntax(\"python\", \"Python\", grammar_python);\r\n  static readonly RUST = new Syntax(\"rust\", \"Rust\", grammar_rust);\r\n  static readonly SHELL = new Syntax(\"shell\", \"Shell\", grammar_shell);\r\n  static readonly REGEX = new Syntax(\"regex\", \"Regex\", grammar_regex);\r\n\r\n  static readonly JAVA = new Syntax(\"java\", \"Java\", grammar_java);\r\n\r\n  static readonly GO = new Syntax(\"go\", \"Go\", grammar_go);\r\n\r\n  static readonly CSHARP = new Syntax(\"csharp\", \"C#\", grammar_csharp);\r\n\r\n  static readonly ALL = new Enum<Syntax>(\r\n    Syntax.HTML,\r\n    Syntax.CSS,\r\n    Syntax.CPP,\r\n    Syntax.CPP_FPROTO,\r\n    Syntax.CPP_STMT,\r\n    Syntax.JAVASCRIPT_EXP,\r\n    Syntax.TYPESCRIPT,\r\n    Syntax.PYTHON,\r\n    Syntax.RUST,\r\n    Syntax.SHELL,\r\n    Syntax.REGEX,\r\n    Syntax.JAVA,\r\n    Syntax.GO,\r\n    Syntax.CSHARP,\r\n  );\r\n\r\n  readonly id: string;\r\n  readonly name: string;\r\n  readonly grammar: Grammar;\r\n  readonly start: string;\r\n  readonly flags: ReadonlySet<string>;\r\n\r\n  private constructor(\r\n    id: string,\r\n    name: string,\r\n    grammar: Grammar,\r\n    start: string = \"start\",\r\n  ) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.grammar = validate(grammar);\r\n    this.start = start;\r\n    this.flags = findFlags(grammar.rules);\r\n    Object.freeze(this);\r\n  }\r\n\r\n  generate(flags: Flags, rng?: RNG): StyledText {\r\n    const output = new Output(200);\r\n    while (true) {\r\n      try {\r\n        if (output.length > 0) {\r\n          output.separate(\" \");\r\n        }\r\n        generate(this.grammar, { start: this.start, flags, output, rng });\r\n      } catch (err) {\r\n        if (err === Output.Stop) {\r\n          break;\r\n        } else {\r\n          throw err;\r\n        }\r\n      }\r\n    }\r\n    return output.text;\r\n  }\r\n\r\n  toString() {\r\n    return this.id;\r\n  }\r\n\r\n  toJSON() {\r\n    return this.id;\r\n  }\r\n}\r\n","import {\n  findRule,\n  type Grammar,\n  isAlt,\n  isCond,\n  isLit,\n  isOpt,\n  isRef,\n  isSeq,\n  isSpan,\n  type Prod,\n} from \"./ast.ts\";\n\n/**\n * Checks that the given grammar is valid.\n *\n * - Checks that there are no empty `seq`s.\n * - Checks that there are no empty `alt`s.\n * - Checks that all refs can be resolved.\n * - Checks that there are no unreferenced rules.\n */\nexport function validate(grammar: Grammar): Grammar {\n  const referenced = new Set<string>();\n  referenced.add(\"start\");\n  for (const rule of Object.values(grammar.rules)) {\n    visit(rule);\n  }\n  for (const name of Object.keys(grammar.rules)) {\n    if (!name.startsWith(\"start_\") && !referenced.has(name)) {\n      throw new Error(`Unreferenced rule <${name}>`);\n    }\n  }\n  return grammar;\n\n  function visit(p: Prod): void {\n    if (isCond(p)) {\n      visit(p.cond);\n      return;\n    }\n\n    if (isSpan(p)) {\n      visit(p.span);\n      return;\n    }\n\n    if (isOpt(p)) {\n      const { f, opt } = p;\n      if (f < 0 || f > 1) {\n        throw new Error(`Invalid opt probability ${f}`);\n      }\n      visit(opt);\n      return;\n    }\n\n    if (isSeq(p)) {\n      const { seq } = p;\n      if (seq.length === 0) {\n        throw new Error(`Empty seq`);\n      }\n      for (const child of seq) {\n        visit(child);\n      }\n      return;\n    }\n\n    if (isAlt(p)) {\n      const { alt } = p;\n      if (alt.length === 0) {\n        throw new Error(`Empty alt`);\n      }\n      for (const child of alt) {\n        visit(child);\n      }\n      return;\n    }\n\n    if (isRef(p)) {\n      const { ref } = p;\n      if (findRule(grammar, ref) == null) {\n        throw new Error(`Invalid ref <${ref}>`);\n      }\n      referenced.add(ref);\n      return;\n    }\n\n    if (isLit(p)) {\n      return;\n    }\n\n    throw new Error(`Invalid element`);\n  }\n}\n","import {\n  isAlt,\n  isCond,\n  isOpt,\n  isSeq,\n  isSpan,\n  type Prod,\n  type Rules,\n} from \"./ast.ts\";\n\nexport function findFlags(rules: Rules): Set<string> {\n  const flags = new Set<string>();\n  for (const rule of Object.values(rules)) {\n    visit(rule);\n  }\n  return flags;\n\n  function visit(p: Prod): void {\n    if (isCond(p)) {\n      flags.add(p.flag);\n      visit(p.cond);\n      return;\n    }\n\n    if (isSpan(p)) {\n      visit(p.span);\n      return;\n    }\n\n    if (isOpt(p)) {\n      visit(p.opt);\n      return;\n    }\n\n    if (isSeq(p)) {\n      for (const child of p.seq) {\n        visit(child);\n      }\n      return;\n    }\n\n    if (isAlt(p)) {\n      for (const child of p.alt) {\n        visit(child);\n      }\n      return;\n    }\n  }\n}\n","import { parseColor } from \"@mkboard/color\";\r\nimport { type GraphicsStyle } from \"@mkboard/widget\";\r\nimport { type ClassValue, clsx } from \"clsx\";\r\nimport { useMemo } from \"react\";\r\nimport { useTheme } from \"./context.ts\";\r\nimport { useDynamicStyles } from \"./dynamic-styles-context.tsx\";\r\nimport { type PropName } from \"./theme-props.ts\";\r\n\r\nexport const useComputedStyles = () => {\r\n  const { color, font, hash } = useTheme();\r\n  const { getStyledElement } = useDynamicStyles();\r\n  const element = getStyledElement();\r\n  return useMemo(() => {\r\n    use(color, font, hash);\r\n\r\n    const style = getComputedStyle(element);\r\n\r\n    const getPropertyValue = (name: PropName): string => {\r\n      return style.getPropertyValue(name);\r\n    };\r\n\r\n    const computeStyle = (...className: ClassValue[]): GraphicsStyle => {\r\n      // https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\r\n      // The returned style is a live CSSStyleDeclaration object, which updates itself automatically\r\n      // when the element's style is changed.\r\n      // The values returned by getComputedStyle are known as resolved values. These are usually the\r\n      // same as the CSS 2.1 computed values, but for some older properties like width, height or\r\n      // padding, they are instead the used values.\r\n      const child = createElement(\"div\", className);\r\n      element.appendChild(child);\r\n      const {\r\n        font,\r\n        fontStyle,\r\n        fontVariant,\r\n        fontWeight,\r\n        fontSize,\r\n        lineHeight,\r\n        fontFamily,\r\n        textAlign,\r\n        verticalAlign,\r\n        color,\r\n        opacity,\r\n        fill,\r\n        fillOpacity,\r\n        fillRule,\r\n        stroke,\r\n        strokeDasharray,\r\n        strokeDashoffset,\r\n        strokeLinecap,\r\n        strokeLinejoin,\r\n        strokeMiterlimit,\r\n        strokeOpacity,\r\n        strokeWidth,\r\n      } = getComputedStyle(child);\r\n      element.removeChild(child);\r\n      const result: GraphicsStyle = {};\r\n      if (font != null) {\r\n        if (font.length > 0) {\r\n          result.font = font;\r\n        } else {\r\n          // A fix for Firefox in which the font property is an empty string.\r\n          result.font = `${fontStyle} ${fontVariant} ${fontWeight} ${fontSize} / ${lineHeight} ${fontFamily}`;\r\n        }\r\n      }\r\n      switch (textAlign) {\r\n        case \"left\":\r\n          result.textAlign = \"left\";\r\n          break;\r\n        case \"right\":\r\n          result.textAlign = \"right\";\r\n          break;\r\n        case \"center\":\r\n          result.textAlign = \"center\";\r\n          break;\r\n        case \"start\":\r\n          result.textAlign = \"start\";\r\n          break;\r\n        case \"end\":\r\n          result.textAlign = \"end\";\r\n          break;\r\n      }\r\n      switch (verticalAlign) {\r\n        case \"top\":\r\n          result.textBaseline = \"top\";\r\n          break;\r\n        case \"baseline\":\r\n          result.textBaseline = \"alphabetic\";\r\n          break;\r\n        case \"middle\":\r\n          result.textBaseline = \"middle\";\r\n          break;\r\n        case \"bottom\":\r\n          result.textBaseline = \"bottom\";\r\n          break;\r\n      }\r\n      if (fill != null && fill !== \"none\") {\r\n        try {\r\n          const color = parseColor(fill).toRgb();\r\n          if (fillOpacity != null) {\r\n            const value = Number(fillOpacity);\r\n            if (value !== 1) {\r\n              color.alpha = value;\r\n            }\r\n          }\r\n          result.fillStyle = color;\r\n        } catch {\r\n          // Ignore.\r\n        }\r\n      }\r\n      switch (fillRule) {\r\n        case \"nonzero\":\r\n        case \"evenodd\":\r\n          result.fillRule = fillRule;\r\n          break;\r\n      }\r\n      if (stroke != null && stroke !== \"none\") {\r\n        try {\r\n          const color = parseColor(stroke).toRgb();\r\n          if (strokeOpacity != null) {\r\n            const value = Number(strokeOpacity);\r\n            if (value !== 1) {\r\n              color.alpha = value;\r\n            }\r\n          }\r\n          result.strokeStyle = color;\r\n        } catch {\r\n          // Ignore.\r\n        }\r\n      }\r\n      switch (strokeLinecap) {\r\n        case \"butt\":\r\n        case \"round\":\r\n        case \"square\":\r\n          result.lineCap = strokeLinecap;\r\n          break;\r\n      }\r\n      switch (strokeLinejoin) {\r\n        case \"bevel\":\r\n        case \"round\":\r\n        case \"miter\":\r\n          result.lineJoin = strokeLinejoin;\r\n          break;\r\n      }\r\n      if (strokeWidth != null && isPx(strokeWidth)) {\r\n        result.lineWidth = parsePx(strokeWidth);\r\n      }\r\n      if (strokeMiterlimit != null) {\r\n        result.miterLimit = Number(strokeMiterlimit);\r\n      }\r\n      return result;\r\n    };\r\n\r\n    const computeLineHeight = (...className: ClassValue[]): number => {\r\n      const child = createElement(\"p\", className);\r\n      child.style.lineHeight = \"1\";\r\n      element.appendChild(child);\r\n      const value = child.clientHeight;\r\n      element.removeChild(child);\r\n      return value;\r\n    };\r\n\r\n    return { getPropertyValue, computeStyle, computeLineHeight };\r\n  }, [color, font, hash, element]);\r\n};\r\n\r\nfunction use(...arg: any) {}\r\n\r\nconst createElement = (tagName: string, className: ClassValue): HTMLElement => {\r\n  const element = document.createElement(tagName);\r\n  element.textContent = \"?\";\r\n  element.className = clsx(className);\r\n  element.style.position = \"fixed\";\r\n  element.style.insetInlineStart = \"0px\";\r\n  element.style.insetBlockStart = \"0px\";\r\n  return element;\r\n};\r\n\r\nconst isPx = (value: string): boolean => {\r\n  return value.endsWith(\"px\");\r\n};\r\n\r\nconst parsePx = (value: string): number => {\r\n  return Number(value.substring(0, value.length - 2));\r\n};\r\n","import { type ReactNode } from \"react\";\nimport { useExplainerState } from \"./context.ts\";\n\nexport function Explainer({\n  children,\n}: {\n  readonly children?: ReactNode;\n}): ReactNode {\n  const { explainersVisible } = useExplainerState();\n  return explainersVisible && children;\n}\n","// extracted by mini-css-extract-plugin\nvar _1 = \"Tl2kUfwpce\";\nvar _2 = \"QzTBtw5DXu\";\nvar _3 = \"TFya5E2L1c\";\nexport { _1 as \"fieldSet\", _2 as \"form\", _3 as \"legend\" }\n","import { clsx } from \"clsx\";\nimport { type ReactNode } from \"react\";\nimport * as styles from \"./Form.module.less\";\nimport {\n  type FieldSetProps,\n  type FormProps,\n  type LegendProps,\n} from \"./Form.types.ts\";\n\nexport function Form(props: FormProps): ReactNode {\n  const { className, id, title, children } = props;\n  return (\n    <form\n      id={id} //\n      className={clsx(styles.form, className)}\n      title={title}\n    >\n      {children}\n    </form>\n  );\n}\n\nexport function FieldSet(props: FieldSetProps): ReactNode {\n  const { className, id, disabled, legend, title, children } = props;\n  return (\n    <fieldset\n      id={id} //\n      className={clsx(styles.fieldSet, className)}\n      disabled={disabled}\n      title={title}\n    >\n      {legend && <Legend>{legend}</Legend>}\n      {children}\n    </fieldset>\n  );\n}\n\nexport function Legend(props: LegendProps): ReactNode {\n  const { className, id, children, title } = props;\n  return (\n    <legend\n      id={id} //\n      className={clsx(styles.legend, className)}\n      title={title}\n    >\n      {children}\n    </legend>\n  );\n}\n","import { type Result } from \"./result.ts\";\n\nexport type Streak = {\n  readonly level: number;\n  readonly results: readonly Result[];\n};\n\nexport type StreakList = {\n  readonly level1: Streak;\n  readonly level2: Streak;\n  readonly level3: Streak;\n} & Iterable<Streak>;\n\nexport type AcceptStreak = (streak: Streak) => void;\n\nexport class MutableStreakList implements StreakList {\n  static readonly level1 = 1.0;\n  static readonly level2 = 0.97;\n  static readonly level3 = 0.95;\n\n  static findLongest(results: readonly Result[]): Streak[] {\n    const candidates = [\n      { level: MutableStreakList.level1, results: [] },\n      { level: MutableStreakList.level2, results: [] },\n      { level: MutableStreakList.level3, results: [] },\n    ] as { level: number; results: readonly Result[] }[];\n    const accept = (streak: Streak) => {\n      for (const candidate of candidates) {\n        if (\n          streak.level >= candidate.level &&\n          streak.results.length >= candidate.results.length\n        ) {\n          candidate.results = streak.results;\n          break;\n        }\n      }\n    };\n    const list = new MutableStreakList();\n    for (const result of results) {\n      list.append(result, accept);\n    }\n    list.end(accept);\n    return candidates.filter((streak) => streak.results.length > 0);\n  }\n\n  readonly #top = new TopMutableStreak();\n  readonly #level1 = new MutableStreak(MutableStreakList.level1, this.#top);\n  readonly #level2 = new MutableStreak(MutableStreakList.level2, this.#level1);\n  readonly #level3 = new MutableStreak(MutableStreakList.level3, this.#level2);\n  readonly #bottom = new MutableStreak(0, this.#level3);\n  readonly #streaks = Object.freeze([this.#level1, this.#level2, this.#level3]);\n\n  get level1(): Streak {\n    return this.#level1;\n  }\n\n  get level2(): Streak {\n    return this.#level2;\n  }\n\n  get level3(): Streak {\n    return this.#level3;\n  }\n\n  [Symbol.iterator](): IterableIterator<Streak> {\n    return this.#streaks[Symbol.iterator]();\n  }\n\n  append(result: Result, accept: AcceptStreak | null = null) {\n    this.#bottom.append(result, accept);\n  }\n\n  end(accept: AcceptStreak) {\n    this.#bottom.end(accept);\n  }\n\n  copy(): StreakList {\n    const level1 = this.#level1.copy();\n    const level2 = this.#level2.copy();\n    const level3 = this.#level3.copy();\n    const streaks = [level1, level2, level3];\n    return {\n      level1,\n      level2,\n      level3,\n      [Symbol.iterator]() {\n        return streaks[Symbol.iterator]();\n      },\n    };\n  }\n}\n\nclass MutableStreak implements Streak {\n  readonly #level: number;\n  readonly #next: MutableStreak;\n  readonly #results: Result[];\n\n  constructor(level: number, next: MutableStreak) {\n    this.#level = level;\n    this.#next = next;\n    this.#results = [];\n  }\n\n  get level() {\n    return this.#level;\n  }\n\n  get results() {\n    return this.#results;\n  }\n\n  append(result: Result, accept: AcceptStreak | null) {\n    const started = this.#results.length > this.#next.#results.length;\n    if (this.#next.append(result, accept)) {\n      if (started) {\n        this.#results.push(result);\n      }\n      return true;\n    }\n    if (!started) {\n      this.#results.push(...this.#next.#results);\n    }\n    this.#next.#results.length = 0;\n    if (result.accuracy >= this.#level) {\n      this.#results.push(result);\n      return true;\n    }\n    if (started && this.#results.length > 0 && accept != null) {\n      accept(this.copy());\n    }\n    return false;\n  }\n\n  end(accept: AcceptStreak) {\n    if (this.#next != null) {\n      this.#next.end(accept);\n    }\n    if (this.#results.length > 0) {\n      accept(this.copy());\n    }\n  }\n\n  copy(): Streak {\n    return {\n      level: this.#level,\n      results: [...this.#results],\n    };\n  }\n}\n\nclass TopMutableStreak extends MutableStreak {\n  constructor() {\n    super(Infinity, null!);\n  }\n\n  override append() {\n    return false;\n  }\n}\n","import { createContext, useContext } from \"react\";\nimport { type Result } from \"./result.ts\";\n\nexport type ResultContextProps = {\n  readonly results: readonly Result[];\n  readonly appendResults: (newResults: readonly Result[]) => void;\n  readonly clearResults: () => void;\n};\n\nexport const ResultContext = createContext<ResultContextProps>(null!);\n\nexport function useResults(): ResultContextProps {\n  const value = useContext(ResultContext);\n  if (value == null) {\n    throw new Error(\n      process.env.NODE_ENV !== \"production\"\n        ? \"ResultContext is missing\"\n        : undefined,\n    );\n  }\n  return value;\n}\n","import { isNumber, isObject } from \"@mkboard/lang\";\r\n\r\nexport enum Month {\r\n  January = 1,\r\n  February = 2,\r\n  March = 3,\r\n  April = 4,\r\n  May = 5,\r\n  June = 6,\r\n  July = 7,\r\n  August = 8,\r\n  September = 9,\r\n  October = 10,\r\n  November = 11,\r\n  December = 12,\r\n}\r\n\r\nexport enum DayOfWeek {\r\n  Monday = 1,\r\n  Tuesday = 2,\r\n  Wednesday = 3,\r\n  Thursday = 4,\r\n  Friday = 5,\r\n  Saturday = 6,\r\n  Sunday = 7,\r\n}\r\n\r\n/**\r\n * A tuple consisting of a year, a month, and a day of the month,\r\n * all in the local timezone.\r\n */\r\nexport class LocalDate {\r\n  /** The year number in a local timezone, four digits. */\r\n  readonly year: number;\r\n  /** The month number in a local timezone, 1-12. */\r\n  readonly month: Month;\r\n  /** The day of month number in a local timezone, 1-31. */\r\n  readonly dayOfMonth: number;\r\n  /** The day of week number in a local timezone, 1-7. */\r\n  readonly dayOfWeek: DayOfWeek;\r\n  /** The timestamp of midnight in the UTC timezone, milliseconds. */\r\n  readonly timeStamp: number;\r\n  /** The string value formatted as YYYY-MM-DD. */\r\n  readonly value: string;\r\n\r\n  static now(): LocalDate {\r\n    return new LocalDate(Date.now());\r\n  }\r\n\r\n  /**\r\n   * Creates a local date with the given year, month, and day.\r\n   * @param year A year number, four digits.\r\n   * @param month A month number, 1-12.\r\n   * @param day A day of the month number, 1-31.\r\n   */\r\n  constructor(year: number, month: number, day: number);\r\n  /**\r\n   * Creates a local date from the given timestamp in the UTC zone.\r\n   * @param timeStamp A timestamp in the UTC timezone, milliseconds.\r\n   */\r\n  constructor(timeStamp: number);\r\n  /**\r\n   * Creates a local date from the given date instance.\r\n   * @param date A date instance.\r\n   */\r\n  constructor(date: Date);\r\n  constructor(...args: any[]) {\r\n    const { length } = args;\r\n    let year: number;\r\n    let month: number;\r\n    let day: number;\r\n    let timeStamp: number;\r\n    let date: Date;\r\n    if (\r\n      length === 3 &&\r\n      isNumber((year = args[0])) &&\r\n      isNumber((month = args[1])) &&\r\n      isNumber((day = args[2]))\r\n    ) {\r\n      date = new Date(year, month - 1, day);\r\n      if (\r\n        date.getFullYear() !== year ||\r\n        date.getMonth() !== month - 1 ||\r\n        date.getDate() !== day\r\n      ) {\r\n        throw new Error(\r\n          process.env.NODE_ENV !== \"production\"\r\n            ? \"Invalid local date arguments\"\r\n            : undefined,\r\n        );\r\n      }\r\n    } else if (length === 1 && isNumber((timeStamp = args[0]))) {\r\n      date = new Date(timeStamp);\r\n    } else if (length === 1 && isObject((date = args[0]))) {\r\n      date = new Date(date.getTime());\r\n    } else {\r\n      throw new TypeError(\r\n        process.env.NODE_ENV !== \"production\"\r\n          ? \"Invalid local date arguments\"\r\n          : undefined,\r\n      );\r\n    }\r\n    date.setHours(0);\r\n    date.setMinutes(0);\r\n    date.setSeconds(0);\r\n    date.setMilliseconds(0);\r\n    this.year = date.getFullYear();\r\n    this.month = date.getMonth() + 1;\r\n    this.dayOfMonth = date.getDate();\r\n    let dayOfWeek = date.getDay();\r\n    if (dayOfWeek === 0) {\r\n      dayOfWeek = 7;\r\n    }\r\n    this.dayOfWeek = dayOfWeek;\r\n    this.timeStamp = date.getTime();\r\n    this.value =\r\n      String(this.year) +\r\n      \"-\" +\r\n      String(this.month).padStart(2, \"0\") +\r\n      \"-\" +\r\n      String(this.dayOfMonth).padStart(2, \"0\");\r\n    return Object.freeze(this);\r\n  }\r\n\r\n  plusDays(days: number): LocalDate {\r\n    const date = new Date(this.timeStamp);\r\n    date.setDate(date.getDate() + days);\r\n    return new LocalDate(date);\r\n  }\r\n\r\n  minusDays(days: number): LocalDate {\r\n    const date = new Date(this.timeStamp);\r\n    date.setDate(date.getDate() - days);\r\n    return new LocalDate(date);\r\n  }\r\n\r\n  toString() {\r\n    return this.value;\r\n  }\r\n\r\n  valueOf() {\r\n    return this.timeStamp;\r\n  }\r\n}\r\n\r\nexport class LocalDateRange {\r\n  readonly #from: LocalDate;\r\n  readonly #to: LocalDate;\r\n\r\n  constructor(from: LocalDate, to: LocalDate) {\r\n    this.#from = from;\r\n    this.#to = to;\r\n  }\r\n\r\n  get from(): LocalDate {\r\n    return this.#from;\r\n  }\r\n\r\n  get to(): LocalDate {\r\n    return this.#to;\r\n  }\r\n\r\n  includes(timeStamp: number): boolean {\r\n    return this.#from.timeStamp <= timeStamp && timeStamp < this.#to.timeStamp;\r\n  }\r\n\r\n  toString() {\r\n    return `${this.#from} - ${this.#to}`;\r\n  }\r\n}\r\n\r\nexport class Yesterday extends LocalDateRange {\r\n  constructor(now = LocalDate.now()) {\r\n    super(now.minusDays(1), now);\r\n  }\r\n}\r\n\r\nexport class Today extends LocalDateRange {\r\n  constructor(now = LocalDate.now()) {\r\n    super(now, now.plusDays(1));\r\n  }\r\n}\r\n","import { type Layout } from \"@mkboard/keyboard\";\r\nimport { LocalDate } from \"./localdate.ts\";\r\nimport { type Result } from \"./result.ts\";\r\n\r\nexport type Group<T> = {\r\n  readonly key: T;\r\n  readonly results: readonly Result[];\r\n};\r\n\r\nexport type KeyOf<T> = (result: Result) => T;\r\n\r\nconst layoutKey = (): KeyOf<Layout> => {\r\n  return ({ layout }) => layout;\r\n};\r\n\r\nconst layoutFamilyKey = (): KeyOf<string> => {\r\n  return ({ layout }) => layout.family;\r\n};\r\n\r\nconst dateKey = (): KeyOf<LocalDate> => {\r\n  let date = new LocalDate(0);\r\n  let next = new LocalDate(0);\r\n  return (result) => {\r\n    const { timeStamp } = result;\r\n    if (!(date.timeStamp <= timeStamp && timeStamp < next.timeStamp)) {\r\n      date = new LocalDate(timeStamp);\r\n      next = date.plusDays(1);\r\n    }\r\n    return date;\r\n  };\r\n};\r\n\r\nexport class ResultGroups<T> implements Iterable<Group<T>> {\r\n  static readonly byLayout = (results: Iterable<Result>) => {\r\n    return new ResultGroups(layoutKey()).addAll(results);\r\n  };\r\n\r\n  static readonly byLayoutFamily = (results: Iterable<Result>) => {\r\n    return new ResultGroups(layoutFamilyKey()).addAll(results);\r\n  };\r\n\r\n  static readonly byDate = (results: Iterable<Result>) => {\r\n    return new ResultGroups(dateKey()).addAll(results);\r\n  };\r\n\r\n  readonly #keyOf: KeyOf<T>;\r\n  readonly #map: Map<string, { readonly key: T; readonly results: Result[] }>;\r\n\r\n  constructor(keyOf: KeyOf<T>) {\r\n    this.#keyOf = keyOf;\r\n    this.#map = new Map();\r\n  }\r\n\r\n  [Symbol.iterator](): IterableIterator<Group<T>> {\r\n    return this.#map.values();\r\n  }\r\n\r\n  *keys(): IterableIterator<T> {\r\n    for (const { key } of this.#map.values()) {\r\n      yield key;\r\n    }\r\n  }\r\n\r\n  get(key: T): readonly Result[] {\r\n    return this.#getGroup(key).results;\r\n  }\r\n\r\n  add(result: Result) {\r\n    this.#getGroup(this.#keyOf(result)).results.push(result);\r\n    return this;\r\n  }\r\n\r\n  addAll(results: Iterable<Result>) {\r\n    for (const result of results) {\r\n      this.add(result);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  #getGroup(key: T) {\r\n    const stringKey = String(key);\r\n    let group = this.#map.get(stringKey);\r\n    if (group == null) {\r\n      this.#map.set(stringKey, (group = { key, results: [] }));\r\n    }\r\n    return group;\r\n  }\r\n}\r\n","import { type Result } from \"./result.ts\";\n\nexport function makeSummaryStats(results: readonly Result[]): SummaryStats {\n  const stats = new MutableSummaryStats();\n  for (const result of results) {\n    stats.append(result);\n  }\n  return stats.copy();\n}\n\nexport type SummaryStats = {\n  /** The number of results. */\n  readonly count: number;\n  /** The total time of all results. */\n  readonly time: number;\n  /** The speed stats. */\n  readonly speed: Metric;\n  /** The accuracy stats. */\n  readonly accuracy: Metric;\n  /** The score stats. */\n  readonly score: Metric;\n};\n\nexport type Metric = {\n  /** The last value. */\n  readonly last: number;\n  /** The change in last value compared to average. */\n  readonly delta: number;\n  /** The minimal value seen so far. */\n  readonly min: number;\n  /** The maximal value seen so far. */\n  readonly max: number;\n  /** The average of all values seen so far. */\n  readonly avg: number;\n};\n\nexport class MutableSummaryStats implements SummaryStats {\n  #count = 0;\n  #time = 0;\n  readonly #speed = new MutableMetric();\n  readonly #accuracy = new MutableMetric();\n  readonly #score = new MutableMetric();\n\n  get count(): number {\n    return this.#count;\n  }\n\n  get time(): number {\n    return this.#time;\n  }\n\n  get speed(): MutableMetric {\n    return this.#speed;\n  }\n\n  get accuracy(): MutableMetric {\n    return this.#accuracy;\n  }\n\n  get score(): MutableMetric {\n    return this.#score;\n  }\n\n  append(result: Result) {\n    this.#count += 1;\n    this.#time += result.time;\n    this.#speed.append(result.speed);\n    this.#accuracy.append(result.accuracy);\n    this.#score.append(result.score);\n  }\n\n  copy(): SummaryStats {\n    return {\n      count: this.#count,\n      time: this.#time,\n      speed: this.#speed.copy(),\n      accuracy: this.#accuracy.copy(),\n      score: this.#score.copy(),\n    };\n  }\n}\n\nexport class MutableMetric implements Metric {\n  #last: number = 0;\n  #delta: number = 0;\n  #count: number = 0;\n  #sum: number = 0;\n  #min: number = 0;\n  #max: number = 0;\n  #avg: number = 0;\n\n  get last(): number {\n    return this.#last;\n  }\n\n  get delta(): number {\n    return this.#delta;\n  }\n\n  get min(): number {\n    return this.#min;\n  }\n\n  get max(): number {\n    return this.#max;\n  }\n\n  get avg(): number {\n    return this.#avg;\n  }\n\n  append(value: number): void {\n    this.#count += 1;\n    if (this.#count === 1) {\n      this.#last = value;\n      this.#delta = value;\n      this.#sum = value;\n      this.#min = value;\n      this.#max = value;\n      this.#avg = value;\n    } else {\n      this.#last = value;\n      this.#delta = value - this.#avg;\n      this.#sum += value;\n      this.#min = Math.min(this.#min, value);\n      this.#max = Math.max(this.#max, value);\n      this.#avg = this.#sum / this.#count;\n    }\n  }\n\n  copy(): Metric {\n    return {\n      last: this.#last,\n      delta: this.#delta,\n      min: this.#min,\n      max: this.#max,\n      avg: this.#avg,\n    };\n  }\n}\n","import { ResultGroups } from \"./group.ts\";\nimport { LocalDate } from \"./localdate.ts\";\nimport { type Result } from \"./result.ts\";\nimport { makeSummaryStats, type SummaryStats } from \"./summarystats.ts\";\n\nexport type DailyStats = {\n  readonly date: LocalDate;\n  readonly results: readonly Result[];\n  readonly stats: SummaryStats;\n};\n\nexport class DailyStatsMap implements Iterable<DailyStats> {\n  readonly #map = new Map<string, DailyStats>();\n  readonly #today: DailyStats;\n\n  constructor(results: readonly Result[], today: LocalDate = LocalDate.now()) {\n    const groups = ResultGroups.byDate(results);\n    for (const { key, results } of groups) {\n      this.#map.set(String(key), makeStats(key, results));\n    }\n    this.#today = this.#map.get(String(today)) ?? makeStats(today, []);\n  }\n\n  [Symbol.iterator](): IterableIterator<DailyStats> {\n    return this.#map.values();\n  }\n\n  has(date: LocalDate): boolean {\n    return this.#map.has(String(date));\n  }\n\n  get(date: LocalDate): DailyStats {\n    return this.#map.get(String(date)) ?? makeStats(date, []);\n  }\n\n  /** Summary stats for the results of today. May not exist in the iterated entries. */\n  get today(): DailyStats {\n    return this.#today;\n  }\n}\n\nfunction makeStats(date: LocalDate, results: readonly Result[]): DailyStats {\n  return { date, results, stats: makeSummaryStats(results) };\n}\n","export class InvalidResultError extends Error {\n  override name = \"InvalidResultError\";\n\n  constructor(message?: string, options?: ErrorOptions) {\n    super(message, options);\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"InvalidResultError\";\n  }\n}\n","import { type Layout } from \"@mkboard/keyboard\";\r\nimport { type Histogram, type Stats } from \"@mkboard/textinput\";\r\nimport { type TextType } from \"./texttype.ts\";\r\n\r\nexport type Filter = {\r\n  readonly minLength: number;\r\n  readonly minTime: number;\r\n  readonly minComplexity: number;\r\n  readonly minSpeed: number;\r\n  readonly maxSpeed: number;\r\n};\r\n\r\nexport class Result {\r\n  static readonly filter = {\r\n    minLength: 10,\r\n    minTime: 1000,\r\n    minComplexity: 1,\r\n    minSpeed: 1,\r\n    maxSpeed: Infinity,\r\n  } as const satisfies Filter;\r\n\r\n  static fromStats(\r\n    layout: Layout,\r\n    textType: TextType,\r\n    timeStamp: number,\r\n    stats: Stats,\r\n  ): Result {\r\n    return new Result(\r\n      layout,\r\n      textType,\r\n      timeStamp,\r\n      stats.length,\r\n      stats.time,\r\n      stats.errors,\r\n      stats.histogram,\r\n    );\r\n  }\r\n\r\n  static readonly isValid = (result: Result): boolean => result.validate();\r\n\r\n  readonly complexity: number;\r\n  readonly speed: number;\r\n  readonly accuracy: number;\r\n  readonly score: number;\r\n\r\n  constructor(\r\n    readonly layout: Layout,\r\n    readonly textType: TextType,\r\n    readonly timeStamp: number,\r\n    readonly length: number,\r\n    readonly time: number,\r\n    readonly errors: number,\r\n    readonly histogram: Histogram,\r\n  ) {\r\n    const { complexity } = histogram;\r\n    let speed = 0;\r\n    let accuracy = 0;\r\n    let score = 0;\r\n    if (length > 0 && time > 0 && complexity > 0) {\r\n      speed = (length / (time / 1000)) * 60;\r\n      accuracy = (length - errors) / length;\r\n      score = ((speed * complexity) / (errors + 1)) * (length / 50);\r\n    }\r\n    this.complexity = complexity;\r\n    this.speed = speed;\r\n    this.accuracy = accuracy;\r\n    this.score = score;\r\n  }\r\n\r\n  validate({\r\n    minLength = Result.filter.minLength,\r\n    minTime = Result.filter.minTime,\r\n    minComplexity = Result.filter.minComplexity,\r\n    minSpeed = Result.filter.minSpeed,\r\n    maxSpeed = Result.filter.maxSpeed,\r\n  }: Partial<Filter> = {}): boolean {\r\n    return (\r\n      this.length >= minLength &&\r\n      this.time >= minTime &&\r\n      this.complexity >= minComplexity &&\r\n      this.speed >= minSpeed &&\r\n      this.speed <= maxSpeed &&\r\n      this.histogram.validate()\r\n    );\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      layout: this.layout.id,\r\n      textType: this.textType.id,\r\n      timeStamp: new Date(this.timeStamp),\r\n      length: this.length,\r\n      time: this.time,\r\n      errors: this.errors,\r\n      speed: this.speed,\r\n      histogram: [...this.histogram],\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Convert type-to-type in milliseconds to typing speed in characters per minute.\r\n * @param v Time-to-type in milliseconds.\r\n * @return Typing speed in characters per minute.\r\n */\r\nexport function timeToSpeed(v: number): number {\r\n  if (!Number.isFinite(v) || v === 0) {\r\n    throw new Error();\r\n  }\r\n  return (60 * 1000) / v;\r\n}\r\n\r\n/**\r\n * Convert typing speed in characters per minute to type-to-type in milliseconds.\r\n * @param v Typing speed in characters per minute.\r\n * @return Time-to-type in milliseconds.\r\n */\r\nexport function speedToTime(v: number): number {\r\n  if (!Number.isFinite(v) || v === 0) {\r\n    throw new Error();\r\n  }\r\n  return 1000 / (v / 60);\r\n}\r\n","import { XEnum, type XEnumItem } from \"@mkboard/lang\";\r\n\r\nexport class TextType implements XEnumItem {\r\n  static readonly GENERATED = new TextType(\"generated\", 1);\r\n  static readonly NATURAL = new TextType(\"natural\", 2);\r\n  static readonly NUMBERS = new TextType(\"numbers\", 3);\r\n  static readonly CODE = new TextType(\"code\", 4);\r\n  static readonly ALL = new XEnum<TextType>(\r\n    TextType.GENERATED,\r\n    TextType.NATURAL,\r\n    TextType.NUMBERS,\r\n    TextType.CODE,\r\n  );\r\n\r\n  private constructor(\r\n    readonly id: string,\r\n    readonly xid: number,\r\n  ) {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  toString() {\r\n    return this.id;\r\n  }\r\n\r\n  toJSON() {\r\n    return this.id;\r\n  }\r\n}\r\n","import { type Filter, makeFilter } from \"@mkboard/math\";\r\nimport { type Letter } from \"@mkboard/phonetic-model\";\r\nimport { type Result } from \"./result.ts\";\r\n\r\nexport function makeKeyStatsMap(\r\n  letters: readonly Letter[],\r\n  results: readonly Result[],\r\n): KeyStatsMap {\r\n  const map = new MutableKeyStatsMap(letters);\r\n  for (const result of results) {\r\n    map.append(result);\r\n  }\r\n  return map.copy();\r\n}\r\n\r\nexport type KeyStatsMap<T extends KeyStats = KeyStats> = {\r\n  readonly letters: readonly Letter[];\r\n  readonly results: readonly Result[];\r\n  get(letter: Letter): T;\r\n} & Iterable<T>;\r\n\r\nexport type KeyStats = {\r\n  readonly letter: Letter;\r\n  readonly samples: readonly KeySample[];\r\n  readonly timeToType: number | null;\r\n  readonly bestTimeToType: number | null;\r\n};\r\n\r\nexport type KeySample = {\r\n  readonly index: number;\r\n  readonly timeStamp: number;\r\n  readonly hitCount: number;\r\n  readonly missCount: number;\r\n  readonly timeToType: number;\r\n  readonly filteredTimeToType: number;\r\n};\r\n\r\nexport class MutableKeyStatsMap implements KeyStatsMap<MutableKeyStats> {\r\n  readonly #letters: Letter[];\r\n  readonly #results: Result[];\r\n  readonly #map: Map<Letter, MutableKeyStats>;\r\n\r\n  constructor(letters: readonly Letter[]) {\r\n    this.#letters = [...letters];\r\n    this.#results = [];\r\n    this.#map = new Map();\r\n    for (const letter of letters) {\r\n      this.#map.set(letter, new MutableKeyStats(letter));\r\n    }\r\n  }\r\n\r\n  get letters(): readonly Letter[] {\r\n    return this.#letters;\r\n  }\r\n\r\n  get results(): readonly Result[] {\r\n    return this.#results;\r\n  }\r\n\r\n  get(letter: Letter): MutableKeyStats {\r\n    return this.#map.get(letter)!;\r\n  }\r\n\r\n  [Symbol.iterator](): IterableIterator<MutableKeyStats> {\r\n    return this.#map.values();\r\n  }\r\n\r\n  append(result: Result) {\r\n    this.#results.push(result);\r\n    for (const item of this.#map.values()) {\r\n      item.append(result);\r\n    }\r\n  }\r\n\r\n  copy(): KeyStatsMap {\r\n    const letters = [...this.#letters];\r\n    const results = [...this.#results];\r\n    const map = new Map(\r\n      [...this.#map].map(([key, value]) => [key, value.copy()]),\r\n    );\r\n    return {\r\n      get letters(): readonly Letter[] {\r\n        return letters;\r\n      },\r\n      get results(): readonly Result[] {\r\n        return results;\r\n      },\r\n      get(letter): KeyStats {\r\n        return map.get(letter)!;\r\n      },\r\n      [Symbol.iterator](): IterableIterator<KeyStats> {\r\n        return map.values();\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nexport class MutableKeyStats implements KeyStats {\r\n  readonly #letter: Letter;\r\n  readonly #samples: KeySample[];\r\n  readonly #filter: Filter;\r\n  #index: number;\r\n  #timeToType: number | null;\r\n  #bestTimeToType: number | null;\r\n\r\n  constructor(letter: Letter) {\r\n    this.#letter = letter;\r\n    this.#samples = [];\r\n    this.#filter = makeFilter(0.1);\r\n    this.#index = 0;\r\n    this.#timeToType = null;\r\n    this.#bestTimeToType = null;\r\n  }\r\n\r\n  get letter(): Letter {\r\n    return this.#letter;\r\n  }\r\n\r\n  get samples(): readonly KeySample[] {\r\n    return this.#samples;\r\n  }\r\n\r\n  get timeToType(): number | null {\r\n    return this.#timeToType;\r\n  }\r\n\r\n  get bestTimeToType(): number | null {\r\n    return this.#bestTimeToType;\r\n  }\r\n\r\n  append(result: Result) {\r\n    const { timeStamp, histogram } = result;\r\n    const sample = histogram.get(this.#letter.codePoint);\r\n    if (sample != null) {\r\n      const { hitCount, missCount, timeToType } = sample;\r\n      if (timeToType > 0) {\r\n        const filteredTimeToType = this.#filter.add(timeToType);\r\n        this.#samples.push({\r\n          index: this.#index,\r\n          timeStamp,\r\n          hitCount,\r\n          missCount,\r\n          timeToType,\r\n          filteredTimeToType,\r\n        });\r\n        this.#timeToType = filteredTimeToType;\r\n        this.#bestTimeToType = Math.min(\r\n          this.#bestTimeToType ?? Infinity,\r\n          filteredTimeToType,\r\n        );\r\n      }\r\n    }\r\n    this.#index += 1;\r\n    return this;\r\n  }\r\n\r\n  copy(): KeyStats {\r\n    return {\r\n      letter: this.#letter,\r\n      samples: [...this.#samples],\r\n      timeToType: this.#timeToType,\r\n      bestTimeToType: this.#bestTimeToType,\r\n    };\r\n  }\r\n}\r\n","import { Histogram, validateSample } from \"@mkboard/textinput\";\r\nimport { Result } from \"./result.ts\";\r\n\r\n/**\r\n * Fixes the validation errors in the given results, if possible.\r\n */\r\nexport function recoverResults(raw: readonly Result[]): Result[] {\r\n  const results: Result[] = [];\r\n  for (const result of raw) {\r\n    if (result.validate()) {\r\n      results.push(result);\r\n    } else {\r\n      const recovered = new Result(\r\n        result.layout,\r\n        result.textType,\r\n        result.timeStamp,\r\n        result.length,\r\n        result.time,\r\n        result.errors,\r\n        new Histogram([...result.histogram].filter(validateSample)),\r\n      );\r\n      if (recovered.validate()) {\r\n        results.push(recovered);\r\n      }\r\n    }\r\n  }\r\n  return results;\r\n}\r\n","import { Enum, type EnumItem } from \"@mkboard/lang\";\r\nimport { defineMessage, type MessageDescriptor } from \"react-intl\";\r\n\r\nexport class SpeedUnit implements EnumItem {\r\n  static readonly WPM = new SpeedUnit(\r\n    \"wpm\",\r\n    1 / 5,\r\n    defineMessage({\r\n      id: \"t_Words_per_minute\",\r\n      defaultMessage: \"Words per minute\",\r\n    }),\r\n  );\r\n  static readonly WPS = new SpeedUnit(\r\n    \"wps\",\r\n    1 / 300,\r\n    defineMessage({\r\n      id: \"t_Words_per_second\",\r\n      defaultMessage: \"Words per second\",\r\n    }),\r\n  );\r\n  static readonly CPM = new SpeedUnit(\r\n    \"cpm\",\r\n    1,\r\n    defineMessage({\r\n      id: \"t_Characters_per_minute\",\r\n      defaultMessage: \"Characters per minute\",\r\n    }),\r\n  );\r\n  static readonly CPS = new SpeedUnit(\r\n    \"cps\",\r\n    1 / 60,\r\n    defineMessage({\r\n      id: \"t_Characters_per_second\",\r\n      defaultMessage: \"Characters per second\",\r\n    }),\r\n  );\r\n  static readonly ALL = new Enum<SpeedUnit>(\r\n    SpeedUnit.WPM,\r\n    SpeedUnit.WPS,\r\n    SpeedUnit.CPM,\r\n    SpeedUnit.CPS,\r\n  );\r\n\r\n  private constructor(\r\n    readonly id: string,\r\n    readonly factor: number,\r\n    readonly name: MessageDescriptor,\r\n  ) {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  measure = (cpm: number): number => {\r\n    return cpm * this.factor;\r\n  };\r\n\r\n  toString() {\r\n    return this.id;\r\n  }\r\n\r\n  toJSON() {\r\n    return this.id;\r\n  }\r\n}\r\n","import { itemProp } from \"@mkboard/settings\";\r\nimport { SpeedUnit } from \"./speedunit.ts\";\r\n\r\nexport const uiProps = {\r\n  speedUnit: itemProp(\"ui.speedUnit\", SpeedUnit.ALL, SpeedUnit.WPM),\r\n} as const;\r\n","import { Enum, type EnumItem } from \"@mkboard/lang\";\r\nimport { enumProp, itemProp, numberProp } from \"@mkboard/settings\";\r\n\r\nexport enum PlaySounds {\r\n  None = 1,\r\n  ErrorsOnly = 2,\r\n  All = 3,\r\n  KeysOnly = 4,\r\n}\r\n\r\nexport class SoundTheme implements EnumItem {\r\n  static readonly DEFAULT = new SoundTheme(\"default\", \"Default\");\r\n  static readonly MECHANICAL1 = new SoundTheme(\"mechanical1\", \"Mechanical 1\");\r\n  static readonly MECHANICAL2 = new SoundTheme(\"mechanical2\", \"Mechanical 2\");\r\n  static readonly TYPEWRITER1 = new SoundTheme(\"typewriter1\", \"Typewriter 1\");\r\n  static readonly TYPEWRITER2 = new SoundTheme(\"typewriter2\", \"Typewriter 2\");\r\n\r\n  static readonly ALL = new Enum<SoundTheme>(\r\n    SoundTheme.DEFAULT,\r\n    SoundTheme.MECHANICAL1,\r\n    SoundTheme.MECHANICAL2,\r\n    SoundTheme.TYPEWRITER1,\r\n    SoundTheme.TYPEWRITER2,\r\n  );\r\n\r\n  private constructor(\r\n    readonly id: string,\r\n    readonly name: string,\r\n  ) {}\r\n\r\n  toString() {\r\n    return this.id;\r\n  }\r\n\r\n  toJSON() {\r\n    return this.id;\r\n  }\r\n}\r\n\r\nexport const soundProps = {\r\n  playSounds: enumProp(\"textInput.playSounds\", PlaySounds, PlaySounds.None),\r\n  soundVolume: numberProp(\"textInput.soundVolume\", 0.5, { min: 0, max: 1 }),\r\n  soundTheme: itemProp(\r\n    \"textInput.soundTheme\",\r\n    SoundTheme.ALL,\r\n    SoundTheme.DEFAULT,\r\n  ),\r\n} as const;\r\n","let context: null | AudioContext = null;\n\nexport function getAudioContext(): AudioContext | null {\n  if (context == null) {\n    try {\n      context = new AudioContext();\n    } catch {\n      context = null;\n    }\n  }\n  return context;\n}\n","import { type Player } from \"./types.ts\";\n\nexport const nullPlayer = new (class NullPlayer implements Player {\n  play(offset?: number, duration?: number) {}\n  stop() {}\n  volume(volume: number) {}\n})();\n\nexport class WebAudioPlayer implements Player {\n  readonly #context: AudioContext;\n  readonly #buffer: AudioBuffer;\n  readonly #gain: GainNode;\n  #source: AudioBufferSourceNode | null;\n\n  constructor(context: AudioContext, buffer: AudioBuffer) {\n    this.#context = context;\n    this.#buffer = buffer;\n    this.#gain = this.#context.createGain();\n    this.#gain.connect(this.#context.destination);\n    this.#source = null;\n  }\n\n  play(offset?: number, duration?: number) {\n    this.stop();\n    const source = this.#context.createBufferSource();\n    this.#source = source;\n    source.onended = () => {\n      this.#source = null;\n    };\n    source.buffer = this.#buffer;\n    source.connect(this.#gain);\n    source.start(0, offset, duration);\n  }\n\n  stop() {\n    if (this.#source != null) {\n      this.#source.stop();\n      this.#source = null;\n    }\n  }\n\n  volume(volume: number) {\n    this.#gain.gain.value = volume;\n  }\n}\n","import { expectType, request } from \"@mkboard/request\";\r\nimport { getAudioContext } from \"./audiocontext.ts\";\r\nimport { nullPlayer, WebAudioPlayer } from \"./player.ts\";\r\nimport { type Player, type PlayerId, type SoundAssets } from \"./types.ts\";\r\n\r\nexport class PlayerLibrary {\r\n  readonly #loaders = new Map<PlayerId, PlayerLoader>();\r\n\r\n  constructor(assets: SoundAssets) {\r\n    for (const [id, url] of Object.entries(assets)) {\r\n      this.#loaders.set(id, new PlayerLoader(url));\r\n    }\r\n  }\r\n\r\n  play(id: PlayerId, volume: number = 1) {\r\n    const loader = this.#loaders.get(id);\r\n    if (loader == null) {\r\n      throw new Error(String(id));\r\n    }\r\n    loader\r\n      .init()\r\n      .then((player) => {\r\n        player.volume(volume);\r\n        player.play();\r\n      })\r\n      .catch(catchError);\r\n  }\r\n}\r\n\r\nclass PlayerLoader {\r\n  readonly #url: string;\r\n  #buffer: ArrayBuffer | null = null;\r\n  #player: Player | null = null;\r\n\r\n  constructor(url: string) {\r\n    this.#url = url;\r\n    this.#load().catch(catchError);\r\n  }\r\n\r\n  get url() {\r\n    return this.#url;\r\n  }\r\n\r\n  /**\r\n   * Stage one: we load sound data, but we don't create players yet\r\n   * because there was no user gesture and AudioContext is not available.\r\n   */\r\n  async #load() {\r\n    try {\r\n      const response = await request\r\n        .use(expectType(\"audio/*\"))\r\n        .GET(this.#url)\r\n        .send();\r\n      this.#buffer = await response.arrayBuffer();\r\n    } catch (err) {\r\n      this.#player = nullPlayer;\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stage two: we convert the loaded sound data into players.\r\n   * We assume that at this point there was a user gesture\r\n   * and AudioContext is already available.\r\n   */\r\n  async init() {\r\n    if (this.#buffer != null && this.#player == null) {\r\n      try {\r\n        const context = getAudioContext();\r\n        if (context != null) {\r\n          const buffer = await context.decodeAudioData(this.#buffer);\r\n          const player = new WebAudioPlayer(context, buffer);\r\n          this.#buffer = null;\r\n          this.#player = player;\r\n        } else {\r\n          this.#buffer = null;\r\n          this.#player = nullPlayer;\r\n        }\r\n      } catch (err) {\r\n        this.#buffer = null;\r\n        this.#player = nullPlayer;\r\n        throw err;\r\n      }\r\n    }\r\n    return this.#player ?? nullPlayer;\r\n  }\r\n}\r\n\r\nfunction catchError(err: any) {\r\n  console.error(err);\r\n}\r\n","import { randomSample } from \"@mkboard/rand\";\r\nimport {\r\n  type PlayerId,\r\n  PlayerLibrary,\r\n  type SoundAssets,\r\n} from \"./internal/index.ts\";\r\n\r\nexport type SoundId = \"click\" | \"blip\";\r\n\r\nexport type ThemeConfig = Record<SoundId, readonly string[]>;\r\n\r\nexport class Theme {\r\n  readonly #library: PlayerLibrary;\r\n  readonly #ids: Record<SoundId, readonly PlayerId[]>;\r\n\r\n  constructor(theme: ThemeConfig) {\r\n    const click = collect(\"click\", theme.click);\r\n    const blip = collect(\"blip\", theme.blip);\r\n    this.#library = new PlayerLibrary({ ...click, ...blip });\r\n    this.#ids = { click: Object.keys(click), blip: Object.keys(blip) };\r\n  }\r\n\r\n  play(id: SoundId, volume: number) {\r\n    this.#library.play(randomSample(this.#ids[id]), volume);\r\n  }\r\n}\r\n\r\nfunction collect(id: string, urls: readonly string[]): SoundAssets {\r\n  const sounds = {} as Record<PlayerId, string>;\r\n  for (let i = 0; i < urls.length; i++) {\r\n    sounds[`${id}-${i}`] = urls[i];\r\n  }\r\n  return sounds;\r\n}\r\n","import blip from \"../../assets/blip.mp3\";\nimport { type ThemeConfig } from \"../sound.ts\";\n\nexport const common = {\n  blip: [blip],\n} as const satisfies Partial<ThemeConfig>;\n","import click from \"../../assets/default-click.mp3\";\nimport { type ThemeConfig } from \"../sound.ts\";\nimport { common } from \"./common.ts\";\n\nexport const defaultTheme = {\n  ...common,\n  click: [click],\n} as const satisfies ThemeConfig;\n","import click1 from \"../../assets/mechanical1-click1.mp3\";\nimport click2 from \"../../assets/mechanical1-click2.mp3\";\nimport click3 from \"../../assets/mechanical1-click3.mp3\";\nimport click4 from \"../../assets/mechanical1-click4.mp3\";\nimport click5 from \"../../assets/mechanical1-click5.mp3\";\nimport click6 from \"../../assets/mechanical1-click6.mp3\";\nimport click7 from \"../../assets/mechanical1-click7.mp3\";\nimport click8 from \"../../assets/mechanical1-click8.mp3\";\nimport click9 from \"../../assets/mechanical1-click9.mp3\";\nimport { type ThemeConfig } from \"../sound.ts\";\nimport { common } from \"./common.ts\";\n\nexport const mechanical1 = {\n  ...common,\n  click: [\n    click1,\n    click2,\n    click3,\n    click4,\n    click5,\n    click6,\n    click7,\n    click8,\n    click9,\n  ],\n} as const satisfies ThemeConfig;\n","import click1 from \"../../assets/mechanical2-click1.mp3\";\nimport click2 from \"../../assets/mechanical2-click2.mp3\";\nimport click3 from \"../../assets/mechanical2-click3.mp3\";\nimport click4 from \"../../assets/mechanical2-click4.mp3\";\nimport click5 from \"../../assets/mechanical2-click5.mp3\";\nimport { type ThemeConfig } from \"../sound.ts\";\nimport { common } from \"./common.ts\";\n\nexport const mechanical2 = {\n  ...common,\n  click: [click1, click2, click3, click4, click5],\n} as const satisfies ThemeConfig;\n","import click1 from \"../../assets/typewriter1-click1.mp3\";\nimport click2 from \"../../assets/typewriter1-click2.mp3\";\nimport click3 from \"../../assets/typewriter1-click3.mp3\";\nimport click4 from \"../../assets/typewriter1-click4.mp3\";\nimport click5 from \"../../assets/typewriter1-click5.mp3\";\nimport click6 from \"../../assets/typewriter1-click6.mp3\";\nimport click7 from \"../../assets/typewriter1-click7.mp3\";\nimport click8 from \"../../assets/typewriter1-click8.mp3\";\nimport click9 from \"../../assets/typewriter1-click9.mp3\";\nimport { type ThemeConfig } from \"../sound.ts\";\nimport { common } from \"./common.ts\";\n\nexport const typewriter1 = {\n  ...common,\n  click: [\n    click1,\n    click2,\n    click3,\n    click4,\n    click5,\n    click6,\n    click7,\n    click8,\n    click9,\n  ],\n} as const satisfies ThemeConfig;\n","import click1 from \"../../assets/typewriter2-click1.mp3\";\nimport click2 from \"../../assets/typewriter2-click2.mp3\";\nimport click3 from \"../../assets/typewriter2-click3.mp3\";\nimport click4 from \"../../assets/typewriter2-click4.mp3\";\nimport click5 from \"../../assets/typewriter2-click5.mp3\";\nimport click6 from \"../../assets/typewriter2-click6.mp3\";\nimport click7 from \"../../assets/typewriter2-click7.mp3\";\nimport click8 from \"../../assets/typewriter2-click8.mp3\";\nimport click9 from \"../../assets/typewriter2-click9.mp3\";\nimport { type ThemeConfig } from \"../sound.ts\";\nimport { common } from \"./common.ts\";\n\nexport const typewriter2 = {\n  ...common,\n  click: [\n    click1,\n    click2,\n    click3,\n    click4,\n    click5,\n    click6,\n    click7,\n    click8,\n    click9,\n  ],\n} as const satisfies ThemeConfig;\n","import { type Settings, useSettings } from \"@mkboard/settings\";\r\nimport { Feedback } from \"@mkboard/textinput\";\r\nimport { useMemo } from \"react\";\r\nimport { PlaySounds, soundProps, SoundTheme } from \"./settings.ts\";\r\nimport { Theme } from \"./sound.ts\";\r\nimport { defaultTheme } from \"./themes/default.ts\";\r\nimport { mechanical1 } from \"./themes/mechanical1.ts\";\r\nimport { mechanical2 } from \"./themes/mechanical2.ts\";\r\nimport { typewriter1 } from \"./themes/typewriter1.ts\";\r\nimport { typewriter2 } from \"./themes/typewriter2.ts\";\r\n\r\nexport function useSoundPlayer() {\r\n  const { settings } = useSettings();\r\n  return useMemo(() => makeSoundPlayer(settings), [settings]);\r\n}\r\n\r\nexport function makeSoundPlayer(settings: Settings) {\r\n  const playSounds = settings.get(soundProps.playSounds);\r\n  const soundVolume = settings.get(soundProps.soundVolume);\r\n  const soundTheme = settings.get(soundProps.soundTheme);\r\n  if (playSounds === PlaySounds.None) {\r\n    return () => {};\r\n  }\r\n  const theme = loadTheme(soundTheme);\r\n  return (feedback: Feedback) => {\r\n    if (playSounds === PlaySounds.All) {\r\n      switch (feedback) {\r\n        case Feedback.Succeeded:\r\n        case Feedback.Recovered:\r\n          theme.play(\"click\", soundVolume);\r\n          break;\r\n        case Feedback.Failed:\r\n          theme.play(\"blip\", soundVolume);\r\n          break;\r\n      }\r\n    }\r\n    if (playSounds === PlaySounds.ErrorsOnly) {\r\n      switch (feedback) {\r\n        case Feedback.Failed:\r\n          theme.play(\"blip\", soundVolume);\r\n          break;\r\n      }\r\n    }\r\n    if (playSounds === PlaySounds.KeysOnly) {\r\n      switch (feedback) {\r\n        case Feedback.Succeeded:\r\n        case Feedback.Recovered:\r\n          theme.play(\"click\", soundVolume);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nconst cache = new Map();\r\n\r\nfunction loadTheme(id: SoundTheme) {\r\n  let theme = cache.get(id);\r\n  if (theme == null) {\r\n    cache.set(id, (theme = loadTheme0(id)));\r\n  }\r\n  return theme;\r\n}\r\n\r\nfunction loadTheme0(id: SoundTheme) {\r\n  switch (id) {\r\n    case SoundTheme.MECHANICAL1:\r\n      return new Theme(mechanical1);\r\n    case SoundTheme.MECHANICAL2:\r\n      return new Theme(mechanical2);\r\n    case SoundTheme.TYPEWRITER1:\r\n      return new Theme(typewriter1);\r\n    case SoundTheme.TYPEWRITER2:\r\n      return new Theme(typewriter2);\r\n    default:\r\n      return new Theme(defaultTheme);\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"_ilkzNvlU3\";\nvar _2 = \"A9hC49Po8Q\";\nvar _3 = \"GgxZphu1wd\";\nvar _4 = \"d_clTMK3JC\";\nexport { _1 as \"disabled\", _2 as \"icon\", _3 as \"label\", _4 as \"root\" }\n","import { mdiRadioboxBlank, mdiRadioboxMarked } from \"@mdi/js\";\nimport { clsx } from \"clsx\";\nimport { type ReactNode, useImperativeHandle, useRef } from \"react\";\nimport * as styles from \"./RadioBox.module.less\";\nimport { type RadioBoxProps } from \"./RadioBox.types.ts\";\n\nexport function RadioBox({\n  checked,\n  children,\n  disabled,\n  label,\n  name,\n  ref,\n  tabIndex,\n  title,\n  value,\n  onBlur,\n  onChange,\n  onFocus,\n  onSelect,\n  ...props\n}: RadioBoxProps): ReactNode {\n  const element = useRef<HTMLInputElement>(null);\n  useImperativeHandle(ref, () => ({\n    focus() {\n      element.current?.focus();\n    },\n    blur() {\n      element.current?.blur();\n    },\n  }));\n  return (\n    <label\n      {...props}\n      className={clsx(styles.root, disabled && styles.disabled)}\n      title={title}\n    >\n      <input\n        ref={element}\n        checked={checked}\n        disabled={disabled}\n        name={name}\n        tabIndex={tabIndex}\n        type=\"radio\"\n        value={value}\n        onBlur={onBlur}\n        onChange={(event) => {\n          const { checked } = event.target as HTMLInputElement;\n          onChange?.(checked);\n          if (checked) {\n            onSelect?.(value);\n          }\n        }}\n        onFocus={onFocus}\n      />\n      <svg className={styles.icon} viewBox=\"0 0 24 24\">\n        <path d={checked ? mdiRadioboxMarked : mdiRadioboxBlank} />\n      </svg>\n      <span className={styles.label}>{label || children}</span>\n    </label>\n  );\n}\n","/**\n * Formats time duration as a string of hours, minutes and seconds.\n * @param millis Time duration in milliseconds.\n * @return {string} Formatted time duration.\n */\nexport const formatDuration = (\n  millis: number,\n  { showMillis = false }: { readonly showMillis?: boolean } = {},\n): string => {\n  const pad = (v: number) => (v < 10 ? `0${v}` : `${v}`);\n  const hours = Math.floor(millis / 3_600_000);\n  millis = millis - hours * 3_600_000;\n  const minutes = Math.floor(millis / 60_000);\n  millis = millis - minutes * 60_000;\n  const seconds = Math.floor(millis / 1000);\n  millis = millis - seconds * 1_000;\n  if (showMillis) {\n    const frac = Math.floor(millis / 10);\n    return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}.${pad(frac)}`;\n  } else {\n    return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;\n  }\n};\n","// extracted by mini-css-extract-plugin\nvar _1 = \"MycQqt8KPs\";\nexport { _1 as \"cursor\" }\n","import { Attr, CaretShapeStyle } from \"@mkboard/textinput\";\r\nimport { type CSSProperties } from \"react\";\r\n\r\nconst cursorStyles = {\r\n  block: {\r\n    color: \"var(--textinput-cursor__color)\",\r\n    backgroundColor: \"var(--textinput-cursor__background-color)\",\r\n  } satisfies CSSProperties,\r\n  box: {\r\n    borderStyle: \"solid\",\r\n    borderColor: \"var(--textinput-cursor__background-color)\",\r\n  } satisfies CSSProperties,\r\n  line: {\r\n    backgroundColor: \"var(--textinput-cursor__background-color)\",\r\n  } satisfies CSSProperties,\r\n  underline: {\r\n    backgroundColor: \"var(--textinput-cursor__background-color)\",\r\n  } satisfies CSSProperties,\r\n} as const;\r\n\r\nexport const textItemStyle = {\r\n  display: \"inline-block\",\r\n  whiteSpace: \"nowrap\",\r\n} satisfies CSSProperties;\r\n\r\nconst textStyles = {\r\n  normal: {\r\n    color: \"var(--textinput__color)\",\r\n  } satisfies CSSProperties,\r\n  special: {\r\n    color: \"var(--textinput--special__color)\",\r\n  } satisfies CSSProperties,\r\n  hit: {\r\n    color: \"var(--textinput--hit__color)\",\r\n  } satisfies CSSProperties,\r\n  miss: {\r\n    color: \"var(--textinput--miss__color)\",\r\n  } satisfies CSSProperties,\r\n  garbage: {\r\n    color: \"var(--textinput__color)\",\r\n    backgroundColor: \"var(--textinput--miss__color)\",\r\n  } satisfies CSSProperties,\r\n} as const;\r\n\r\nconst syntaxStyles = {\r\n  keyword: { color: \"var(--syntax-keyword)\" },\r\n  string: { color: \"var(--syntax-string)\" },\r\n  number: { color: \"var(--syntax-number)\" },\r\n  comment: { color: \"var(--syntax-comment)\" },\r\n} as Record<string, CSSProperties>;\r\n\r\nexport function getCursorStyle(\r\n  caretShapeStyle: CaretShapeStyle,\r\n): CSSProperties {\r\n  switch (caretShapeStyle) {\r\n    case CaretShapeStyle.Block:\r\n      return cursorStyles.block;\r\n    case CaretShapeStyle.Box:\r\n      return cursorStyles.box;\r\n    case CaretShapeStyle.Line:\r\n      return cursorStyles.line;\r\n    case CaretShapeStyle.Underline:\r\n      return cursorStyles.underline;\r\n  }\r\n}\r\n\r\nexport function getTextStyle(\r\n  {\r\n    attrs,\r\n    cls,\r\n  }: {\r\n    readonly attrs: number;\r\n    readonly cls: string | null;\r\n  },\r\n  special: boolean,\r\n): CSSProperties | undefined {\r\n  switch (attrs) {\r\n    case Attr.Normal:\r\n    case Attr.Cursor: {\r\n      return (\r\n        syntaxStyles[cls ?? \"\"] ??\r\n        (special ? textStyles.special : textStyles.normal)\r\n      );\r\n    }\r\n    case Attr.Hit:\r\n      return textStyles.hit;\r\n    case Attr.Miss:\r\n      return textStyles.miss;\r\n    case Attr.Garbage:\r\n      return textStyles.garbage;\r\n  }\r\n  return undefined;\r\n}\r\n","import {\r\n  Attr,\r\n  type Char,\r\n  type TextDisplaySettings,\r\n  WhitespaceStyle,\r\n} from \"@mkboard/textinput\";\r\nimport { type CodePoint } from \"@mkboard/unicode\";\r\nimport { type ReactNode } from \"react\";\r\nimport * as styles from \"./chars.module.less\";\r\nimport { getTextStyle } from \"./styles.ts\";\r\n\r\nexport function renderChars(\r\n  settings: TextDisplaySettings,\r\n  chars: readonly Char[],\r\n): ReactNode[] {\r\n  const nodes: ReactNode[] = [];\r\n  type Span = { chars: CodePoint[]; attrs: number; cls: string | null };\r\n  let span: Span = { chars: [], attrs: 0, cls: null };\r\n  const pushSpan = (nextSpan: Span) => {\r\n    if (span.chars.length > 0) {\r\n      nodes.push(\r\n        <span\r\n          key={nodes.length}\r\n          className={getClassName(span)}\r\n          style={getTextStyle(span, /* special= */ false)}\r\n        >\r\n          {String.fromCodePoint(...span.chars)}\r\n        </span>,\r\n      );\r\n    }\r\n    span = nextSpan;\r\n  };\r\n  for (let i = 0; i < chars.length; i++) {\r\n    const { codePoint, attrs, cls = null } = chars[i];\r\n    if (codePoint > 0x0020) {\r\n      if (span.attrs !== attrs || span.cls !== cls) {\r\n        pushSpan({ chars: [], attrs, cls });\r\n      }\r\n      span.chars.push(codePoint);\r\n    } else {\r\n      pushSpan({ chars: [], attrs, cls });\r\n      nodes.push(\r\n        <span\r\n          key={nodes.length}\r\n          className={getClassName(span)}\r\n          style={getTextStyle(span, /* special= */ true)}\r\n        >\r\n          {specialChar(settings.whitespaceStyle, codePoint)}\r\n        </span>,\r\n      );\r\n    }\r\n  }\r\n  pushSpan({ chars: [], attrs: 0, cls: null });\r\n  return nodes;\r\n}\r\n\r\nfunction specialChar(whitespaceStyle: WhitespaceStyle, codePoint: CodePoint) {\r\n  switch (codePoint) {\r\n    case 0x0009:\r\n      return \"\\uE002\";\r\n    case 0x000a:\r\n      return \"\\uE003\";\r\n    case 0x0020:\r\n      switch (whitespaceStyle) {\r\n        case WhitespaceStyle.Bar:\r\n          return \"\\uE001\";\r\n        case WhitespaceStyle.Bullet:\r\n          return \"\\uE000\";\r\n        default:\r\n          return \"\\u00A0\";\r\n      }\r\n    default:\r\n      return `U+${codePoint.toString(16).padStart(4, \"0\")}`;\r\n  }\r\n}\r\n\r\nfunction getClassName({ attrs }: { readonly attrs: Attr }) {\r\n  return attrs === Attr.Cursor ? styles.cursor : undefined;\r\n}\r\n\r\nconst cursorSelector = `.${styles.cursor}`;\r\n\r\nexport function findCursor(container: HTMLElement): HTMLElement | null {\r\n  return container.querySelector<HTMLElement>(cursorSelector) ?? null;\r\n}\r\n","import {\r\n  CaretMovementStyle,\r\n  CaretShapeStyle,\r\n  type TextDisplaySettings,\r\n} from \"@mkboard/textinput\";\r\nimport {\r\n  Component,\r\n  createRef,\r\n  type CSSProperties,\r\n  type ReactNode,\r\n} from \"react\";\r\nimport { findCursor } from \"./chars.tsx\";\r\nimport { getCursorStyle } from \"./styles.ts\";\r\n\r\nexport class Cursor extends Component<{\r\n  readonly settings: TextDisplaySettings;\r\n  readonly children: ReactNode;\r\n}> {\r\n  readonly #containerRef = createRef<HTMLDivElement>();\r\n  readonly #cursorRef = createRef<HTMLSpanElement>();\r\n  #initial = true;\r\n  #animation: Animation | null = null;\r\n\r\n  override componentDidMount() {\r\n    this.#position();\r\n  }\r\n\r\n  override componentDidUpdate() {\r\n    this.#position();\r\n  }\r\n\r\n  override componentWillUnmount() {\r\n    if (this.#animation != null) {\r\n      this.#animation.cancel();\r\n    }\r\n  }\r\n\r\n  #position() {\r\n    const container = this.#containerRef.current;\r\n    const cursor = this.#cursorRef.current;\r\n    if (container != null && cursor != null) {\r\n      const char = findCursor(container);\r\n      if (char != null) {\r\n        this.#move(cursor, char);\r\n      } else {\r\n        this.#hide(cursor);\r\n      }\r\n    }\r\n  }\r\n\r\n  #move(cursor: HTMLElement, char: HTMLElement) {\r\n    const {\r\n      caretShapeStyle,\r\n      caretMovementStyle,\r\n      language: { direction },\r\n    } = this.props.settings;\r\n\r\n    const { style } = cursor;\r\n\r\n    const from = window.getComputedStyle(char);\r\n    style.fontFamily = from.fontFamily;\r\n    style.fontSize = from.fontSize;\r\n    style.fontStyle = from.fontStyle;\r\n    style.fontWeight = from.fontWeight;\r\n    style.fontVariant = from.fontVariant;\r\n    style.fontKerning = from.fontKerning;\r\n    style.lineHeight = from.lineHeight;\r\n\r\n    const x = char.offsetLeft;\r\n    const y = char.parentElement!.offsetTop;\r\n    const w = char.offsetWidth;\r\n    const h = char.parentElement!.offsetHeight;\r\n\r\n    let left: number;\r\n    let top: number;\r\n\r\n    switch (caretShapeStyle) {\r\n      case CaretShapeStyle.Block:\r\n        cursor.textContent = char.textContent;\r\n        style.display = \"block\";\r\n        style.borderWidth = \"\";\r\n        style.width = \"\";\r\n        style.height = \"\";\r\n        left = x;\r\n        top = y;\r\n        break;\r\n\r\n      case CaretShapeStyle.Box:\r\n        cursor.textContent = \"\";\r\n        style.display = \"block\";\r\n        style.borderWidth = \"1px\";\r\n        style.width = `${w + 4}px`;\r\n        style.height = `${h + 4}px`;\r\n        left = x - 2;\r\n        top = y - 2;\r\n        break;\r\n\r\n      case CaretShapeStyle.Line:\r\n        cursor.textContent = \"\";\r\n        style.display = \"block\";\r\n        style.borderWidth = \"\";\r\n        style.width = \"2px\";\r\n        style.height = `${h}px`;\r\n        switch (direction) {\r\n          case \"ltr\":\r\n            left = x - 2;\r\n            break;\r\n          case \"rtl\":\r\n            left = x + w;\r\n            break;\r\n        }\r\n        top = y;\r\n        break;\r\n\r\n      case CaretShapeStyle.Underline:\r\n        cursor.textContent = \"\";\r\n        style.display = \"block\";\r\n        style.borderWidth = \"\";\r\n        style.width = `${w}px`;\r\n        style.height = \"2px\";\r\n        left = x;\r\n        top = y + h - 2;\r\n        break;\r\n    }\r\n\r\n    const fromLeft = cursor.offsetLeft;\r\n    const fromTop = cursor.offsetTop;\r\n\r\n    style.left = `${left}px`;\r\n    style.top = `${top}px`;\r\n\r\n    if (this.#initial || caretMovementStyle !== CaretMovementStyle.Smooth) {\r\n      if (this.#animation != null) {\r\n        this.#animation.cancel();\r\n        this.#animation = null;\r\n      }\r\n    } else {\r\n      if (this.#animation != null) {\r\n        this.#animation.cancel();\r\n        this.#animation = null;\r\n      } else {\r\n        this.#animation = cursor.animate(\r\n          [\r\n            {\r\n              left: `${fromLeft}px`,\r\n              top: `${fromTop}px`,\r\n            },\r\n            {\r\n              left: `${left}px`,\r\n              top: `${top}px`,\r\n            },\r\n          ],\r\n          {\r\n            duration: wpmToDuration(120),\r\n            iterations: 1,\r\n            easing: \"linear\",\r\n          },\r\n        );\r\n        const clear = () => {\r\n          this.#animation = null;\r\n        };\r\n        this.#animation.onfinish = clear;\r\n        this.#animation.oncancel = clear;\r\n        this.#animation.onremove = clear;\r\n      }\r\n    }\r\n\r\n    this.#initial = false;\r\n  }\r\n\r\n  #hide(cursor: HTMLElement) {\r\n    const { style } = cursor;\r\n\r\n    cursor.textContent = \"\";\r\n\r\n    style.display = \"none\";\r\n    style.left = \"\";\r\n    style.top = \"\";\r\n    style.width = \"\";\r\n    style.height = \"\";\r\n\r\n    this.#initial = true;\r\n  }\r\n\r\n  override render(): ReactNode {\r\n    return (\r\n      <div ref={this.#containerRef} style={containerStyle}>\r\n        <span\r\n          ref={this.#cursorRef}\r\n          style={{\r\n            ...cursorStyle,\r\n            ...getCursorStyle(this.props.settings.caretShapeStyle),\r\n          }}\r\n        />\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst containerStyle = {\r\n  display: \"block\",\r\n  position: \"relative\",\r\n} satisfies CSSProperties;\r\n\r\nconst cursorStyle = {\r\n  display: \"block\",\r\n  position: \"absolute\",\r\n  left: 0,\r\n  top: 0,\r\n  width: 0,\r\n  height: 0,\r\n} satisfies CSSProperties;\r\n\r\nfunction wpmToDuration(wpm: number): number {\r\n  return Math.round(1000 / ((wpm * 5) / 60));\r\n}\r\n","import {\r\n  type Char,\r\n  charArraysAreEqual,\r\n  type Line,\r\n  type LineList,\r\n  type TextDisplaySettings,\r\n  textDisplaySettings,\r\n} from \"@mkboard/textinput\";\r\nimport { clsx } from \"clsx\";\r\nimport {\r\n  type ComponentType,\r\n  type CSSProperties,\r\n  memo,\r\n  type ReactNode,\r\n} from \"react\";\r\nimport { renderChars } from \"./chars.tsx\";\r\nimport { Cursor } from \"./Cursor.tsx\";\r\nimport { textItemStyle } from \"./styles.ts\";\r\nimport * as styles from \"./TextLines.module.less\";\r\n\r\nexport type TextLineSize = \"X0\" | \"X1\" | \"X2\" | \"X3\";\r\n\r\nexport const TextLines = memo(function TextLines({\r\n  settings = textDisplaySettings,\r\n  lines,\r\n  wrap = true,\r\n  size = \"X0\",\r\n  lineTemplate: LineTemplate,\r\n  cursor,\r\n  focus,\r\n}: {\r\n  readonly lines: LineList;\r\n  readonly settings?: TextDisplaySettings;\r\n  readonly wrap?: boolean;\r\n  readonly size?: TextLineSize;\r\n  readonly lineTemplate?: ComponentType<any>;\r\n  readonly cursor: boolean;\r\n  readonly focus: boolean;\r\n}): ReactNode {\r\n  const className = clsx(\r\n    styles.root,\r\n    wrap ? styles.wrap : styles.nowrap,\r\n    focus ? styles.focus : styles.blur,\r\n    size === \"X0\" && styles.size_X0,\r\n    size === \"X1\" && styles.size_X1,\r\n    size === \"X2\" && styles.size_X2,\r\n    size === \"X3\" && styles.size_X3,\r\n  );\r\n  const children = lines.lines.map(({ text, chars, ...props }: Line) =>\r\n    LineTemplate != null ? (\r\n      <LineTemplate key={text} {...props}>\r\n        <TextLine\r\n          key={text}\r\n          settings={settings}\r\n          chars={chars}\r\n          className={className}\r\n          style={settings.font.cssProperties}\r\n        />\r\n      </LineTemplate>\r\n    ) : (\r\n      <TextLine\r\n        key={text}\r\n        settings={settings}\r\n        chars={chars}\r\n        className={className}\r\n        style={settings.font.cssProperties}\r\n      />\r\n    ),\r\n  );\r\n  return cursor ? <Cursor settings={settings}>{children}</Cursor> : children;\r\n});\r\n\r\nconst TextLine = memo(\r\n  function TextLine({\r\n    settings,\r\n    chars,\r\n    className,\r\n    style,\r\n  }: {\r\n    readonly settings: TextDisplaySettings;\r\n    readonly chars: readonly Char[];\r\n    readonly className: string;\r\n    readonly style: CSSProperties;\r\n  }): ReactNode {\r\n    const items: Char[][] = [];\r\n    let itemChars: Char[] = [];\r\n    let ws = false;\r\n    for (let i = 0; i < chars.length; i++) {\r\n      const char = chars[i];\r\n      switch (char.codePoint) {\r\n        case 0x0009:\r\n        case 0x000a:\r\n        case 0x0020:\r\n          ws = true;\r\n          break;\r\n        default:\r\n          if (ws) {\r\n            if (itemChars.length > 0) {\r\n              items.push(itemChars);\r\n              itemChars = [];\r\n            }\r\n            ws = false;\r\n          }\r\n          break;\r\n      }\r\n      itemChars.push(char);\r\n    }\r\n    if (itemChars.length > 0) {\r\n      items.push(itemChars);\r\n      itemChars = [];\r\n    }\r\n    return (\r\n      <div\r\n        className={className}\r\n        style={style}\r\n        dir={settings.language.direction}\r\n      >\r\n        {items.map((chars, index) => (\r\n          <TextItem key={index} settings={settings} chars={chars} />\r\n        ))}\r\n      </div>\r\n    );\r\n  },\r\n  (prevProps, nextProps) =>\r\n    prevProps.settings === nextProps.settings &&\r\n    charArraysAreEqual(prevProps.chars, nextProps.chars) && // deep equality\r\n    prevProps.className === nextProps.className,\r\n);\r\n\r\nconst TextItem = memo(\r\n  function TextItem({\r\n    settings,\r\n    chars,\r\n  }: {\r\n    readonly settings: TextDisplaySettings;\r\n    readonly chars: readonly Char[];\r\n  }): ReactNode {\r\n    return <span style={textItemStyle}>{renderChars(settings, chars)}</span>;\r\n  },\r\n  (prevProps, nextProps) =>\r\n    prevProps.settings === nextProps.settings &&\r\n    charArraysAreEqual(prevProps.chars, nextProps.chars), // deep equality\r\n);\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"NXfTr0yt56\";\nvar _2 = \"mwDEcnXnIp\";\nvar _3 = \"D9Kye33sI5\";\nvar _4 = \"Am8SMS9VQ_\";\nvar _5 = \"TsmtAbDeBH\";\nvar _6 = \"rnOBiWFhnd\";\nvar _7 = \"SGgbQEY8lM\";\nvar _8 = \"B7VwezaYyu\";\nvar _9 = \"AMWjU2yvSn\";\nexport { _1 as \"blur\", _2 as \"focus\", _3 as \"nowrap\", _4 as \"root\", _5 as \"size_X0\", _6 as \"size_X1\", _7 as \"size_X2\", _8 as \"size_X3\", _9 as \"wrap\" }\n","import { type LineList, type TextDisplaySettings } from \"@mkboard/textinput\";\r\nimport { type ReactNode } from \"react\";\r\nimport { TextLines, type TextLineSize } from \"./TextLines.tsx\";\r\n\r\nexport function StaticText({\r\n  settings,\r\n  lines,\r\n  wrap,\r\n  size,\r\n  cursor = false,\r\n  focus = true,\r\n}: {\r\n  readonly settings?: TextDisplaySettings;\r\n  readonly lines: LineList;\r\n  readonly wrap?: boolean;\r\n  readonly size?: TextLineSize;\r\n  readonly cursor?: boolean;\r\n  readonly focus?: boolean;\r\n}): ReactNode {\r\n  return (\r\n    <TextLines\r\n      settings={settings}\r\n      lines={lines}\r\n      wrap={wrap}\r\n      size={size}\r\n      cursor={cursor}\r\n      focus={focus}\r\n    />\r\n  );\r\n}\r\n","import { Tasks } from \"@mkboard/lang\";\r\nimport {\r\n  type Char,\r\n  type TextDisplaySettings,\r\n  TextInput,\r\n} from \"@mkboard/textinput\";\r\nimport { type ReactNode, useEffect, useMemo, useState } from \"react\";\r\nimport { StaticText } from \"./StaticText.tsx\";\r\nimport { type TextLineSize } from \"./TextLines.tsx\";\r\n\r\nexport function AnimatedText({\r\n  settings,\r\n  text,\r\n  wrap,\r\n  size,\r\n}: {\r\n  readonly settings: TextDisplaySettings;\r\n  readonly text: string;\r\n  readonly wrap?: boolean;\r\n  readonly size?: TextLineSize;\r\n}): ReactNode {\r\n  const chars = useAnimatedTextState(text);\r\n  return (\r\n    <StaticText\r\n      settings={settings}\r\n      lines={{ text, lines: [{ text, chars }] }}\r\n      cursor={true}\r\n      wrap={wrap}\r\n      size={size}\r\n    />\r\n  );\r\n}\r\n\r\nfunction useAnimatedTextState(text: string): readonly Char[] {\r\n  const textInput = useMemo(\r\n    () =>\r\n      new TextInput(text, {\r\n        stopOnError: false,\r\n        forgiveErrors: false,\r\n        spaceSkipsWords: false,\r\n      }),\r\n    [text],\r\n  );\r\n  const [chars, setChars] = useState<readonly Char[]>([]);\r\n  useEffect(() => {\r\n    setChars(textInput.chars);\r\n    const tasks = new Tasks();\r\n    tasks.repeated(500, () => {\r\n      if (textInput.completed) {\r\n        textInput.reset();\r\n      } else {\r\n        textInput.appendChar(0, textInput.at(textInput.pos).codePoint, 0);\r\n      }\r\n      setChars(textInput.chars);\r\n    });\r\n    return () => {\r\n      tasks.cancelAll();\r\n    };\r\n  }, [textInput]);\r\n  return chars;\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"VuTADqka9r\";\nvar _2 = \"Jwt6EWabWC\";\nvar _3 = \"bv4yStF60D\";\nexport { _1 as \"messageArea\", _2 as \"messageText\", _3 as \"root\" }\n","import { type LineList, type TextDisplaySettings } from \"@mkboard/textinput\";\r\nimport {\r\n  type IInputEvent,\r\n  type IKeyboardEvent,\r\n  ModifierState,\r\n  TextEvents,\r\n} from \"@mkboard/textinput-events\";\r\nimport {\r\n  type Focusable,\r\n  useHotkeys,\r\n  useWindowEvent,\r\n  type ZoomableProps,\r\n} from \"@mkboard/widget\";\r\nimport {\r\n  type BaseSyntheticEvent,\r\n  type ComponentType,\r\n  type ReactNode,\r\n  type RefObject,\r\n  useCallback,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport * as styles from \"./TextArea.module.less\";\r\nimport { TextLines, type TextLineSize } from \"./TextLines.tsx\";\r\n\r\nexport function TextArea({\r\n  settings,\r\n  lines,\r\n  wrap,\r\n  size,\r\n  lineTemplate,\r\n  demo,\r\n  moving,\r\n  focusRef,\r\n  onFocus,\r\n  onBlur,\r\n  onKeyDown,\r\n  onKeyUp,\r\n  onInput,\r\n}: {\r\n  readonly settings: TextDisplaySettings;\r\n  readonly lines: LineList;\r\n  readonly wrap?: boolean;\r\n  readonly size?: TextLineSize;\r\n  readonly lineTemplate?: ComponentType<any>;\r\n  readonly demo?: boolean;\r\n  readonly moving?: boolean;\r\n  readonly focusRef?: RefObject<Focusable | null>;\r\n  readonly onFocus?: () => void;\r\n  readonly onBlur?: () => void;\r\n  readonly onKeyDown?: (event: IKeyboardEvent) => void;\r\n  readonly onKeyUp?: (event: IKeyboardEvent) => void;\r\n  readonly onInput?: (event: IInputEvent) => void;\r\n} & ZoomableProps): ReactNode {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const innerRef = useRef<Focusable>(null);\r\n  useImperativeHandle(focusRef, () => ({\r\n    focus() {\r\n      innerRef.current?.focus();\r\n    },\r\n    blur() {\r\n      innerRef.current?.blur();\r\n    },\r\n  }));\r\n  const [focus, setFocus] = useState(false);\r\n  useEffect(() => {\r\n    const element = ref.current;\r\n    if (element != null) {\r\n      setElementCursor(element, !moving && focus ? \"none\" : \"default\");\r\n    }\r\n  });\r\n  useWindowEvent(\"mousemove\", () => {\r\n    const element = ref.current;\r\n    if (element != null) {\r\n      setElementCursor(element, \"default\");\r\n    }\r\n  });\r\n  useHotkeys({\r\n    [\"Enter\"]: () => {\r\n      innerRef.current?.focus();\r\n    },\r\n  });\r\n  const handleFocus = useCallback(() => {\r\n    setFocus(true);\r\n    onFocus?.();\r\n  }, [onFocus]);\r\n  const handleBlur = useCallback(() => {\r\n    setFocus(false);\r\n    onBlur?.();\r\n  }, [onBlur]);\r\n  const handleClick = (event: BaseSyntheticEvent): void => {\r\n    innerRef.current?.focus();\r\n    event.preventDefault();\r\n  };\r\n  return (\r\n    <div ref={ref} className={styles.root} onClick={handleClick}>\r\n      <TextEvents\r\n        focusRef={innerRef}\r\n        onFocus={handleFocus}\r\n        onBlur={handleBlur}\r\n        onKeyDown={onKeyDown}\r\n        onKeyUp={onKeyUp}\r\n        onInput={onInput}\r\n      />\r\n      <TextLines\r\n        settings={settings}\r\n        lines={lines}\r\n        wrap={wrap}\r\n        size={size}\r\n        lineTemplate={lineTemplate}\r\n        cursor={!demo && focus}\r\n        focus={demo || focus}\r\n      />\r\n      {!demo && focus && ModifierState.capsLock && (\r\n        <div className={styles.messageArea}>\r\n          <div className={styles.messageText}>\r\n            <FormattedMessage\r\n              id=\"t_Caps_Lock_is_on\"\r\n              defaultMessage=\"Caps Lock is on\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {demo || focus || (\r\n        <div className={styles.messageArea}>\r\n          <div className={styles.messageText}>\r\n            <FormattedMessage\r\n              id=\"t_Click_or_press_Enter_\"\r\n              defaultMessage=\"Click or press Enter to activate...\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction setElementCursor(element: HTMLDivElement, cursor: string): void {\r\n  const { style } = element;\r\n  style.cursor = cursor;\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"_uLi9OCMfK\";\nexport { _1 as \"exampleText\" }\n","import { KeyboardOptions, useKeyboard } from \"@mkboard/keyboard\";\r\nimport { Tasks } from \"@mkboard/lang\";\r\nimport { Settings, useSettings } from \"@mkboard/settings\";\r\nimport {\r\n  CaretMovementStyle,\r\n  CaretShapeStyle,\r\n  Feedback,\r\n  Font,\r\n  textDisplayProps,\r\n  textInputProps,\r\n  toTextDisplaySettings,\r\n  WhitespaceStyle,\r\n} from \"@mkboard/textinput\";\r\nimport {\r\n  makeSoundPlayer,\r\n  PlaySounds,\r\n  soundProps,\r\n  SoundTheme,\r\n} from \"@mkboard/textinput-sounds\";\r\nimport {\r\n  CheckBox,\r\n  Description,\r\n  Explainer,\r\n  Field,\r\n  FieldList,\r\n  FieldSet,\r\n  Icon,\r\n  IconButton,\r\n  OptionList,\r\n  RadioBox,\r\n  Range,\r\n} from \"@mkboard/widget\";\r\nimport { mdiPlayCircleOutline, mdiStopCircleOutline } from \"@mdi/js\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { FormattedMessage, useIntl } from \"react-intl\";\r\nimport { AnimatedText } from \"./AnimatedText.tsx\";\r\nimport * as styles from \"./TypingSettings.module.less\";\r\n\r\nexport function TypingSettings() {\r\n  const { formatMessage } = useIntl();\r\n  return (\r\n    <>\r\n      <FieldSet\r\n        legend={formatMessage({\r\n          id: \"t_Typing_options\",\r\n          defaultMessage: \"Typing options\",\r\n        })}\r\n      >\r\n        <Explainer>\r\n          <Description>\r\n            <FormattedMessage\r\n              id=\"settings.typingAssists.description\"\r\n              defaultMessage=\"These are the typing assists which help your preserve your concentration and keep the flow by automatically correcting your errors.\"\r\n            />\r\n          </Description>\r\n        </Explainer>\r\n        <StopOnErrorProp />\r\n        <ForgiveErrorsProp />\r\n        <SpaceSkipsWordsProp />\r\n      </FieldSet>\r\n      <FieldSet\r\n        legend={formatMessage({\r\n          id: \"t_Text_appearance\",\r\n          defaultMessage: \"Text appearance\",\r\n        })}\r\n      >\r\n        <ExampleText />\r\n        <FontProp />\r\n        <WhitespaceProp />\r\n        <CursorShapeProp />\r\n        <CursorMovementProp />\r\n        <SoundsProp />\r\n        <SoundsThemeProp />\r\n      </FieldSet>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ExampleText() {\r\n  const { settings } = useSettings();\r\n  const keyboard = useKeyboard();\r\n  return (\r\n    <div className={styles.exampleText}>\r\n      <AnimatedText\r\n        settings={toTextDisplaySettings(settings)}\r\n        text={keyboard.getExampleText()}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StopOnErrorProp() {\r\n  const { formatMessage } = useIntl();\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <>\r\n      <FieldList>\r\n        <Field>\r\n          <CheckBox\r\n            label={formatMessage({\r\n              id: \"t_Stop_cursor_on_error\",\r\n              defaultMessage: \"Stop cursor on error\",\r\n            })}\r\n            checked={settings.get(textInputProps.stopOnError)}\r\n            onChange={(value) => {\r\n              updateSettings(settings.set(textInputProps.stopOnError, value));\r\n            }}\r\n          />\r\n        </Field>\r\n      </FieldList>\r\n      <Explainer>\r\n        <Description>\r\n          <FormattedMessage\r\n            id=\"settings.stopCursorOnError.description\"\r\n            defaultMessage=\"If enabled, the text cursor stops advancing until the right key is pressed at the current position. If disabled, all errors will be accumulated in the text input field and must be cleared with the delete key.\"\r\n          />\r\n        </Description>\r\n      </Explainer>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ForgiveErrorsProp() {\r\n  const { formatMessage } = useIntl();\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <>\r\n      <FieldList>\r\n        <Field>\r\n          <CheckBox\r\n            label={formatMessage({\r\n              id: \"t_Forgive_errors:\",\r\n              defaultMessage: \"Forgive errors\",\r\n            })}\r\n            checked={settings.get(textInputProps.forgiveErrors)}\r\n            onChange={(value) => {\r\n              updateSettings(settings.set(textInputProps.forgiveErrors, value));\r\n            }}\r\n          />\r\n        </Field>\r\n      </FieldList>\r\n      <Explainer>\r\n        <Description>\r\n          <FormattedMessage\r\n            id=\"settings.forgiveErrors.description\"\r\n            defaultMessage=\"If enabled, the text input field will forgive some kinds of errors by automatically fixing them. These are errors such as typing a wrong character or skipping a character.\"\r\n          />\r\n        </Description>\r\n      </Explainer>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction SpaceSkipsWordsProp() {\r\n  const { formatMessage } = useIntl();\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <>\r\n      <FieldList>\r\n        <Field>\r\n          <CheckBox\r\n            label={formatMessage({\r\n              id: \"t_Space_skips_words\",\r\n              defaultMessage: \"Space skips words\",\r\n            })}\r\n            checked={settings.get(textInputProps.spaceSkipsWords)}\r\n            onChange={(value) => {\r\n              updateSettings(\r\n                settings.set(textInputProps.spaceSkipsWords, value),\r\n              );\r\n            }}\r\n          />\r\n        </Field>\r\n      </FieldList>\r\n      <Explainer>\r\n        <Description>\r\n          <FormattedMessage\r\n            id=\"settings.spaceSkipsWords.description\"\r\n            defaultMessage=\"If enabled, pressing the space key in the middle of a word will skip the remaining characters of the word and position cursor at the beginning of the next word.\"\r\n          />\r\n        </Description>\r\n      </Explainer>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction FontProp() {\r\n  const { settings, updateSettings } = useSettings();\r\n  const { language } = KeyboardOptions.from(settings);\r\n  const fonts = Font.select(language);\r\n  const font = Font.find(fonts, settings.get(textDisplayProps.font));\r\n  return (\r\n    <FieldList>\r\n      <Field size={10}>\r\n        <FormattedMessage id=\"t_Font:\" defaultMessage=\"Font:\" />\r\n      </Field>\r\n      <Field>\r\n        <OptionList\r\n          options={fonts.map((item) => ({\r\n            value: item.id,\r\n            name: <span style={item.cssProperties}>{item.name}</span>,\r\n          }))}\r\n          value={font.id}\r\n          onSelect={(id) => {\r\n            updateSettings(\r\n              settings.set(textDisplayProps.font, Font.ALL.get(id)),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n\r\nfunction WhitespaceProp() {\r\n  const { formatMessage } = useIntl();\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <FieldList>\r\n      <Field size={10}>\r\n        <FormattedMessage id=\"t_Whitespace:\" defaultMessage=\"Whitespace:\" />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_ws_No_whitespace\",\r\n            defaultMessage: \"No whitespace\",\r\n          })}\r\n          name=\"whitespace-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.whitespaceStyle) ===\r\n            WhitespaceStyle.Space\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.whitespaceStyle,\r\n                WhitespaceStyle.Space,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_ws_Bar_whitespace\",\r\n            defaultMessage: \"Bar whitespace\",\r\n          })}\r\n          name=\"whitespace-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.whitespaceStyle) ===\r\n            WhitespaceStyle.Bar\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.whitespaceStyle,\r\n                WhitespaceStyle.Bar,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_ws_Bullet_whitespace\",\r\n            defaultMessage: \"Bullet whitespace\",\r\n          })}\r\n          name=\"whitespace-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.whitespaceStyle) ===\r\n            WhitespaceStyle.Bullet\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.whitespaceStyle,\r\n                WhitespaceStyle.Bullet,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n\r\nfunction CursorShapeProp() {\r\n  const { formatMessage } = useIntl();\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <FieldList>\r\n      <Field size={10}>\r\n        <FormattedMessage id=\"t_Cursor_shape:\" defaultMessage=\"Cursor shape:\" />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_cur_Block_cursor\",\r\n            defaultMessage: \"Block cursor\",\r\n          })}\r\n          name=\"cursor-shape-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.caretShapeStyle) ===\r\n            CaretShapeStyle.Block\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.caretShapeStyle,\r\n                CaretShapeStyle.Block,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_cur_Box_cursor\",\r\n            defaultMessage: \"Box cursor\",\r\n          })}\r\n          name=\"cursor-shape-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.caretShapeStyle) ===\r\n            CaretShapeStyle.Box\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.caretShapeStyle,\r\n                CaretShapeStyle.Box,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_cur_Line_cursor\",\r\n            defaultMessage: \"Line cursor\",\r\n          })}\r\n          name=\"cursor-shape-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.caretShapeStyle) ===\r\n            CaretShapeStyle.Line\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.caretShapeStyle,\r\n                CaretShapeStyle.Line,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_cur_Underline_cursor\",\r\n            defaultMessage: \"Underline cursor\",\r\n          })}\r\n          name=\"cursor-shape-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.caretShapeStyle) ===\r\n            CaretShapeStyle.Underline\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.caretShapeStyle,\r\n                CaretShapeStyle.Underline,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n\r\nfunction CursorMovementProp() {\r\n  const { formatMessage } = useIntl();\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <FieldList>\r\n      <Field size={10}>\r\n        <FormattedMessage\r\n          id=\"t_Cursor_movement:\"\r\n          defaultMessage=\"Cursor movement:\"\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_cur_Jumping_cursor\",\r\n            defaultMessage: \"Jumping cursor\",\r\n          })}\r\n          name=\"cursor-movement-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.caretMovementStyle) ===\r\n            CaretMovementStyle.Jumping\r\n          }\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.caretMovementStyle,\r\n                CaretMovementStyle.Jumping,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_cur_Smooth_cursor\",\r\n            defaultMessage: \"Smooth cursor\",\r\n          })}\r\n          name=\"cursor-movement-style\"\r\n          checked={\r\n            settings.get(textDisplayProps.caretMovementStyle) ===\r\n            CaretMovementStyle.Smooth\r\n          }\r\n          onChange={() => {\r\n            updateSettings(\r\n              settings.set(\r\n                textDisplayProps.caretMovementStyle,\r\n                CaretMovementStyle.Smooth,\r\n              ),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n\r\nfunction SoundsProp() {\r\n  const { formatMessage } = useIntl();\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <FieldList>\r\n      <Field size={10}>\r\n        <FormattedMessage id=\"t_Play_sounds:\" defaultMessage=\"Play sounds:\" />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_No_sounds:\",\r\n            defaultMessage: \"No sounds\",\r\n          })}\r\n          name=\"play-sounds\"\r\n          checked={settings.get(soundProps.playSounds) === PlaySounds.None}\r\n          onSelect={() => {\r\n            updateSettings(\r\n              settings.set(soundProps.playSounds, PlaySounds.None),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_Error_sounds_only:\",\r\n            defaultMessage: \"Error sounds only\",\r\n          })}\r\n          name=\"play-sounds\"\r\n          checked={\r\n            settings.get(soundProps.playSounds) === PlaySounds.ErrorsOnly\r\n          }\r\n          onChange={() => {\r\n            updateSettings(\r\n              settings.set(soundProps.playSounds, PlaySounds.ErrorsOnly),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_Key_sounds_only:\",\r\n            defaultMessage: \"Key sounds only\",\r\n          })}\r\n          name=\"play-sounds\"\r\n          checked={settings.get(soundProps.playSounds) === PlaySounds.KeysOnly}\r\n          onChange={() => {\r\n            updateSettings(\r\n              settings.set(soundProps.playSounds, PlaySounds.KeysOnly),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <RadioBox\r\n          label={formatMessage({\r\n            id: \"t_All_sounds:\",\r\n            defaultMessage: \"All sounds\",\r\n          })}\r\n          name=\"play-sounds\"\r\n          checked={settings.get(soundProps.playSounds) === PlaySounds.All}\r\n          onChange={() => {\r\n            updateSettings(settings.set(soundProps.playSounds, PlaySounds.All));\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <FormattedMessage id=\"t_Sound_volume:\" defaultMessage=\"Volume:\" />\r\n      </Field>\r\n      <Field>\r\n        <Range\r\n          min={0}\r\n          max={100}\r\n          step={1}\r\n          value={Math.round(settings.get(soundProps.soundVolume) * 100)}\r\n          onChange={(value) => {\r\n            updateSettings(settings.set(soundProps.soundVolume, value / 100));\r\n          }}\r\n        />\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n\r\nfunction SoundsThemeProp() {\r\n  const { settings, updateSettings } = useSettings();\r\n  return (\r\n    <FieldList>\r\n      <Field size={10}>\r\n        <FormattedMessage id=\"t_Sound_theme:\" defaultMessage=\"Sound theme:\" />\r\n      </Field>\r\n      <Field>\r\n        <OptionList\r\n          options={SoundTheme.ALL.map((item) => ({\r\n            value: item.id,\r\n            name: item.name,\r\n          }))}\r\n          value={settings.get(soundProps.soundTheme).id}\r\n          onSelect={(id) => {\r\n            updateSettings(\r\n              settings.set(soundProps.soundTheme, SoundTheme.ALL.get(id)),\r\n            );\r\n          }}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <SoundThemePreview />\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n\r\nfunction SoundThemePreview() {\r\n  const { settings } = useSettings();\r\n  const soundVolume = settings.get(soundProps.soundVolume);\r\n  const soundTheme = settings.get(soundProps.soundTheme);\r\n  const player = useMemo(() => {\r\n    if (process.env.NODE_ENV === \"test\") {\r\n      // Do not load sound assets in tests.\r\n      return () => {};\r\n    }\r\n    return makeSoundPlayer(\r\n      new Settings()\r\n        .set(soundProps.playSounds, PlaySounds.All)\r\n        .set(soundProps.soundVolume, soundVolume)\r\n        .set(soundProps.soundTheme, soundTheme),\r\n    );\r\n  }, [soundVolume, soundTheme]);\r\n  const [playing, setPlaying] = useState(false);\r\n  useEffect(() => {\r\n    const tasks = new Tasks();\r\n    if (playing) {\r\n      tasks.repeated(300, () => {\r\n        player(Feedback.Succeeded);\r\n      });\r\n    }\r\n    return () => {\r\n      tasks.cancelAll();\r\n    };\r\n  }, [player, playing]);\r\n  return (\r\n    <IconButton\r\n      icon={\r\n        <Icon shape={playing ? mdiStopCircleOutline : mdiPlayCircleOutline} />\r\n      }\r\n      onClick={() => {\r\n        setPlaying(!playing);\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import { type CodePoint, toCodePoints } from \"@mkboard/unicode\";\r\n\r\nexport type StyledText = string | StyledTextSpan | readonly StyledText[];\r\n\r\nexport type StyledTextSpan = { readonly text: string; readonly cls: string };\r\n\r\nexport const enum Attr {\r\n  Normal = 0,\r\n  Hit = 1,\r\n  Miss = 2,\r\n  Garbage = 4,\r\n  Cursor = 8,\r\n}\r\n\r\nexport type Char = {\r\n  readonly codePoint: CodePoint;\r\n  readonly attrs: number;\r\n  readonly cls?: string | null;\r\n};\r\n\r\nexport type Line = {\r\n  readonly text: string;\r\n  readonly chars: readonly Char[];\r\n};\r\n\r\nexport type LineList<T extends Line = Line> = {\r\n  readonly text: string;\r\n  readonly lines: readonly T[];\r\n};\r\n\r\nexport function flattenStyledText(text: StyledText): string {\r\n  const list: Array<string> = [];\r\n  if (Array.isArray(text)) {\r\n    for (const item of text) {\r\n      list.push(flattenStyledText(item));\r\n    }\r\n  } else if (typeof text === \"string\") {\r\n    list.push(text);\r\n  } else if (isStyledTextSpan(text)) {\r\n    list.push(text.text);\r\n  } else {\r\n    throw new TypeError();\r\n  }\r\n  return list.join(\"\");\r\n}\r\n\r\nexport function splitStyledText(\r\n  text: StyledText,\r\n  attrs: Attr = Attr.Normal,\r\n): Char[] {\r\n  const list: Array<Char> = [];\r\n  if (Array.isArray(text)) {\r\n    for (const item of text) {\r\n      list.push(...splitStyledText(item));\r\n    }\r\n  } else if (typeof text === \"string\") {\r\n    list.push(\r\n      ...[...toCodePoints(text)].map((codePoint) => ({\r\n        codePoint,\r\n        cls: null,\r\n        attrs,\r\n      })),\r\n    );\r\n  } else if (isStyledTextSpan(text)) {\r\n    list.push(\r\n      ...[...toCodePoints(text.text)].map((codePoint) => ({\r\n        codePoint,\r\n        cls: text.cls,\r\n        attrs,\r\n      })),\r\n    );\r\n  } else {\r\n    throw new TypeError();\r\n  }\r\n  return list;\r\n}\r\n\r\nexport function isStyledTextSpan(v: unknown): v is StyledTextSpan {\r\n  return v != null && typeof v === \"object\" && \"text\" in v;\r\n}\r\n\r\nexport function charsAreEqual(a: Char, b: Char): boolean {\r\n  if (a !== b) {\r\n    if (a.codePoint !== b.codePoint) {\r\n      return false;\r\n    }\r\n    if (a.attrs !== b.attrs) {\r\n      return false;\r\n    }\r\n    if (a.cls !== b.cls) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function charArraysAreEqual(\r\n  a: readonly Char[],\r\n  b: readonly Char[],\r\n): boolean {\r\n  if (a !== b) {\r\n    const { length } = a;\r\n    if (length !== b.length) {\r\n      return false;\r\n    }\r\n    for (let i = 0; i < length; i++) {\r\n      const x = a[i];\r\n      const y = b[i];\r\n      if (!charsAreEqual(x, y)) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function toLine(styledText: StyledText): Line {\r\n  const text = flattenStyledText(styledText);\r\n  const chars = splitStyledText(styledText);\r\n  return { text, chars };\r\n}\r\n\r\nexport function singleLine(styledText: StyledText): LineList {\r\n  const text = flattenStyledText(styledText);\r\n  const chars = splitStyledText(styledText);\r\n  return { text, lines: [{ text, chars }] };\r\n}\r\n","import { type CSSProperties } from \"react\";\n\nexport type FontWeight = \"100\" | \"200\" | \"300\" | \"400\" | \"500\" | \"600\" | \"700\" | \"800\" | \"900\";\nexport type FontStyle = \"normal\" | \"italic\";\nexport type Fallback = \"cursive\" | \"fantasy\" | \"monospace\" | \"sans-serif\" | \"serif\" | \"whitespace\" | string;\nexport type Script = \"arabic\" | \"cyrillic\" | \"greek\" | \"hebrew\" | \"latin\" | \"thai\";\n\nexport class FontFace {\n  readonly family: string;\n  readonly weight: FontWeight;\n  readonly style: FontStyle;\n  readonly fallbacks: readonly Fallback[];\n  readonly scripts: readonly Script[];\n  readonly name: string;\n  readonly cssProperties: CSSProperties;\n\n  constructor(\n    family: string,\n    weight: FontWeight,\n    style: FontStyle,\n    fallbacks: readonly Fallback[],\n    scripts: readonly Script[],\n  ) {\n    this.family = family;\n    this.weight = weight;\n    this.style = style;\n    this.fallbacks = fallbacks;\n    this.scripts = scripts;\n    this.name = fontName(family, weight, style);\n    this.cssProperties = {\n      fontFamily: [family, ...fallbacks].join(\",\"),\n      fontWeight: weight,\n      fontStyle: style,\n    };\n  }\n}\n\nconst cl = [\"cyrillic\", \"latin\"] as const satisfies Script[];\nconst cgl = [\"cyrillic\", \"greek\", \"latin\"] as const satisfies Script[];\nconst cghl = [\"cyrillic\", \"greek\", \"hebrew\", \"latin\"] as const satisfies Script[];\nconst achl = [\"arabic\", \"cyrillic\", \"hebrew\", \"latin\"] as const satisfies Script[];\nconst acghlt = [\"arabic\", \"cyrillic\", \"greek\", \"hebrew\", \"latin\", \"thai\"] as const satisfies Script[];\n\nexport const ARAD = new FontFace(\"Arad\", \"400\", \"normal\", [\"whitespace\"], [\"arabic\"]);\nexport const ARAD_B = new FontFace(\"Arad\", \"700\", \"normal\", [\"whitespace\"], [\"arabic\"]);\nexport const CORMORANT = new FontFace(\"Cormorant\", \"400\", \"normal\", [\"serif\"], cl);\nexport const CORMORANT_I = new FontFace(\"Cormorant\", \"400\", \"italic\", [\"serif\"], cl);\nexport const CORMORANT_B = new FontFace(\"Cormorant\", \"700\", \"normal\", [\"serif\"], cl);\nexport const CORMORANT_BI = new FontFace(\"Cormorant\", \"700\", \"italic\", [\"serif\"], cl);\nexport const NEWSREADER = new FontFace(\"Newsreader\", \"400\", \"normal\", [\"serif\"], [\"latin\"]);\nexport const NEWSREADER_I = new FontFace(\"Newsreader\", \"400\", \"italic\", [\"serif\"], [\"latin\"]);\nexport const NEWSREADER_B = new FontFace(\"Newsreader\", \"700\", \"normal\", [\"serif\"], [\"latin\"]);\nexport const NEWSREADER_BI = new FontFace(\"Newsreader\", \"700\", \"italic\", [\"serif\"], [\"latin\"]);\nexport const NUNITO = new FontFace(\"Nunito\", \"400\", \"normal\", [\"sans-serif\"], cl);\nexport const NUNITO_I = new FontFace(\"Nunito\", \"400\", \"italic\", [\"sans-serif\"], cl);\nexport const NUNITO_B = new FontFace(\"Nunito\", \"700\", \"normal\", [\"sans-serif\"], cl);\nexport const NUNITO_BI = new FontFace(\"Nunito\", \"700\", \"italic\", [\"sans-serif\"], cl);\nexport const OPEN_DYSLEXIC = new FontFace(\"Open Dyslexic\", \"400\", \"normal\", [\"sans-serif\"], cgl);\nexport const OPEN_DYSLEXIC_I = new FontFace(\"Open Dyslexic\", \"400\", \"italic\", [\"sans-serif\"], cgl);\nexport const OPEN_DYSLEXIC_B = new FontFace(\"Open Dyslexic\", \"700\", \"normal\", [\"sans-serif\"], cgl);\nexport const OPEN_DYSLEXIC_BI = new FontFace(\"Open Dyslexic\", \"700\", \"italic\", [\"sans-serif\"], cgl);\nexport const OPEN_SANS = new FontFace(\"Open Sans\", \"400\", \"normal\", [\"sans-serif\"], cghl);\nexport const OPEN_SANS_I = new FontFace(\"Open Sans\", \"400\", \"italic\", [\"sans-serif\"], cghl);\nexport const OPEN_SANS_B = new FontFace(\"Open Sans\", \"700\", \"normal\", [\"sans-serif\"], cghl);\nexport const OPEN_SANS_BI = new FontFace(\"Open Sans\", \"700\", \"italic\", [\"sans-serif\"], cghl);\nexport const ROBOTO = new FontFace(\"Roboto\", \"400\", \"normal\", [\"sans-serif\"], cgl);\nexport const ROBOTO_I = new FontFace(\"Roboto\", \"400\", \"italic\", [\"sans-serif\"], cgl);\nexport const ROBOTO_B = new FontFace(\"Roboto\", \"700\", \"normal\", [\"sans-serif\"], cgl);\nexport const ROBOTO_BI = new FontFace(\"Roboto\", \"700\", \"italic\", [\"sans-serif\"], cgl);\nexport const ROBOTO_MONO = new FontFace(\"Roboto Mono\", \"400\", \"normal\", [\"monospace\"], cgl);\nexport const ROBOTO_MONO_I = new FontFace(\"Roboto Mono\", \"400\", \"italic\", [\"monospace\"], cgl);\nexport const ROBOTO_MONO_B = new FontFace(\"Roboto Mono\", \"700\", \"normal\", [\"monospace\"], cgl);\nexport const ROBOTO_MONO_BI = new FontFace(\"Roboto Mono\", \"700\", \"italic\", [\"monospace\"], cgl);\nexport const RUBIK = new FontFace(\"Rubik\", \"400\", \"normal\", [\"sans-serif\"], achl);\nexport const RUBIK_I = new FontFace(\"Rubik\", \"400\", \"italic\", [\"sans-serif\"], achl);\nexport const RUBIK_B = new FontFace(\"Rubik\", \"700\", \"normal\", [\"sans-serif\"], achl);\nexport const RUBIK_BI = new FontFace(\"Rubik\", \"700\", \"italic\", [\"sans-serif\"], achl);\nexport const SHANTELL_SANS = new FontFace(\"Shantell Sans\", \"400\", \"normal\", [\"serif\"], cl);\nexport const SHANTELL_SANS_I = new FontFace(\"Shantell Sans\", \"400\", \"italic\", [\"serif\"], cl);\nexport const SHANTELL_SANS_B = new FontFace(\"Shantell Sans\", \"700\", \"normal\", [\"serif\"], cl);\nexport const SHANTELL_SANS_BI = new FontFace(\"Shantell Sans\", \"700\", \"italic\", [\"serif\"], cl);\nexport const SPECTRAL = new FontFace(\"Spectral\", \"400\", \"normal\", [\"serif\"], cl);\nexport const SPECTRAL_I = new FontFace(\"Spectral\", \"400\", \"italic\", [\"serif\"], cl);\nexport const SPECTRAL_B = new FontFace(\"Spectral\", \"700\", \"normal\", [\"serif\"], cl);\nexport const SPECTRAL_BI = new FontFace(\"Spectral\", \"700\", \"italic\", [\"serif\"], cl);\nexport const UBUNTU = new FontFace(\"Ubuntu\", \"400\", \"normal\", [\"sans-serif\"], cgl);\nexport const UBUNTU_I = new FontFace(\"Ubuntu\", \"400\", \"italic\", [\"sans-serif\"], cgl);\nexport const UBUNTU_B = new FontFace(\"Ubuntu\", \"700\", \"normal\", [\"sans-serif\"], cgl);\nexport const UBUNTU_BI = new FontFace(\"Ubuntu\", \"700\", \"italic\", [\"sans-serif\"], cgl);\nexport const UBUNTU_MONO = new FontFace(\"Ubuntu Mono\", \"400\", \"normal\", [\"monospace\"], cgl);\nexport const UBUNTU_MONO_I = new FontFace(\"Ubuntu Mono\", \"400\", \"italic\", [\"monospace\"], cgl);\nexport const UBUNTU_MONO_B = new FontFace(\"Ubuntu Mono\", \"700\", \"normal\", [\"monospace\"], cgl);\nexport const UBUNTU_MONO_BI = new FontFace(\"Ubuntu Mono\", \"700\", \"italic\", [\"monospace\"], cgl);\nexport const SERIF = new FontFace(\"serif\", \"400\", \"normal\", [\"whitespace\"], acghlt);\nexport const SERIF_I = new FontFace(\"serif\", \"400\", \"italic\", [\"whitespace\"], acghlt);\nexport const SERIF_B = new FontFace(\"serif\", \"700\", \"normal\", [\"whitespace\"], acghlt);\nexport const SERIF_BI = new FontFace(\"serif\", \"700\", \"italic\", [\"whitespace\"], acghlt);\nexport const SANS_SERIF = new FontFace(\"sans-serif\", \"400\", \"normal\", [\"whitespace\"], acghlt);\nexport const SANS_SERIF_I = new FontFace(\"sans-serif\", \"400\", \"italic\", [\"whitespace\"], acghlt);\nexport const SANS_SERIF_B = new FontFace(\"sans-serif\", \"700\", \"normal\", [\"whitespace\"], acghlt);\nexport const SANS_SERIF_BI = new FontFace(\"sans-serif\", \"700\", \"italic\", [\"whitespace\"], acghlt);\nexport const MONOSPACE = new FontFace(\"monospace\", \"400\", \"normal\", [\"whitespace\"], acghlt);\nexport const MONOSPACE_I = new FontFace(\"monospace\", \"400\", \"italic\", [\"whitespace\"], acghlt);\nexport const MONOSPACE_B = new FontFace(\"monospace\", \"700\", \"normal\", [\"whitespace\"], acghlt);\nexport const MONOSPACE_BI = new FontFace(\"monospace\", \"700\", \"italic\", [\"whitespace\"], acghlt);\nexport const CURSIVE = new FontFace(\"cursive\", \"400\", \"normal\", [\"whitespace\"], acghlt);\nexport const CURSIVE_I = new FontFace(\"cursive\", \"400\", \"italic\", [\"whitespace\"], acghlt);\nexport const CURSIVE_B = new FontFace(\"cursive\", \"700\", \"normal\", [\"whitespace\"], acghlt);\nexport const CURSIVE_BI = new FontFace(\"cursive\", \"700\", \"italic\", [\"whitespace\"], acghlt);\n\nexport const FONTS_FACES: readonly FontFace[] = [\n  ARAD,\n  ARAD_B,\n  CORMORANT,\n  CORMORANT_I,\n  CORMORANT_B,\n  CORMORANT_BI,\n  NEWSREADER,\n  NEWSREADER_I,\n  NEWSREADER_B,\n  NEWSREADER_BI,\n  NUNITO,\n  NUNITO_I,\n  NUNITO_B,\n  NUNITO_BI,\n  OPEN_SANS,\n  OPEN_SANS_I,\n  OPEN_SANS_B,\n  OPEN_SANS_BI,\n  ROBOTO,\n  ROBOTO_I,\n  ROBOTO_B,\n  ROBOTO_BI,\n  ROBOTO_MONO,\n  ROBOTO_MONO_I,\n  ROBOTO_MONO_B,\n  ROBOTO_MONO_BI,\n  RUBIK,\n  RUBIK_I,\n  RUBIK_B,\n  RUBIK_BI,\n  SHANTELL_SANS,\n  SHANTELL_SANS_I,\n  SHANTELL_SANS_B,\n  SHANTELL_SANS_BI,\n  SPECTRAL,\n  SPECTRAL_I,\n  SPECTRAL_B,\n  SPECTRAL_BI,\n  UBUNTU,\n  UBUNTU_I,\n  UBUNTU_B,\n  UBUNTU_BI,\n  UBUNTU_MONO,\n  UBUNTU_MONO_I,\n  UBUNTU_MONO_B,\n  UBUNTU_MONO_BI,\n  SERIF,\n  SERIF_I,\n  SERIF_B,\n  SERIF_BI,\n  SANS_SERIF,\n  SANS_SERIF_I,\n  SANS_SERIF_B,\n  SANS_SERIF_BI,\n  MONOSPACE,\n  MONOSPACE_I,\n  MONOSPACE_B,\n  MONOSPACE_BI,\n  CURSIVE,\n  CURSIVE_I,\n  CURSIVE_B,\n  CURSIVE_BI,\n  OPEN_DYSLEXIC,\n  OPEN_DYSLEXIC_I,\n  OPEN_DYSLEXIC_B,\n  OPEN_DYSLEXIC_BI,\n];\n\nfunction fontName(family: string, weight: FontWeight, style: FontStyle): string {\n  let w = \"Regular\";\n  switch (weight) {\n    case \"100\":\n      w = \"Thin\";\n      break;\n    case \"200\":\n      w = \"Extra Light\";\n      break;\n    case \"300\":\n      w = \"Light\";\n      break;\n    case \"400\":\n      w = \"Regular\";\n      break;\n    case \"500\":\n      w = \"Medium\";\n      break;\n    case \"600\":\n      w = \"Semi Bold\";\n      break;\n    case \"700\":\n      w = \"Bold\";\n      break;\n    case \"800\":\n      w = \"Extra Bold\";\n      break;\n    case \"900\":\n      w = \"Black\";\n      break;\n  }\n  let s = \"Regular\";\n  switch (style) {\n    case \"normal\":\n      s = \"Regular\";\n      break;\n    case \"italic\":\n      s = \"Italic\";\n      break;\n  }\n  if (w === \"Regular\" && s === \"Regular\") {\n    return `${family}`;\n  }\n  if (w === \"Regular\") {\n    return `${family} (${s})`;\n  }\n  if (s === \"Regular\") {\n    return `${family} (${w})`;\n  }\n  return `${family} (${w} ${s})`;\n}\n","import { type Language } from \"@mkboard/keyboard\";\r\nimport { Enum, type EnumItem } from \"@mkboard/lang\";\r\nimport {\r\n  type FontFace,\r\n  FONTS_FACES,\r\n  type Script,\r\n  UBUNTU_MONO,\r\n} from \"@mkboard/themes\";\r\nimport { type CSSProperties } from \"react\";\r\n\r\nexport class Font implements EnumItem {\r\n  static readonly ALL = new Enum<Font>(\r\n    ...FONTS_FACES.map((fontFace) => new Font(fontFace)),\r\n  );\r\n\r\n  static get default() {\r\n    return (\r\n      Font.ALL.find(({ name }) => name === UBUNTU_MONO.name) ?? Font.ALL.at(0)\r\n    );\r\n  }\r\n\r\n  static select(language: Language) {\r\n    return new Enum(\r\n      ...Font.ALL.filter((font) => font.scripts.includes(language.script)),\r\n    );\r\n  }\r\n\r\n  static find(fonts: Enum<Font>, font: Font) {\r\n    return fonts.has(font) ? font : fonts.at(0);\r\n  }\r\n\r\n  readonly id: string;\r\n  readonly name: string;\r\n  readonly scripts: readonly Script[];\r\n  readonly cssProperties: CSSProperties;\r\n\r\n  private constructor(fontFace: FontFace) {\r\n    this.id = `${fontFace.family}-${fontFace.weight}-${fontFace.style}`;\r\n    this.name = fontFace.name;\r\n    this.scripts = fontFace.scripts;\r\n    this.cssProperties = Object.freeze({ ...fontFace.cssProperties });\r\n    Object.freeze(this);\r\n  }\r\n\r\n  toString() {\r\n    return this.id;\r\n  }\r\n\r\n  toJSON() {\r\n    return this.id;\r\n  }\r\n}\r\n","import { type CodePoint } from \"@mkboard/unicode\";\r\nimport { type Step } from \"./textinput.ts\";\r\n\r\nexport type Sample = {\r\n  readonly codePoint: CodePoint;\r\n  readonly hitCount: number;\r\n  readonly missCount: number;\r\n  readonly timeToType: number;\r\n};\r\n\r\nexport class Histogram implements Iterable<Sample> {\r\n  static readonly empty = Histogram.from([]);\r\n\r\n  readonly #data: Map<CodePoint, Sample>;\r\n\r\n  constructor(samples: readonly Sample[]) {\r\n    this.#data = new Map(\r\n      Array.from(samples)\r\n        .sort((a, b) => a.codePoint - b.codePoint)\r\n        .map((sample) => [sample.codePoint, sample]),\r\n    );\r\n  }\r\n\r\n  [Symbol.iterator](): IterableIterator<Sample> {\r\n    return this.#data.values();\r\n  }\r\n\r\n  get complexity(): number {\r\n    return this.#data.size;\r\n  }\r\n\r\n  has(codePoint: CodePoint): boolean {\r\n    return this.#data.has(codePoint);\r\n  }\r\n\r\n  get(codePoint: CodePoint): Sample | null {\r\n    return this.#data.get(codePoint) ?? null;\r\n  }\r\n\r\n  validate(): boolean {\r\n    if (this.#data.size < 3) {\r\n      return false; // Too few characters.\r\n    }\r\n    for (const sample of this.#data.values()) {\r\n      if (!validateSample(sample)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  static from(steps: readonly Step[]): Histogram {\r\n    const samples = new Map<\r\n      CodePoint,\r\n      {\r\n        hitCount: number;\r\n        missCount: number;\r\n        time: number;\r\n        count: number;\r\n      }\r\n    >();\r\n    for (const { codePoint, timeToType, typo } of steps) {\r\n      let sample = samples.get(codePoint);\r\n      if (sample == null) {\r\n        samples.set(\r\n          codePoint,\r\n          (sample = {\r\n            hitCount: 0,\r\n            missCount: 0,\r\n            time: 0,\r\n            count: 0,\r\n          }),\r\n        );\r\n      }\r\n      sample.hitCount += 1;\r\n      if (typo) {\r\n        sample.missCount += 1;\r\n      } else if (timeToType > 0) {\r\n        sample.time += timeToType;\r\n        sample.count += 1;\r\n      }\r\n    }\r\n    return new Histogram(\r\n      [...samples.entries()]\r\n        .map(([codePoint, { hitCount, missCount, time, count }]) => ({\r\n          codePoint,\r\n          hitCount,\r\n          missCount,\r\n          timeToType: time > 0 && count > 0 ? Math.round(time / count) : 0,\r\n        }))\r\n        .filter(validateSample),\r\n    );\r\n  }\r\n}\r\n\r\nexport function validateSample({ timeToType }: Sample): boolean {\r\n  if (timeToType > 0) {\r\n    if (timeToType < /* 300WPM/1500CPM */ 40) {\r\n      return false; // Too fast.\r\n    }\r\n    if (timeToType > /* 1WPM/5CPM */ 12000) {\r\n      return false; // Too slow.\r\n    }\r\n  }\r\n  return true;\r\n}\r\n","import { KeyboardOptions, Language } from \"@mkboard/keyboard\";\r\nimport {\r\n  booleanProp,\r\n  enumProp,\r\n  itemProp,\r\n  type Settings,\r\n} from \"@mkboard/settings\";\r\nimport { Font } from \"./font.ts\";\r\n\r\n/**\r\n * Text input settings.\r\n */\r\nexport type TextInputSettings = {\r\n  /**\r\n   * If enabled then text input stops advancing until the right key\r\n   * at the cursor position is pressed, no delete key is used.\r\n   * If disabled all errors will be accumulated in the garbage field\r\n   * and must be cleared with the delete key.\r\n   */\r\n  readonly stopOnError: boolean;\r\n  /**\r\n   * Enabling this option makes text input forgive some kind of errors,\r\n   * like typing a wrong character or skipping a character.\r\n   */\r\n  readonly forgiveErrors: boolean;\r\n  /**\r\n   * If enabled then the space key skips all characters of a current word\r\n   * to the first character of a next word.\r\n   */\r\n  readonly spaceSkipsWords: boolean;\r\n};\r\n\r\nexport const textInputSettings = {\r\n  stopOnError: true,\r\n  forgiveErrors: true,\r\n  spaceSkipsWords: true,\r\n} as const satisfies TextInputSettings;\r\n\r\nexport const textInputProps = {\r\n  stopOnError: booleanProp(\"textInput.stopOnError\", true),\r\n  forgiveErrors: booleanProp(\"textInput.forgiveErrors\", true),\r\n  spaceSkipsWords: booleanProp(\"textInput.spaceSkipsWords\", false),\r\n} as const;\r\n\r\nexport function toTextInputSettings(settings: Settings): TextInputSettings {\r\n  return {\r\n    stopOnError: settings.get(textInputProps.stopOnError),\r\n    forgiveErrors: settings.get(textInputProps.forgiveErrors),\r\n    spaceSkipsWords: settings.get(textInputProps.spaceSkipsWords),\r\n  };\r\n}\r\n\r\nexport type TextDisplaySettings = {\r\n  readonly font: Font;\r\n  readonly caretShapeStyle: CaretShapeStyle;\r\n  readonly caretMovementStyle: CaretMovementStyle;\r\n  readonly whitespaceStyle: WhitespaceStyle;\r\n  readonly language: Language;\r\n};\r\n\r\nexport enum CaretShapeStyle {\r\n  Block = 1,\r\n  Box = 2,\r\n  Line = 3,\r\n  Underline = 4,\r\n}\r\n\r\nexport enum CaretMovementStyle {\r\n  Jumping = 1,\r\n  Smooth = 2,\r\n}\r\n\r\nexport enum WhitespaceStyle {\r\n  Space = 1,\r\n  Bar = 2,\r\n  Bullet = 3,\r\n}\r\n\r\nexport const textDisplaySettings = {\r\n  font: Font.default,\r\n  caretShapeStyle: CaretShapeStyle.Underline,\r\n  caretMovementStyle: CaretMovementStyle.Smooth,\r\n  whitespaceStyle: WhitespaceStyle.Bullet,\r\n  language: Language.EN,\r\n} as const satisfies TextDisplaySettings;\r\n\r\nexport const textDisplayProps = {\r\n  font: itemProp(\"textDisplay.font\", Font.ALL, Font.default),\r\n  caretShapeStyle: enumProp(\r\n    \"textDisplay.caretShapeStyle\",\r\n    CaretShapeStyle,\r\n    CaretShapeStyle.Underline,\r\n  ),\r\n  caretMovementStyle: enumProp(\r\n    \"textDisplay.caretMovementStyle\",\r\n    CaretMovementStyle,\r\n    CaretMovementStyle.Smooth,\r\n  ),\r\n  whitespaceStyle: enumProp(\r\n    \"textDisplay.whitespaceStyle\",\r\n    WhitespaceStyle,\r\n    WhitespaceStyle.Bullet,\r\n  ),\r\n} as const;\r\n\r\nexport function toTextDisplaySettings(settings: Settings): TextDisplaySettings {\r\n  const caretShapeStyle = settings.get(textDisplayProps.caretShapeStyle);\r\n  const caretMovementStyle = settings.get(textDisplayProps.caretMovementStyle);\r\n  const whitespaceStyle = settings.get(textDisplayProps.whitespaceStyle);\r\n  const { language } = KeyboardOptions.from(settings);\r\n  const fonts = Font.select(language);\r\n  const font = Font.find(fonts, settings.get(textDisplayProps.font));\r\n  return {\r\n    font,\r\n    caretShapeStyle,\r\n    caretMovementStyle,\r\n    whitespaceStyle,\r\n    language,\r\n  };\r\n}\r\n","import { Histogram } from \"./histogram.ts\";\nimport { type Step } from \"./textinput.ts\";\n\nexport type Stats = {\n  readonly time: number;\n  readonly speed: number;\n  readonly length: number;\n  readonly errors: number;\n  readonly accuracy: number;\n  readonly histogram: Histogram;\n};\n\nexport function makeStats(steps: readonly Step[]): Stats {\n  if (steps.length >= 2) {\n    const { timeStamp: startedAt } = steps.at(0)!;\n    const { timeStamp: endedAt } = steps.at(-1)!;\n    const { length } = steps;\n    const time = Math.round(endedAt - startedAt);\n    const speed = computeSpeed(length, time);\n    const errors = countErrors(steps);\n    const accuracy = (length - errors) / length;\n    return {\n      time,\n      speed,\n      length,\n      errors,\n      accuracy,\n      histogram: Histogram.from(steps.slice(1)), // The trigger step is ignored.\n    };\n  } else {\n    return {\n      time: 0,\n      speed: 0,\n      length: 0,\n      errors: 0,\n      accuracy: 0,\n      histogram: Histogram.empty,\n    };\n  }\n}\n\nexport function countErrors(steps: readonly Step[]): number {\n  let errors = 0;\n  for (const item of steps) {\n    if (item.typo) {\n      errors += 1;\n    }\n  }\n  return errors;\n}\n\nexport function computeSpeed(length: number, time: number): number {\n  return time > 0 ? (length / (time / 1000)) * 60 : 0;\n}\n","import { filterText } from \"@mkboard/keyboard\";\r\nimport { type CodePoint } from \"@mkboard/unicode\";\r\nimport {\r\n  Attr,\r\n  type Char,\r\n  flattenStyledText,\r\n  type LineList,\r\n  splitStyledText,\r\n  type StyledText,\r\n} from \"./chars.ts\";\r\nimport { type TextInputSettings } from \"./settings.ts\";\r\n\r\nexport enum Feedback {\r\n  Succeeded,\r\n  Recovered,\r\n  Failed,\r\n}\r\n\r\nexport type Step = {\r\n  readonly timeStamp: number;\r\n  readonly codePoint: CodePoint;\r\n  readonly timeToType: number;\r\n  readonly typo: boolean;\r\n};\r\n\r\nexport type StepListener = (step: Step) => void;\r\n\r\nconst recoverBufferLength = 3;\r\nconst garbageBufferLength = 10;\r\n\r\nexport class TextInput {\r\n  readonly text: StyledText;\r\n  readonly stopOnError: boolean;\r\n  readonly forgiveErrors: boolean;\r\n  readonly spaceSkipsWords: boolean;\r\n  readonly onStep: StepListener;\r\n  readonly #text: string;\r\n  readonly #chars: readonly Char[];\r\n  #steps: (Step & { readonly char: Char })[] = [];\r\n  #garbage: (Step & { readonly char: Char })[] = [];\r\n  #typo!: boolean;\r\n  #output!: { chars: Char[]; lines: LineList; remaining: Char[] };\r\n\r\n  constructor(\r\n    text: StyledText,\r\n    { stopOnError, forgiveErrors, spaceSkipsWords }: TextInputSettings,\r\n    onStep: StepListener = () => {},\r\n  ) {\r\n    this.text = text;\r\n    this.stopOnError = stopOnError;\r\n    this.forgiveErrors = forgiveErrors;\r\n    this.spaceSkipsWords = spaceSkipsWords;\r\n    this.onStep = onStep;\r\n    this.#text = flattenStyledText(text);\r\n    this.#chars = splitStyledText(text);\r\n    this.reset();\r\n  }\r\n\r\n  reset(): void {\r\n    this.#steps = [];\r\n    this.#garbage = [];\r\n    this.#typo = false;\r\n    this.#update();\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#chars.length;\r\n  }\r\n\r\n  at(index: number): Char {\r\n    return this.#chars.at(index)!;\r\n  }\r\n\r\n  get pos(): number {\r\n    return this.#steps.length;\r\n  }\r\n\r\n  get completed(): boolean {\r\n    return this.pos === this.length;\r\n  }\r\n\r\n  get steps(): readonly Step[] {\r\n    return this.#steps;\r\n  }\r\n\r\n  get chars(): readonly Char[] {\r\n    return this.#output.chars;\r\n  }\r\n\r\n  get lines(): LineList {\r\n    return this.#output.lines;\r\n  }\r\n\r\n  get remaining(): readonly Char[] {\r\n    return this.#output.remaining;\r\n  }\r\n\r\n  onInput({\r\n    timeStamp,\r\n    inputType,\r\n    codePoint,\r\n    timeToType,\r\n  }: {\r\n    readonly timeStamp: number;\r\n    readonly inputType:\r\n      | \"appendChar\"\r\n      | \"appendLineBreak\"\r\n      | \"clearChar\"\r\n      | \"clearWord\";\r\n    readonly codePoint: CodePoint;\r\n    readonly timeToType: number;\r\n  }): Feedback {\r\n    switch (inputType) {\r\n      case \"appendChar\":\r\n        return this.appendChar(timeStamp, codePoint, timeToType);\r\n      case \"appendLineBreak\":\r\n        return this.appendChar(timeStamp, 0x0020, timeToType);\r\n      case \"clearChar\":\r\n        return this.clearChar();\r\n      case \"clearWord\":\r\n        return this.clearWord();\r\n    }\r\n  }\r\n\r\n  clearChar(): Feedback {\r\n    this.#garbage.pop();\r\n    this.#typo = true;\r\n    return this.#return(Feedback.Succeeded);\r\n  }\r\n\r\n  clearWord(): Feedback {\r\n    this.#garbage = [];\r\n    while (this.pos > 0 && this.at(this.pos - 1).codePoint !== 0x0020) {\r\n      this.#steps.pop();\r\n    }\r\n    this.#typo = true;\r\n    return this.#return(Feedback.Succeeded);\r\n  }\r\n\r\n  appendChar(\r\n    timeStamp: number,\r\n    codePoint: CodePoint,\r\n    timeToType: number,\r\n  ): Feedback {\r\n    if (this.completed) {\r\n      throw new Error();\r\n    }\r\n\r\n    const { codePoint: expected } = this.at(this.pos);\r\n\r\n    if (expected !== 0x0020 && codePoint === 0x0020) {\r\n      if (\r\n        this.spaceSkipsWords &&\r\n        ((this.pos > 0 && this.at(this.pos - 1).codePoint !== 0x0020) ||\r\n          this.#typo)\r\n      ) {\r\n        this.#skipWord(timeStamp);\r\n        return this.#return(Feedback.Recovered);\r\n      }\r\n      if (this.#garbage.length === 0 && !this.#typo) {\r\n        return this.#return(Feedback.Succeeded);\r\n      }\r\n    }\r\n\r\n    if (\r\n      (expected === codePoint ||\r\n        filterText.normalize(expected) === codePoint) &&\r\n      (this.forgiveErrors || this.#garbage.length === 0)\r\n    ) {\r\n      const typo = this.#typo;\r\n      this.#addStep(\r\n        {\r\n          timeStamp,\r\n          codePoint,\r\n          timeToType,\r\n          typo,\r\n        },\r\n        this.at(this.pos),\r\n      );\r\n      this.#garbage = [];\r\n      this.#typo = false;\r\n      if (typo) {\r\n        return this.#return(Feedback.Recovered);\r\n      } else {\r\n        return this.#return(Feedback.Succeeded);\r\n      }\r\n    }\r\n\r\n    this.#typo = true;\r\n    if (!this.stopOnError || this.forgiveErrors) {\r\n      if (this.#garbage.length < garbageBufferLength) {\r\n        this.#garbage.push({\r\n          char: {\r\n            codePoint,\r\n            attrs: Attr.Garbage,\r\n            cls: null,\r\n          },\r\n          timeStamp,\r\n          codePoint,\r\n          timeToType,\r\n          typo: false,\r\n        });\r\n      }\r\n    }\r\n    if (\r\n      this.forgiveErrors &&\r\n      (this.#handleReplacedCharacter() || this.#handleSkippedCharacter())\r\n    ) {\r\n      return this.#return(Feedback.Recovered);\r\n    } else {\r\n      return this.#return(Feedback.Failed);\r\n    }\r\n  }\r\n\r\n  #return(feedback: Feedback): Feedback {\r\n    this.#update();\r\n    return feedback;\r\n  }\r\n\r\n  #update(): void {\r\n    const text = this.#text;\r\n    const remaining = this.#chars.slice(this.pos);\r\n    const chars = [];\r\n    chars.push(...this.#steps.map(({ char }) => char));\r\n    if (!this.stopOnError) {\r\n      chars.push(...this.#garbage.map(({ char }) => char));\r\n    }\r\n    if (remaining.length > 0) {\r\n      const [head, ...tail] = remaining;\r\n      chars.push({ ...head, attrs: Attr.Cursor }, ...tail);\r\n    }\r\n    const lines = { text, lines: [{ text, chars }] };\r\n    this.#output = { chars, lines, remaining };\r\n  }\r\n\r\n  #addStep(step: Step, char: Char): void {\r\n    const attrs = step.typo ? Attr.Miss : Attr.Hit;\r\n    this.#steps.push({ ...step, char: { ...char, attrs } });\r\n    this.onStep(step);\r\n  }\r\n\r\n  #skipWord(timeStamp: number): void {\r\n    // Skip the remaining non-space characters inside the word.\r\n    while (this.pos < this.length && this.at(this.pos).codePoint !== 0x0020) {\r\n      this.#addStep(\r\n        {\r\n          timeStamp,\r\n          codePoint: this.at(this.pos).codePoint,\r\n          timeToType: 0,\r\n          typo: true,\r\n        },\r\n        this.at(this.pos),\r\n      );\r\n    }\r\n    // Skip the space character to position at the beginning of the next word.\r\n    if (this.pos < this.length && this.at(this.pos).codePoint === 0x0020) {\r\n      this.#addStep(\r\n        {\r\n          timeStamp,\r\n          codePoint: this.at(this.pos).codePoint,\r\n          timeToType: 0,\r\n          typo: false,\r\n        },\r\n        this.at(this.pos),\r\n      );\r\n    }\r\n    this.#garbage = [];\r\n    this.#typo = false;\r\n  }\r\n\r\n  #handleReplacedCharacter(): boolean {\r\n    // text:    abcd\r\n    // garbage: xbcd\r\n    // offset:  0\r\n\r\n    // Check if the buffer size is right.\r\n    if (\r\n      this.pos + recoverBufferLength + 1 > this.length ||\r\n      this.#garbage.length < recoverBufferLength + 1\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    // Check whether we can recover.\r\n    for (let i = 0; i < recoverBufferLength; i++) {\r\n      const char = this.at(this.pos + i + 1);\r\n      if (char.codePoint !== this.#garbage[i + 1].codePoint) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Append a step with an error.\r\n    this.#addStep(\r\n      {\r\n        timeStamp: this.#garbage[0].timeStamp,\r\n        codePoint: this.at(this.pos).codePoint,\r\n        timeToType: 0,\r\n        typo: true,\r\n      },\r\n      this.at(this.pos),\r\n    );\r\n\r\n    // Append successful steps.\r\n    for (let i = 1; i < this.#garbage.length; i++) {\r\n      this.#addStep(this.#garbage[i], this.#garbage[i].char);\r\n    }\r\n\r\n    this.#garbage = [];\r\n    this.#typo = false;\r\n    return true;\r\n  }\r\n\r\n  #handleSkippedCharacter(): boolean {\r\n    // text:    abcd\r\n    // garbage: bcd\r\n    // offset:  0\r\n\r\n    // Check if the buffer size is right.\r\n    if (\r\n      this.pos + recoverBufferLength + 1 > this.length ||\r\n      this.#garbage.length < recoverBufferLength\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    // Check whether we can recover.\r\n    for (let i = 0; i < recoverBufferLength; i++) {\r\n      const char = this.at(this.pos + i + 1);\r\n      if (char.codePoint !== this.#garbage[i].codePoint) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Append a step with an error.\r\n    this.#addStep(\r\n      {\r\n        timeStamp: this.#garbage[0].timeStamp,\r\n        codePoint: this.at(this.pos).codePoint,\r\n        timeToType: 0,\r\n        typo: true,\r\n      },\r\n      this.at(this.pos),\r\n    );\r\n\r\n    // Append successful steps.\r\n    for (let i = 0; i < this.#garbage.length; i++) {\r\n      this.#addStep(this.#garbage[i], this.#garbage[i].char);\r\n    }\r\n\r\n    this.#garbage = [];\r\n    this.#typo = false;\r\n    return true;\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"P5SoADrggo\";\nvar _2 = \"ukZCvKEQw_\";\nvar _3 = \"nbWYYwbXHo\";\nvar _4 = \"jNwByVfC2C\";\nexport { _1 as \"disabled\", _2 as \"icon\", _3 as \"label\", _4 as \"root\" }\n","import { mdiCheckboxBlankOutline, mdiCheckboxMarkedOutline } from \"@mdi/js\";\nimport { clsx } from \"clsx\";\nimport { type ReactNode, useImperativeHandle, useRef } from \"react\";\nimport * as styles from \"./CheckBox.module.less\";\nimport { type CheckBoxProps } from \"./CheckBox.types.ts\";\n\nexport function CheckBox({\n  checked,\n  children,\n  disabled,\n  label,\n  name,\n  ref,\n  tabIndex,\n  title,\n  value,\n  onBlur,\n  onChange,\n  onFocus,\n  ...props\n}: CheckBoxProps): ReactNode {\n  const element = useRef<HTMLInputElement>(null);\n  useImperativeHandle(ref, () => ({\n    focus() {\n      element.current?.focus();\n    },\n    blur() {\n      element.current?.blur();\n    },\n  }));\n  return (\n    <label\n      {...props}\n      className={clsx(styles.root, disabled && styles.disabled)}\n      title={title}\n    >\n      <input\n        ref={element}\n        checked={checked}\n        disabled={disabled}\n        name={name}\n        tabIndex={tabIndex}\n        type=\"checkbox\"\n        value={value}\n        onBlur={onBlur}\n        onChange={(event) => {\n          const { checked } = event.target as HTMLInputElement;\n          onChange?.(checked);\n        }}\n        onFocus={onFocus}\n      />\n      <svg className={styles.icon} viewBox=\"0 0 24 24\">\n        <path\n          d={checked ? mdiCheckboxMarkedOutline : mdiCheckboxBlankOutline}\n        />\n      </svg>\n      <span className={styles.label}>{label || children}</span>\n    </label>\n  );\n}\n","import { type RNGStream } from \"../types.ts\";\n\n// See https://en.wikipedia.org/wiki/Linear_congruential_generator\n\ntype Mark = {\n  readonly x: number;\n};\n\nexport const LCG = (seed: number): RNGStream => {\n  const a = 0x41c64e6d;\n  const c = 0x00003039;\n  const m = 0x80000000;\n  let x = seed ^ 0x3fc28cf6;\n\n  const rng: RNGStream<Mark> = (): number => {\n    x = (a * x + c) & (m - 1);\n    return x / m;\n  };\n  rng.mark = (): Mark => {\n    return { x };\n  };\n  rng.reset = (mark: Mark): void => {\n    x = mark.x;\n  };\n\n  return rng;\n};\n","// extracted by mini-css-extract-plugin\nvar _1 = \"M1VYxL20Pt\";\nvar _2 = \"Ydvvye8xx7\";\nvar _3 = \"LfJ2bWe1u1\";\nvar _4 = \"t2pnw8p00W\";\nvar _5 = \"xYNbQrnZQF\";\nvar _6 = \"QrQrlKCs7r\";\nvar _7 = \"ouUf_CBAYt\";\nexport { _1 as \"calendar\", _2 as \"caption\", _3 as \"cell\", _4 as \"headerCell\", _5 as \"item\", _6 as \"root\", _7 as \"table\" }\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { SpeedUnit, uiProps } from \"@mkboard/result\";\r\nimport { useSettings } from \"@mkboard/settings\";\r\nimport { useMemo } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\n\r\nexport type FormatterOptions = {\r\n  readonly unit?: boolean;\r\n};\r\n\r\nexport type Formatter = {\r\n  readonly speedUnit: SpeedUnit;\r\n  readonly speedUnitName: string;\r\n  readonly formatSpeed: (value: number, options?: FormatterOptions) => string;\r\n  readonly formatConfidence: (value: number | null) => string;\r\n  readonly formatLearningRate: (lr: number | null) => string;\r\n};\r\n\r\nexport const useFormatter = (): Formatter => {\r\n  const { formatMessage } = useIntl();\r\n  const { formatNumber, formatPercents } = useIntlNumbers();\r\n  const { settings } = useSettings();\r\n  return useMemo(() => {\r\n    const speedUnit = settings.get(uiProps.speedUnit);\r\n    const speedUnitName = formatMessage(speedUnit.name);\r\n    const f1 = { minimumFractionDigits: 1, maximumFractionDigits: 1 };\r\n    const f2 = { minimumFractionDigits: 2, maximumFractionDigits: 2 };\r\n    const formatSpeed = (\r\n      value: number,\r\n      { unit = true }: FormatterOptions = {},\r\n    ): string => {\r\n      let opts;\r\n      switch (speedUnit) {\r\n        case SpeedUnit.WPM:\r\n          opts = f1;\r\n          break;\r\n        case SpeedUnit.WPS:\r\n          opts = f2;\r\n          break;\r\n        case SpeedUnit.CPM:\r\n          opts = f1;\r\n          break;\r\n        case SpeedUnit.CPS:\r\n          opts = f2;\r\n          break;\r\n      }\r\n      const s = formatNumber(speedUnit.measure(value), opts);\r\n      if (unit) {\r\n        return s + speedUnit.id;\r\n      } else {\r\n        return s;\r\n      }\r\n    };\r\n    const formatConfidence = (confidence: number | null): string => {\r\n      if (confidence != null) {\r\n        return formatPercents(confidence, 0);\r\n      } else {\r\n        return formatMessage({\r\n          id: \"t_Uncertain\",\r\n          defaultMessage: \"Uncertain\",\r\n        });\r\n      }\r\n    };\r\n    const formatLearningRate = (lr: number | null): string => {\r\n      if (lr != null && lr === lr) {\r\n        return signed(\r\n          formatMessage(\r\n            {\r\n              id: \"t_Value_per_lesson\",\r\n              defaultMessage: \"{value}/lesson\",\r\n            },\r\n            {\r\n              value: formatSpeed(lr),\r\n            },\r\n          ),\r\n          lr,\r\n        );\r\n      } else {\r\n        return formatMessage({\r\n          id: \"t_Uncertain\",\r\n          defaultMessage: \"Uncertain\",\r\n        });\r\n      }\r\n    };\r\n    return {\r\n      speedUnit,\r\n      speedUnitName,\r\n      formatSpeed,\r\n      formatConfidence,\r\n      formatLearningRate,\r\n    };\r\n  }, [formatMessage, formatNumber, formatPercents, settings]);\r\n};\r\n\r\nfunction signed(value: any, learningRate: number) {\r\n  return learningRate > 0 ? `+${value}` : `${value}`;\r\n}\r\n","import { Tasks } from \"@mkboard/lang\";\r\nimport { type DailyStats, type DailyStatsMap, LocalDate } from \"@mkboard/result\";\r\nimport { Popup, Portal } from \"@mkboard/widget\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport * as styles from \"./Calendar.module.less\";\r\nimport { DailyStats as DailyStatsWidget } from \"./DailyStats.tsx\";\r\nimport { type Effort } from \"./effort.ts\";\r\n\r\nexport function Calendar({\r\n  dailyStatsMap,\r\n  effort,\r\n}: {\r\n  dailyStatsMap: DailyStatsMap;\r\n  effort: Effort;\r\n}) {\r\n  type State = Readonly<\r\n    | { type: \"hidden\" }\r\n    | { type: \"visible-in\"; stats: DailyStats; elem: Element }\r\n    | { type: \"visible\"; stats: DailyStats; elem: Element }\r\n    | { type: \"visible-out\"; stats: DailyStats; elem: Element }\r\n  >;\r\n  const [state, setState] = useState<State>({ type: \"hidden\" });\r\n  useEffect(() => {\r\n    const tasks = new Tasks();\r\n    switch (state.type) {\r\n      case \"visible-in\":\r\n        tasks.delayed(300, () => {\r\n          setState({ ...state, type: \"visible\" });\r\n        });\r\n        break;\r\n      case \"visible-out\":\r\n        tasks.delayed(300, () => {\r\n          setState({ type: \"hidden\" });\r\n        });\r\n        break;\r\n    }\r\n    return () => {\r\n      tasks.cancelAll();\r\n    };\r\n  }, [state]);\r\n  return (\r\n    <>\r\n      <BlockList\r\n        dailyStatsMap={dailyStatsMap}\r\n        effort={effort}\r\n        onCellHoverIn={(stats, elem) => {\r\n          setState({ type: \"visible-in\", stats, elem });\r\n        }}\r\n        onCellHoverOut={() => {\r\n          switch (state.type) {\r\n            case \"visible-in\":\r\n              setState({ type: \"hidden\" });\r\n              break;\r\n            case \"visible\":\r\n              setState({ ...state, type: \"visible-out\" });\r\n              break;\r\n          }\r\n        }}\r\n      />\r\n      {(state.type === \"visible\" || state.type === \"visible-out\") && (\r\n        <Portal>\r\n          <Popup\r\n            anchor={state.elem}\r\n            onMouseEnter={() => {\r\n              setState({ ...state, type: \"visible\" });\r\n            }}\r\n            onMouseLeave={() => {\r\n              setState({ ...state, type: \"visible-out\" });\r\n            }}\r\n          >\r\n            <DailyStatsWidget stats={state.stats} effort={effort} />\r\n          </Popup>\r\n        </Portal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction BlockList({\r\n  dailyStatsMap,\r\n  effort,\r\n  onCellHoverIn,\r\n  onCellHoverOut,\r\n  onCellClick,\r\n}: {\r\n  dailyStatsMap: DailyStatsMap;\r\n  effort: Effort;\r\n  onCellHoverIn?: (stats: DailyStats, elem: Element) => void;\r\n  onCellHoverOut?: (stats: DailyStats, elem: Element) => void;\r\n  onCellClick?: (stats: DailyStats, elem: Element) => void;\r\n}) {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const blocks = useMemo(() => blockList(dailyStatsMap), [dailyStatsMap]);\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={styles.root}\r\n      onMouseOver={(event) => {\r\n        relayEvent(ref.current!, event, onCellHoverIn);\r\n      }}\r\n      onMouseOut={(event) => {\r\n        relayEvent(ref.current!, event, onCellHoverOut);\r\n      }}\r\n      onClick={(event) => {\r\n        relayEvent(ref.current!, event, onCellClick);\r\n      }}\r\n    >\r\n      {blocks.map((block) => (\r\n        <Block key={block.key} block={block} effort={effort} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction relayEvent(\r\n  root: Element,\r\n  { target }: { target: any },\r\n  handler?: (stats: DailyStats, elem: Element) => void,\r\n) {\r\n  while (\r\n    handler != null &&\r\n    target instanceof Element &&\r\n    root.contains(target)\r\n  ) {\r\n    const stats = Cell.attached(target);\r\n    if (stats) {\r\n      handler(stats, target);\r\n      return;\r\n    }\r\n    target = target.parentElement;\r\n  }\r\n}\r\n\r\ntype BlockCells = {\r\n  key: string;\r\n  year: number;\r\n  month: number;\r\n  cells: (DailyStats | null)[][];\r\n};\r\n\r\nfunction Block({ block, effort }: { block: BlockCells; effort: Effort }) {\r\n  const { formatMessage } = useIntl();\r\n\r\n  const weekDayName = formatMessage({\r\n    id: \"weekDayNames\",\r\n    defaultMessage: \"M|T|W|T|F|S|S\",\r\n  }).split(\"|\");\r\n\r\n  return (\r\n    <div className={styles.calendar}>\r\n      <table className={styles.table}>\r\n        <caption className={styles.caption}>\r\n          {block.year}/{block.month}\r\n        </caption>\r\n        <thead>\r\n          <tr>\r\n            <th className={styles.headerCell}>{weekDayName[0]}</th>\r\n            <th className={styles.headerCell}>{weekDayName[1]}</th>\r\n            <th className={styles.headerCell}>{weekDayName[2]}</th>\r\n            <th className={styles.headerCell}>{weekDayName[3]}</th>\r\n            <th className={styles.headerCell}>{weekDayName[4]}</th>\r\n            <th className={styles.headerCell}>{weekDayName[5]}</th>\r\n            <th className={styles.headerCell}>{weekDayName[6]}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {block.cells.map((row, m) => (\r\n            <tr key={m}>\r\n              {row.map((cell, n) => (\r\n                <Cell key={n} cell={cell} effort={effort} />\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Cell({ cell, effort }: { cell: DailyStats | null; effort: Effort }) {\r\n  if (cell == null) {\r\n    return <td />;\r\n  }\r\n  const { results, stats } = cell;\r\n  if (results.length === 0) {\r\n    return (\r\n      <td className={styles.cell}>\r\n        <span className={styles.item}>{cell.date.dayOfMonth}</span>\r\n      </td>\r\n    );\r\n  }\r\n  return (\r\n    <td className={styles.cell}>\r\n      <span\r\n        ref={Cell.attach(cell)}\r\n        className={styles.item}\r\n        style={{\r\n          backgroundColor: String(effort.shade(effort.effort(stats.time))),\r\n        }}\r\n        data-date={String(cell.date)}\r\n      >\r\n        {cell.date.dayOfMonth}\r\n      </span>\r\n    </td>\r\n  );\r\n}\r\n\r\nconst attachment = Symbol();\r\n\r\nCell.attach = (stats: DailyStats) => {\r\n  return (target: Element | null): void => {\r\n    if (target != null) {\r\n      (target as any)[attachment] = stats;\r\n    }\r\n  };\r\n};\r\n\r\nCell.attached = (target: Element | null): DailyStats | null => {\r\n  return (target as any)?.[attachment] ?? null;\r\n};\r\n\r\nfunction blockList(map: DailyStatsMap): BlockCells[] {\r\n  const blocks = new Map<string, BlockCells>();\r\n  for (const { date } of map) {\r\n    addBlock(date);\r\n  }\r\n  addBlock(map.today.date);\r\n  return [...blocks.values()];\r\n\r\n  function addBlock({ year, month }: LocalDate) {\r\n    const key = `${year}:${month}`;\r\n    let block = blocks.get(key);\r\n    if (block == null) {\r\n      const cells: (DailyStats | null)[][] = [\r\n        [null, null, null, null, null, null, null],\r\n        [null, null, null, null, null, null, null],\r\n        [null, null, null, null, null, null, null],\r\n        [null, null, null, null, null, null, null],\r\n        [null, null, null, null, null, null, null],\r\n        [null, null, null, null, null, null, null],\r\n      ];\r\n      const a = new LocalDate(year, month, 1);\r\n      const offset = a.dayOfWeek - 1;\r\n      for (let i = 0; i < 6; i++) {\r\n        for (let j = 0; j < 7; j++) {\r\n          const b = a.plusDays(i * 7 + j - offset);\r\n          if (a.month === b.month) {\r\n            cells[i][j] = map.get(b);\r\n          }\r\n        }\r\n      }\r\n      blocks.set(key, (block = { key, year, month, cells }));\r\n    }\r\n    return block;\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"uyKPTrYDL1\";\nvar _2 = \"dS_O60Vk0r\";\nvar _3 = \"_zfDwGmzit\";\nvar _4 = \"MqqBwHr24F\";\nvar _5 = \"LDeQBSrlx9\";\nvar _6 = \"hPnTLKsT3O\";\nvar _7 = \"ARbytSxC1X\";\nvar _8 = \"HtdefuX6UR\";\nvar _9 = \"SAuB2Y6KMj\";\nvar _a = \"pa6oy_nObO\";\nvar _b = \"GxPvZgMEFM\";\nvar _c = \"g0sziJtYE1\";\nvar _d = \"viHvv_Lmac\";\nvar _e = \"iECSWk6kyb\";\nvar _f = \"R3Q_ClhHtv\";\nexport { _1 as \"cross\", _2 as \"keyDetails\", _3 as \"keyDetails_calibrated\", _4 as \"keyDetails_uncalibrated\", _5 as \"lessonKey\", _6 as \"lessonKey_announcement\", _7 as \"lessonKey_current\", _8 as \"lessonKey_excluded\", _9 as \"lessonKey_focused\", _a as \"lessonKey_forced\", _b as \"lessonKey_included\", _c as \"lessonKey_large\", _d as \"lessonKey_normal\", _e as \"lessonKey_selectable\", _f as \"lessonKey_uncalibrated\" }\n","import { clamp } from \"@mkboard/lang\";\r\nimport { type Color } from \"./color.ts\";\r\nimport { type RgbColor } from \"./color-rgb.ts\";\r\nimport { oklabToRgb, rgbToOklab0 } from \"./convert-xyz.ts\";\r\nimport { type Oklab } from \"./types.ts\";\r\n\r\nconst u: Oklab = { l: 0, a: 0, b: 0, alpha: 1 };\r\nconst v: Oklab = { l: 0, a: 0, b: 0, alpha: 1 };\r\n\r\nexport function mixColors(a: Color, b: Color, ratio: number): RgbColor {\r\n  ratio = clamp(ratio, 0, 1);\r\n  rgbToOklab0(a.toRgb(), u);\r\n  rgbToOklab0(b.toRgb(), v);\r\n  u.l = u.l * (1 - ratio) + v.l * ratio;\r\n  u.a = u.a * (1 - ratio) + v.a * ratio;\r\n  u.b = u.b * (1 - ratio) + v.b * ratio;\r\n  u.alpha = u.alpha * (1 - ratio) + v.alpha * ratio;\r\n  return oklabToRgb(u);\r\n}\r\n","import { mixColors, parseColor } from \"@mkboard/color\";\r\nimport { useComputedStyles } from \"@mkboard/themes\";\r\nimport { type CSSProperties, useMemo } from \"react\";\r\n\r\nexport function useKeyStyles() {\r\n  const { getPropertyValue } = useComputedStyles();\r\n  const slow = getPropertyValue(\"--slow-key-color\") || \"#cc0000\";\r\n  const fast = getPropertyValue(\"--fast-key-color\") || \"#60d788\";\r\n\r\n  return useMemo(() => {\r\n    const min = parseColor(slow);\r\n    const max = parseColor(fast);\r\n\r\n    function confidenceColor(confidence: number) {\r\n      return mixColors(min, max, confidence);\r\n    }\r\n\r\n    function keyStyles(\r\n      isIncluded: boolean,\r\n      confidence: number | null,\r\n    ): CSSProperties {\r\n      if (isIncluded && confidence != null) {\r\n        return {\r\n          backgroundColor: String(confidenceColor(confidence)),\r\n        };\r\n      } else {\r\n        return {};\r\n      }\r\n    }\r\n\r\n    return { confidenceColor, keyStyles };\r\n  }, [slow, fast]);\r\n}\r\n","import { type LessonKey } from \"@mkboard/lesson\";\r\nimport { type MouseProps } from \"@mkboard/widget\";\r\nimport { clsx } from \"clsx\";\r\nimport * as styles from \"./styles.module.less\";\r\nimport { useKeyStyles } from \"./styles.ts\";\r\n\r\nexport const Key = ({\r\n  lessonKey,\r\n  isSelectable = false,\r\n  isCurrent = false,\r\n  size = \"normal\",\r\n  title,\r\n  ...props\r\n}: {\r\n  lessonKey: LessonKey;\r\n  isSelectable?: boolean;\r\n  isCurrent?: boolean;\r\n  size?: \"normal\" | \"large\" | \"announcement\";\r\n  title?: string;\r\n} & MouseProps) => {\r\n  const { keyStyles } = useKeyStyles();\r\n  const {\r\n    letter: { codePoint, label },\r\n    confidence,\r\n    isIncluded,\r\n    isFocused,\r\n    isForced,\r\n  } = lessonKey;\r\n  return (\r\n    <span\r\n      {...props}\r\n      ref={Key.attach(lessonKey)}\r\n      key={codePoint}\r\n      className={clsx(\r\n        styles.lessonKey,\r\n        size === \"normal\" && styles.lessonKey_normal,\r\n        size === \"large\" && styles.lessonKey_large,\r\n        size === \"announcement\" && styles.lessonKey_announcement,\r\n        isIncluded ? styles.lessonKey_included : styles.lessonKey_excluded,\r\n        isIncluded && confidence == null && styles.lessonKey_uncalibrated,\r\n        isIncluded && isFocused && styles.lessonKey_focused,\r\n        isIncluded && isForced && styles.lessonKey_forced,\r\n        isSelectable && styles.lessonKey_selectable,\r\n        isCurrent && styles.lessonKey_current,\r\n      )}\r\n      style={keyStyles(true, confidence)}\r\n      title={title}\r\n      data-code-point={codePoint}\r\n    >\r\n      {label}\r\n      {isIncluded || (\r\n        <svg viewBox=\"0 0 100 100\" className={styles.cross}>\r\n          <path d=\"M 0 100 L 100 0\" />\r\n        </svg>\r\n      )}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst attachment = Symbol();\r\n\r\nKey.attach = (key: LessonKey) => {\r\n  return (target: Element | null): void => {\r\n    if (target != null) {\r\n      (target as any)[attachment] = key;\r\n    }\r\n  };\r\n};\r\n\r\nKey.attached = (target: Element | null): LessonKey | null => {\r\n  return (target as any)?.[attachment] ?? null;\r\n};\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"Gm9110yuEA\";\nvar _2 = \"_veHUWWPUM\";\nvar _3 = \"IKIB_A88Ou\";\nexport { _1 as \"happy\", _2 as \"icon\", _3 as \"sad\" }\n","import { Icon } from \"@mkboard/widget\";\r\nimport { mdiEmoticonHappy, mdiEmoticonSad } from \"@mdi/js\";\r\nimport * as styles from \"./Happiness.module.less\";\r\n\r\nexport function Happiness({ learningRate }: { learningRate: number }) {\r\n  if (learningRate > 0) {\r\n    return (\r\n      <span className={styles.happy}>\r\n        <Happy />\r\n        {learningRate >= +5 && <Happy />}\r\n        {learningRate >= +10 && <Happy />}\r\n      </span>\r\n    );\r\n  }\r\n  if (learningRate < 0) {\r\n    return (\r\n      <span className={styles.sad}>\r\n        <Sad />\r\n        {learningRate <= -5 && <Sad />}\r\n        {learningRate <= -10 && <Sad />}\r\n      </span>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction Happy() {\r\n  return <Icon className={styles.icon} shape={mdiEmoticonHappy} />;\r\n}\r\n\r\nfunction Sad() {\r\n  return <Icon className={styles.icon} shape={mdiEmoticonSad} />;\r\n}\r\n","import { LearningRate, type LessonKey, Target } from \"@mkboard/lesson\";\r\nimport { timeToSpeed } from \"@mkboard/result\";\r\nimport { useSettings } from \"@mkboard/settings\";\r\nimport { Name, NameValue, Value } from \"@mkboard/widget\";\r\nimport { clsx } from \"clsx\";\r\nimport { useIntl } from \"react-intl\";\r\nimport { useFormatter } from \"./format.ts\";\r\nimport { Happiness } from \"./Happiness.tsx\";\r\nimport * as styles from \"./styles.module.less\";\r\n\r\nexport const KeyDetails = ({ lessonKey }: { lessonKey: LessonKey }) => {\r\n  const { formatMessage } = useIntl();\r\n  const { formatSpeed, formatConfidence, formatLearningRate, speedUnitName } =\r\n    useFormatter();\r\n  const { settings } = useSettings();\r\n  const { timeToType, bestTimeToType, confidence, bestConfidence } = lessonKey;\r\n  if (\r\n    timeToType != null &&\r\n    bestTimeToType != null &&\r\n    confidence != null &&\r\n    bestConfidence != null\r\n  ) {\r\n    const learningRate =\r\n      LearningRate.from(\r\n        lessonKey.samples, //\r\n        new Target(settings),\r\n      )?.learningRate ?? null;\r\n    return (\r\n      <span className={clsx(styles.keyDetails, styles.keyDetails_calibrated)}>\r\n        <NameValue\r\n          name={\r\n            <Name\r\n              name={formatMessage({\r\n                id: \"t_Last_speed\",\r\n                defaultMessage: \"Last speed\",\r\n              })}\r\n            />\r\n          }\r\n          value={\r\n            <Value>\r\n              {`${formatSpeed(timeToSpeed(timeToType))}`}\r\n              {` (${formatConfidence(confidence)})`}\r\n            </Value>\r\n          }\r\n        />\r\n        <NameValue\r\n          name={\r\n            <Name\r\n              name={formatMessage({\r\n                id: \"t_Top_speed\",\r\n                defaultMessage: \"Top speed\",\r\n              })}\r\n            />\r\n          }\r\n          value={\r\n            <Value>\r\n              {`${formatSpeed(timeToSpeed(bestTimeToType))}`}\r\n              {` (${formatConfidence(bestConfidence)})`}\r\n            </Value>\r\n          }\r\n        />\r\n        <NameValue\r\n          name={\r\n            <Name\r\n              name={formatMessage({\r\n                id: \"t_Learning_rate\",\r\n                defaultMessage: \"Learning rate\",\r\n              })}\r\n            />\r\n          }\r\n          value={\r\n            <Value\r\n              value={\r\n                <>\r\n                  {formatLearningRate(learningRate)}\r\n                  {\"\\u00A0\"}\r\n                  <Happiness learningRate={learningRate ?? 0} />\r\n                </>\r\n              }\r\n              delta={learningRate ?? 0}\r\n            />\r\n          }\r\n        />\r\n      </span>\r\n    );\r\n  } else {\r\n    return (\r\n      <span className={clsx(styles.keyDetails, styles.keyDetails_uncalibrated)}>\r\n        {formatMessage({\r\n          id: \"t_Not_calibrated_\",\r\n          defaultMessage: \"Not calibrated, need more samples.\",\r\n        })}\r\n      </span>\r\n    );\r\n  }\r\n};\r\n","import { type LessonKeys } from \"@mkboard/lesson\";\r\nimport { type ClassName, styleTextTruncate } from \"@mkboard/widget\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { Key } from \"./Key.tsx\";\r\nimport { KeyDetails } from \"./KeyDetails.tsx\";\r\n\r\nexport const CurrentKey = ({\r\n  id,\r\n  className,\r\n  lessonKeys,\r\n}: {\r\n  id?: string;\r\n  className?: ClassName;\r\n  lessonKeys: LessonKeys;\r\n}) => {\r\n  const focusedKey = lessonKeys.findFocusedKey();\r\n  return (\r\n    <span id={id} className={className}>\r\n      {focusedKey != null ? (\r\n        <>\r\n          <Key lessonKey={focusedKey} /> <KeyDetails lessonKey={focusedKey} />\r\n        </>\r\n      ) : (\r\n        <span className={styleTextTruncate}>\r\n          <FormattedMessage\r\n            id=\"t_All_keys_are_unlocked\"\r\n            defaultMessage=\"All keys are unlocked.\"\r\n          />\r\n        </span>\r\n      )}\r\n    </span>\r\n  );\r\n};\r\n","import { useIntlDurations, useIntlNumbers } from \"@mkboard/intl\";\r\nimport { type DailyGoal as DailyGoalType } from \"@mkboard/lesson\";\r\nimport { type ClassName, Value } from \"@mkboard/widget\";\r\nimport { clsx } from \"clsx\";\r\nimport * as styles from \"./DailyGoal.module.less\";\r\n\r\nexport const DailyGoal = ({\r\n  id,\r\n  className,\r\n  dailyGoal,\r\n}: {\r\n  id?: string;\r\n  className?: ClassName;\r\n  dailyGoal: DailyGoalType;\r\n}) => {\r\n  return (\r\n    <span id={id} className={clsx(styles.root, className)}>\r\n      <DailyGoalLabel value={dailyGoal.value} goal={dailyGoal.goal} />\r\n      <DailyGoalGauge value={dailyGoal.value} />\r\n    </span>\r\n  );\r\n};\r\n\r\nconst DailyGoalLabel = ({ value, goal }: { value: number; goal: number }) => {\r\n  const { formatPercents } = useIntlNumbers();\r\n  const { formatDuration } = useIntlDurations();\r\n  return (\r\n    <Value\r\n      value={`${formatPercents(value, 0)}/${formatDuration({ minutes: goal })}`}\r\n    />\r\n  );\r\n};\r\n\r\nconst DailyGoalGauge = ({ value }: { value: number }) => {\r\n  value = Math.max(0, value);\r\n  const barWidth = value > 1 ? 100 : Math.round(value * 100);\r\n  const frameWidth = value > 1 ? Math.round((1 / value) * 100) : 100;\r\n  return (\r\n    <div className={styles.gauge}>\r\n      <div className={styles.bar} style={{ inlineSize: `${barWidth}%` }} />\r\n      <div className={styles.frame} style={{ inlineSize: `${frameWidth}%` }} />\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"oYwkYOYxby\";\nvar _2 = \"zPloZs9tPw\";\nvar _3 = \"ekYn7cY42Y\";\nvar _4 = \"svqJvBpr_L\";\nexport { _1 as \"bar\", _2 as \"frame\", _3 as \"gauge\", _4 as \"root\" }\n","import { type Color, parseColor } from \"@mkboard/color\";\r\nimport { MutableDailyGoal } from \"@mkboard/lesson\";\r\nimport { useSettings } from \"@mkboard/settings\";\r\nimport { useComputedStyles } from \"@mkboard/themes\";\r\nimport { useMemo } from \"react\";\r\n\r\nexport type Effort = {\r\n  readonly effort: (time: number) => number;\r\n  readonly shade: (effort: number) => Color;\r\n};\r\n\r\nexport function useEffort(): Effort {\r\n  const { settings } = useSettings();\r\n  const { getPropertyValue } = useComputedStyles();\r\n  const color = getPropertyValue(\"--effort-color\") || \"#000000\";\r\n  return useMemo(() => {\r\n    const dailyGoal = new MutableDailyGoal(settings);\r\n    const effort = (time: number) => {\r\n      return dailyGoal.goal > 0 ? dailyGoal.measure(time) : 1.0;\r\n    };\r\n    const shade = (effort: number) => {\r\n      return parseColor(color).fade(effort);\r\n    };\r\n    return { effort, shade };\r\n  }, [settings, color]);\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"CRmMNy7uDk\";\nvar _2 = \"Kaj3GZrWfh\";\nexport { _1 as \"cell\", _2 as \"item\" }\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { type Effort } from \"./effort.ts\";\r\nimport * as styles from \"./EffortLegent.module.less\";\r\n\r\nexport function EffortLegend({ effort }: { effort: Effort }) {\r\n  const { formatPercents } = useIntlNumbers();\r\n  return (\r\n    <>\r\n      <FormattedMessage id=\"t_Daily_goal:\" defaultMessage=\"Daily goal:\" />{\" \"}\r\n      {[1.0, 0.75, 0.5, 0.25, 0.0].map((value) => (\r\n        <span key={value} className={styles.cell}>\r\n          <span\r\n            className={styles.item}\r\n            style={{ backgroundColor: String(effort.shade(value)) }}\r\n          >\r\n            {formatPercents(value)}\r\n          </span>\r\n        </span>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { type SummaryStats } from \"@mkboard/result\";\r\nimport { type ClassName, Name, Value } from \"@mkboard/widget\";\r\nimport { clsx } from \"clsx\";\r\nimport { memo, type ReactNode } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport { useFormatter } from \"./format.ts\";\r\nimport * as styles from \"./gauges.module.less\";\r\nimport { type Names } from \"./names.ts\";\r\n\r\nexport const GaugeList = memo(function GaugeRow({\r\n  summaryStats,\r\n  names,\r\n}: {\r\n  summaryStats: SummaryStats;\r\n  names?: Names;\r\n}) {\r\n  return (\r\n    <div className={styles.gaugeList}>\r\n      <SpeedGauge summaryStats={summaryStats} names={names} />\r\n      <AccuracyGauge summaryStats={summaryStats} names={names} />\r\n      <ScoreGauge summaryStats={summaryStats} names={names} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const SpeedGauge = memo(function SpeedGauge({\r\n  summaryStats,\r\n  names,\r\n}: {\r\n  summaryStats: SummaryStats;\r\n  names?: Names;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  const { formatSpeed } = useFormatter();\r\n  const { last, delta } = summaryStats.speed;\r\n  return (\r\n    <Gauge\r\n      id={names?.speed}\r\n      name={\r\n        <Name\r\n          name={formatMessage({\r\n            id: \"t_Speed\",\r\n            defaultMessage: \"Speed\",\r\n          })}\r\n        />\r\n      }\r\n      value={<Value value={formatSpeed(last)} />}\r\n      delta={\r\n        <Value\r\n          value={signed(formatSpeed(delta), delta)}\r\n          delta={delta}\r\n          title={formatMessage({\r\n            id: \"metric.difference.description\",\r\n            defaultMessage: \"The difference from the average value.\",\r\n          })}\r\n        />\r\n      }\r\n      title={formatMessage({\r\n        id: \"metric.speed.description\",\r\n        defaultMessage: \"Typing speed in the last lesson.\",\r\n      })}\r\n    />\r\n  );\r\n});\r\n\r\nexport const AccuracyGauge = memo(function AccuracyGauge({\r\n  summaryStats,\r\n  names,\r\n}: {\r\n  summaryStats: SummaryStats;\r\n  names?: Names;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  const { formatPercents } = useIntlNumbers();\r\n  const { last, delta } = summaryStats.accuracy;\r\n  return (\r\n    <Gauge\r\n      id={names?.accuracy}\r\n      name={\r\n        <Name\r\n          name={formatMessage({\r\n            id: \"t_Accuracy\",\r\n            defaultMessage: \"Accuracy\",\r\n          })}\r\n        />\r\n      }\r\n      value={<Value value={formatPercents(last)} />}\r\n      delta={\r\n        <Value\r\n          value={signed(formatPercents(delta), delta)}\r\n          delta={delta}\r\n          title={formatMessage({\r\n            id: \"metric.difference.description\",\r\n            defaultMessage: \"The difference from the average value.\",\r\n          })}\r\n        />\r\n      }\r\n      title={formatMessage({\r\n        id: \"metric.accuracy.description\",\r\n        defaultMessage:\r\n          \"The percentage of characters typed without errors in the last lesson.\",\r\n      })}\r\n    />\r\n  );\r\n});\r\n\r\nexport const ScoreGauge = memo(function ScoreGauge({\r\n  summaryStats,\r\n  names,\r\n}: {\r\n  summaryStats: SummaryStats;\r\n  names?: Names;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  const { formatNumber } = useIntlNumbers();\r\n  const { last, delta } = summaryStats.score;\r\n  return (\r\n    <Gauge\r\n      id={names?.score}\r\n      name={\r\n        <Name\r\n          name={formatMessage({\r\n            id: \"t_Score\",\r\n            defaultMessage: \"Score\",\r\n          })}\r\n        />\r\n      }\r\n      value={<Value value={formatNumber(last, 0)} />}\r\n      delta={\r\n        <Value\r\n          value={signed(formatNumber(delta, 0), delta)}\r\n          delta={delta}\r\n          title={formatMessage({\r\n            id: \"metric.difference.description\",\r\n            defaultMessage: \"The difference from the average value.\",\r\n          })}\r\n        />\r\n      }\r\n      title={formatMessage({\r\n        id: \"metric.score.description\",\r\n        defaultMessage:\r\n          \"Score of the last lesson in abstract points. \" +\r\n          \"Scores are greater when you type faster and with fewer errors.\",\r\n      })}\r\n    />\r\n  );\r\n});\r\n\r\nexport const Gauge = memo(function Gauge({\r\n  id,\r\n  className,\r\n  name,\r\n  value,\r\n  delta,\r\n  title,\r\n}: {\r\n  id?: string;\r\n  className?: ClassName;\r\n  name: ReactNode;\r\n  value: ReactNode;\r\n  delta: ReactNode;\r\n  title: string;\r\n}) {\r\n  return (\r\n    <span id={id} className={clsx(styles.gauge, className)} title={title}>\r\n      {name} {value} ({delta})\r\n    </span>\r\n  );\r\n});\r\n\r\nfunction signed(value: any, delta: number): string {\r\n  const s = String(value);\r\n  if (delta > 0) {\r\n    return `\\u2191+${s}`;\r\n  }\r\n  if (delta < 0) {\r\n    return `\\u2193${s}`;\r\n  }\r\n  return s;\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"ZpdAszwzsI\";\nvar _2 = \"iqBAiv5B3B\";\nexport { _1 as \"gauge\", _2 as \"gaugeList\" }\n","// extracted by mini-css-extract-plugin\nvar _1 = \"vDf2XhiXkw\";\nvar _2 = \"howSjBP1rS\";\nvar _3 = \"DRzPBRrfET\";\nexport { _1 as \"name\", _2 as \"row\", _3 as \"value\" }\n","import { type LessonKey, type LessonKeys } from \"@mkboard/lesson\";\r\nimport { type ClassName } from \"@mkboard/widget\";\r\nimport { useRef } from \"react\";\r\nimport { Key } from \"./Key.tsx\";\r\n\r\nexport const KeySet = ({\r\n  id,\r\n  className,\r\n  lessonKeys,\r\n  onKeyHoverIn,\r\n  onKeyHoverOut,\r\n  onKeyClick,\r\n}: {\r\n  id?: string;\r\n  className?: ClassName;\r\n  lessonKeys: LessonKeys;\r\n  onKeyHoverIn?: (key: LessonKey, elem: Element) => void;\r\n  onKeyHoverOut?: (key: LessonKey, elem: Element) => void;\r\n  onKeyClick?: (key: LessonKey, elem: Element) => void;\r\n}) => {\r\n  const ref = useRef<HTMLElement>(null);\r\n  return (\r\n    <span\r\n      ref={ref}\r\n      id={id}\r\n      className={className}\r\n      onMouseOver={(event) => {\r\n        relayEvent(ref.current!, event, onKeyHoverIn);\r\n      }}\r\n      onMouseOut={(event) => {\r\n        relayEvent(ref.current!, event, onKeyHoverOut);\r\n      }}\r\n      onClick={(event) => {\r\n        relayEvent(ref.current!, event, onKeyClick);\r\n      }}\r\n    >\r\n      {[...lessonKeys].map((lessonKey) => (\r\n        <Key key={lessonKey.letter.codePoint} lessonKey={lessonKey} />\r\n      ))}\r\n    </span>\r\n  );\r\n};\r\n\r\nfunction relayEvent(\r\n  root: Element,\r\n  { target }: { target: any },\r\n  handler?: (key: LessonKey, elem: Element) => void,\r\n) {\r\n  while (\r\n    handler != null &&\r\n    target instanceof Element &&\r\n    root.contains(target)\r\n  ) {\r\n    const key = Key.attached(target);\r\n    if (key) {\r\n      handler(key, target);\r\n      return;\r\n    }\r\n    target = target.parentElement;\r\n  }\r\n}\r\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { type StreakList as StreakListType } from \"@mkboard/result\";\r\nimport { type ClassName, styleTextTruncate, Value } from \"@mkboard/widget\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nexport const StreakList = ({\r\n  id,\r\n  className,\r\n  streakList,\r\n}: {\r\n  id?: string;\r\n  className?: ClassName;\r\n  streakList: StreakListType;\r\n}) => {\r\n  const { formatPercents } = useIntlNumbers();\r\n  const children = [];\r\n  for (const { level, results } of streakList) {\r\n    if (results.length > 0) {\r\n      if (children.length > 0) {\r\n        children.push(\" \");\r\n      }\r\n      children.push(\r\n        <FormattedMessage\r\n          id=\"streakList.streakLength\"\r\n          defaultMessage=\"{length, plural, =1 {One lesson} other {# lessons}} with {accuracy} accuracy.\"\r\n          values={{\r\n            length: results.length,\r\n            accuracy: <Value value={formatPercents(level)} />,\r\n          }}\r\n        />,\r\n      );\r\n    }\r\n  }\r\n  if (children.length === 0) {\r\n    children.push(\r\n      <FormattedMessage\r\n        id=\"streakList.noStreaks\"\r\n        defaultMessage=\"No accuracy streaks.\"\r\n      />,\r\n    );\r\n  }\r\n  return (\r\n    <span id={id} className={className}>\r\n      <span className={styleTextTruncate}>{...children}</span>\r\n    </span>\r\n  );\r\n};\r\n","import {\r\n  type DailyGoal as DailyGoalType,\r\n  type LessonKey,\r\n  type LessonKeys,\r\n} from \"@mkboard/lesson\";\r\nimport {\r\n  type StreakList as StreakListType,\r\n  type SummaryStats,\r\n} from \"@mkboard/result\";\r\nimport { Name } from \"@mkboard/widget\";\r\nimport { memo } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport { CurrentKey } from \"./CurrentKey.tsx\";\r\nimport { DailyGoal } from \"./DailyGoal.tsx\";\r\nimport { GaugeList } from \"./gauges.tsx\";\r\nimport * as styles from \"./indicators.module.less\";\r\nimport { KeySet } from \"./KeySet.tsx\";\r\nimport { type Names } from \"./names.ts\";\r\nimport { StreakList } from \"./StreakList.tsx\";\r\n\r\nexport const GaugeRow = memo(function GaugeRow({\r\n  summaryStats,\r\n  names,\r\n}: {\r\n  summaryStats: SummaryStats;\r\n  names?: Names;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  return (\r\n    <div className={styles.row}>\r\n      <Name\r\n        className={styles.name}\r\n        name={formatMessage({\r\n          id: \"t_Metrics\",\r\n          defaultMessage: \"Metrics\",\r\n        })}\r\n      />\r\n      <GaugeList summaryStats={summaryStats} names={names} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const KeySetRow = memo(function KeySetRow({\r\n  lessonKeys,\r\n  names,\r\n  onKeyHoverIn,\r\n  onKeyHoverOut,\r\n  onKeyClick,\r\n}: {\r\n  lessonKeys: LessonKeys;\r\n  names?: Names;\r\n  onKeyHoverIn?: (key: LessonKey, elem: Element) => void;\r\n  onKeyHoverOut?: (key: LessonKey, elem: Element) => void;\r\n  onKeyClick?: (key: LessonKey, elem: Element) => void;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  return (\r\n    <div className={styles.row}>\r\n      <Name\r\n        className={styles.name}\r\n        name={formatMessage({\r\n          id: \"t_All_keys\",\r\n          defaultMessage: \"All keys\",\r\n        })}\r\n      />\r\n      <KeySet\r\n        id={names?.keySet}\r\n        className={styles.value}\r\n        lessonKeys={lessonKeys}\r\n        onKeyHoverIn={onKeyHoverIn}\r\n        onKeyHoverOut={onKeyHoverOut}\r\n        onKeyClick={onKeyClick}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const CurrentKeyRow = memo(function CurrentKeyRow({\r\n  lessonKeys,\r\n  names,\r\n}: {\r\n  lessonKeys: LessonKeys;\r\n  names?: Names;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  return (\r\n    <div className={styles.row}>\r\n      <Name\r\n        className={styles.name}\r\n        name={formatMessage({\r\n          id: \"t_Current_key\",\r\n          defaultMessage: \"Current key\",\r\n        })}\r\n      />\r\n      <CurrentKey\r\n        id={names?.currentKey}\r\n        className={styles.value}\r\n        lessonKeys={lessonKeys}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const StreakListRow = memo(function StreakListRow({\r\n  streakList,\r\n  names,\r\n}: {\r\n  streakList: StreakListType;\r\n  names?: Names;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  return (\r\n    <div className={styles.row}>\r\n      <Name\r\n        className={styles.name}\r\n        name={formatMessage({\r\n          id: \"t_Accuracy\",\r\n          defaultMessage: \"Accuracy\",\r\n        })}\r\n      />\r\n      <StreakList\r\n        id={names?.streakList}\r\n        className={styles.value}\r\n        streakList={streakList}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const DailyGoalRow = memo(function DailyGoalRow({\r\n  dailyGoal,\r\n  names,\r\n}: {\r\n  dailyGoal: DailyGoalType;\r\n  names?: Names;\r\n}) {\r\n  const { formatMessage } = useIntl();\r\n  return (\r\n    <div className={styles.row}>\r\n      <Name\r\n        className={styles.name}\r\n        name={formatMessage({\r\n          id: \"t_Daily_goal\",\r\n          defaultMessage: \"Daily goal\",\r\n        })}\r\n      />\r\n      <DailyGoal\r\n        id={names?.dailyGoal}\r\n        className={styles.value}\r\n        dailyGoal={dailyGoal}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import { type MouseProps } from \"@mkboard/widget\";\r\nimport { clsx } from \"clsx\";\r\nimport * as styles from \"./styles.module.less\";\r\nimport { useKeyStyles } from \"./styles.ts\";\r\n\r\nexport const KeyLegend = ({\r\n  confidence,\r\n  isIncluded,\r\n  isFocused,\r\n  isForced,\r\n  size = \"normal\",\r\n  title,\r\n  ...props\r\n}: {\r\n  confidence: number | null;\r\n  isIncluded: boolean;\r\n  isFocused: boolean;\r\n  isForced: boolean;\r\n  size?: \"normal\" | \"large\";\r\n  title?: string;\r\n} & MouseProps) => {\r\n  const { keyStyles } = useKeyStyles();\r\n  return (\r\n    <span\r\n      {...props}\r\n      className={clsx(\r\n        styles.lessonKey,\r\n        size === \"normal\" && styles.lessonKey_normal,\r\n        size === \"large\" && styles.lessonKey_large,\r\n        isIncluded ? styles.lessonKey_included : styles.lessonKey_excluded,\r\n        isIncluded && confidence == null && styles.lessonKey_uncalibrated,\r\n        isIncluded && isFocused && styles.lessonKey_focused,\r\n        isIncluded && isForced && styles.lessonKey_forced,\r\n      )}\r\n      style={keyStyles(isIncluded ?? false, confidence ?? null)}\r\n      title={title}\r\n    >\r\n      ?\r\n      {isIncluded || (\r\n        <svg viewBox=\"0 0 100 100\" className={styles.cross}>\r\n          <path d=\"M 0 100 L 100 0\" />\r\n        </svg>\r\n      )}\r\n    </span>\r\n  );\r\n};\r\n","import { FormattedMessage } from \"react-intl\";\nimport { KeyLegend } from \"./KeyLegend.tsx\";\n\nexport const KeyLegendList = () => {\n  return (\n    <ul>\n      <li>\n        <KeyLegend //\n          isIncluded={true}\n          confidence={null}\n          isFocused={false}\n          isForced={false}\n        />{\" \"}\n        <FormattedMessage\n          id=\"lesson.indicator.notCalibrated\"\n          defaultMessage=\"A non-calibrated key with an unknown confidence level. You still have not pressed this key yet.\"\n        />\n      </li>\n      <li>\n        <KeyLegend //\n          isIncluded={true}\n          confidence={0}\n          isFocused={false}\n          isForced={false}\n        />{\" \"}\n        <FormattedMessage\n          id=\"lesson.indicator.leastConfidence\"\n          defaultMessage=\"A calibrated key with the lowest confidence level. The more times you press this key, the more accurate this metric becomes.\"\n        />\n      </li>\n      <li>\n        <KeyLegend //\n          isIncluded={true}\n          confidence={1}\n          isFocused={false}\n          isForced={false}\n        />{\" \"}\n        <FormattedMessage\n          id=\"lesson.indicator.mostConfidence\"\n          defaultMessage=\"A calibrated key with the highest confidence level. The more times you press this key, the more accurate this metric becomes.\"\n        />\n      </li>\n      <li>\n        <KeyLegend //\n          isIncluded={true}\n          confidence={0.3}\n          isFocused={true}\n          isForced={false}\n        />{\" \"}\n        <FormattedMessage\n          id=\"lesson.indicator.focused\"\n          defaultMessage=\"A key with increased frequency. It takes you the most time to find this key so the algorithm chose it to be included in every generated word.\"\n        />\n      </li>\n      <li>\n        <KeyLegend //\n          isIncluded={true}\n          confidence={null}\n          isFocused={false}\n          isForced={true}\n        />{\" \"}\n        <FormattedMessage\n          id=\"lesson.indicator.forced\"\n          defaultMessage=\"A key which was manually included in the lessons.\"\n        />\n      </li>\n      <li>\n        <KeyLegend //\n          isIncluded={false}\n          confidence={null}\n          isFocused={false}\n          isForced={false}\n        />{\" \"}\n        <FormattedMessage\n          id=\"lesson.indicator.notIncluded\"\n          defaultMessage=\"A key which was not yet included in the lessons.\"\n        />\n      </li>\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nvar _1 = \"Mv8xxVd4IB\";\nvar _2 = \"jzq4i7b9he\";\nvar _3 = \"OBkQONTsWP\";\nvar _4 = \"uGzxT71dKs\";\nvar _5 = \"PdcVFFCWiP\";\nvar _6 = \"Vx1n0vsUaF\";\nvar _7 = \"m5GtuJo7Me\";\nvar _8 = \"v7H9qjfGCH\";\nvar _9 = \"XB6891XTOK\";\nvar _a = \"dtl1tHSyAl\";\nvar _b = \"np4qdJdn7u\";\nexport { _1 as \"accuracy\", _2 as \"controls\", _3 as \"currentKey\", _4 as \"dailyGoal\", _5 as \"indicators\", _6 as \"keySet\", _7 as \"keyboard\", _8 as \"score\", _9 as \"speed\", _a as \"streakList\", _b as \"textInput\" }\n","// extracted by mini-css-extract-plugin\nvar _1 = \"RzyM38fyd4\";\nexport { _1 as \"root\" }\n","import { clsx } from \"clsx\";\nimport { type ReactNode } from \"react\";\nimport * as styles from \"./Description.module.less\";\nimport { type DescriptionProps } from \"./Description.types.ts\";\n\nexport function Description(props: DescriptionProps): ReactNode {\n  const { as: Component = \"p\", id, title, className, children } = props;\n  return (\n    <Component id={id} className={clsx(styles.root, className)} title={title}>\n      {children}\n    </Component>\n  );\n}\n","import {\n  createContext,\n  type ReactNode,\n  type RefObject,\n  useContext,\n} from \"react\";\n\nexport const DynamicStylesContext = createContext({\n  getStyledElement: (): HTMLElement => document.body,\n});\n\nexport const DynamicStylesProvider = ({\n  children,\n  elementRef,\n}: {\n  readonly children: ReactNode;\n  readonly elementRef: RefObject<HTMLElement | null>;\n}) => {\n  return (\n    <DynamicStylesContext.Provider\n      value={{\n        getStyledElement: () => elementRef.current ?? document.body,\n      }}\n    >\n      {children}\n    </DynamicStylesContext.Provider>\n  );\n};\n\nexport const useDynamicStyles = () => {\n  return useContext(DynamicStylesContext);\n};\n","import { Language } from \"@mkboard/keyboard\";\r\nimport { Enum, type EnumItem } from \"@mkboard/lang\";\r\nimport coverImageEnAliceWonderland from \"../../assets/cover-image-en-alice-wonderland.jpg\";\r\nimport coverImageEnCallWild from \"../../assets/cover-image-en-call-wild.jpg\";\r\nimport coverImageEnJekyllHyde from \"../../assets/cover-image-en-jekyll-hyde.jpg\";\r\nimport coverImageEsMarianela from \"../../assets/cover-image-es-marianela.jpg\";\r\nimport coverImageFrAliceWonderland from \"../../assets/cover-image-fr-alice-wonderland.jpg\";\r\n\r\nexport class Book implements EnumItem {\r\n  static readonly EN_ALICE_WONDERLAND = new Book(\r\n    /* id= */ \"en-alice-wonderland\",\r\n    /* language= */ Language.EN,\r\n    /* title= */ \"Alice’s Adventures in Wonderland\",\r\n    /* author= */ \"Lewis Carroll\",\r\n    /* coverImage= */ coverImageEnAliceWonderland,\r\n  );\r\n  static readonly EN_JEKYLL_HYDE = new Book(\r\n    /* id= */ \"en-jekyll-hyde\",\r\n    /* language= */ Language.EN,\r\n    /* title= */ \"The Strange Case Of Dr. Jekyll And Mr. Hyde\",\r\n    /* author= */ \"Robert Louis Stevenson\",\r\n    /* coverImage= */ coverImageEnJekyllHyde,\r\n  );\r\n  static readonly EN_CALL_WILD = new Book(\r\n    /* id= */ \"en-call-wild\",\r\n    /* language= */ Language.EN,\r\n    /* title= */ \"The Call of the Wild\",\r\n    /* author= */ \"Jack London\",\r\n    /* coverImage= */ coverImageEnCallWild,\r\n  );\r\n  static readonly ES_MARIANELA = new Book(\r\n    /* id= */ \"es-marianela\",\r\n    /* language= */ Language.ES,\r\n    /* title= */ \"Marianela\",\r\n    /* author= */ \"Benito Pérez Galdós\",\r\n    /* coverImage= */ coverImageEsMarianela,\r\n  );\r\n  static readonly DE_ALICE_WONDERLAND = new Book(\r\n    /* id= */ \"de-alice-wonderland\",\r\n    /* language= */ Language.DE,\r\n    /* title= */ \"Alice’s Abenteuer im Wunderland\",\r\n    /* author= */ \"Lewis Carroll, Antonie Zimmermann\",\r\n    /* coverImage= */ coverImageEnAliceWonderland,\r\n  );\r\n  static readonly FR_ALICE_WONDERLAND = new Book(\r\n    /* id= */ \"fr-alice-wonderland\",\r\n    /* language= */ Language.FR,\r\n    /* title= */ \"Aventures D’Alice Au Pays Des Merveilles\",\r\n    /* author= */ \"Lewis Carroll, Henri Bué\",\r\n    /* coverImage= */ coverImageFrAliceWonderland,\r\n  );\r\n\r\n  static readonly ALL = new Enum<Book>(\r\n    Book.EN_ALICE_WONDERLAND,\r\n    Book.EN_JEKYLL_HYDE,\r\n    Book.EN_CALL_WILD,\r\n    Book.ES_MARIANELA,\r\n    Book.DE_ALICE_WONDERLAND,\r\n    Book.FR_ALICE_WONDERLAND,\r\n  );\r\n\r\n  private constructor(\r\n    readonly id: string,\r\n    readonly language: Language,\r\n    readonly title: string,\r\n    readonly author: string,\r\n    readonly coverImage: string,\r\n  ) {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  toString() {\r\n    return this.id;\r\n  }\r\n\r\n  toJSON() {\r\n    return this.id;\r\n  }\r\n}\r\n","import { type Content } from \"./types.ts\";\n\nexport function flattenContent(content: Content): readonly string[] {\n  const result: string[] = [];\n  for (const [title, paragraphs] of content) {\n    result.push(...paragraphs);\n  }\n  return result;\n}\n\nexport function splitParagraph(paragraph: string): readonly string[] {\n  return paragraph.split(/\\s+/g);\n}\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { textStatsOf } from \"@mkboard/unicode\";\r\nimport { NameValue } from \"@mkboard/widget\";\r\nimport { memo, type ReactNode, useMemo } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport * as styles from \"./BookPreview.module.less\";\r\nimport { type BookContent } from \"./types.ts\";\r\nimport { flattenContent } from \"./util.ts\";\r\n\r\nexport const BookPreview = memo(function BookPreview({\r\n  book,\r\n  content,\r\n}: BookContent): ReactNode {\r\n  const { formatMessage } = useIntl();\r\n  const { formatNumber } = useIntlNumbers();\r\n  const {\r\n    numChapters,\r\n    numParagraphs,\r\n    numWords,\r\n    numUniqueWords,\r\n    numCharacters,\r\n    avgWordLength,\r\n  } = useMemo(() => {\r\n    const paragraphs = flattenContent(content);\r\n    const numChapters = content.length;\r\n    const numParagraphs = paragraphs.length;\r\n    const textStats = textStatsOf(book.language.locale, paragraphs);\r\n    return {\r\n      numChapters,\r\n      numParagraphs,\r\n      ...textStats,\r\n    };\r\n  }, [book, content]);\r\n  return (\r\n    <div className={styles.root}>\r\n      <img\r\n        className={styles.coverImage}\r\n        src={book.coverImage}\r\n        alt=\"Book cover image\"\r\n        title={`${book.title} by ${book.author}`}\r\n      />\r\n      <div className={styles.details}>\r\n        <p>\r\n          <strong>{book.title}</strong> by <strong>{book.author}</strong>\r\n        </p>\r\n        <p>\r\n          <NameValue\r\n            name={formatMessage({\r\n              id: \"t_num_Chapters\",\r\n              defaultMessage: \"Chapters\",\r\n            })}\r\n            value={formatNumber(numChapters)}\r\n          />\r\n          <NameValue\r\n            name={formatMessage({\r\n              id: \"t_num_Paragraphs\",\r\n              defaultMessage: \"Paragraphs\",\r\n            })}\r\n            value={formatNumber(numParagraphs)}\r\n          />\r\n          <NameValue\r\n            name={formatMessage({\r\n              id: \"t_num_All_words\",\r\n              defaultMessage: \"All words\",\r\n            })}\r\n            value={formatNumber(numWords)}\r\n          />\r\n          <NameValue\r\n            name={formatMessage({\r\n              id: \"t_num_Unique_words\",\r\n              defaultMessage: \"Unique words\",\r\n            })}\r\n            value={formatNumber(numUniqueWords)}\r\n          />\r\n          <NameValue\r\n            name={formatMessage({\r\n              id: \"t_num_Characters\",\r\n              defaultMessage: \"Characters\",\r\n            })}\r\n            value={formatNumber(numCharacters)}\r\n          />\r\n        </p>\r\n        <p>\r\n          <NameValue\r\n            name={formatMessage({\r\n              id: \"t_Average_word_length\",\r\n              defaultMessage: \"Average word length\",\r\n            })}\r\n            value={formatNumber(avgWordLength, 2)}\r\n          />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"FUn2CzuvqJ\";\nvar _2 = \"XYHmGGdLO6\";\nvar _3 = \"VFP0v06fip\";\nexport { _1 as \"coverImage\", _2 as \"details\", _3 as \"root\" }\n","import { Field, FieldList, OptionList } from \"@mkboard/widget\";\r\nimport { type ReactNode } from \"react\";\r\nimport { Book } from \"./book.ts\";\r\n\r\nexport function BookSelector({\r\n  book,\r\n  onChange,\r\n}: {\r\n  readonly book: Book;\r\n  readonly onChange: (book: Book) => void;\r\n}): ReactNode {\r\n  return (\r\n    <FieldList>\r\n      <Field>Book:</Field>\r\n      <Field>\r\n        <OptionList\r\n          size={24}\r\n          options={Book.ALL.map(({ id, title }) => ({\r\n            value: id,\r\n            name: title,\r\n          }))}\r\n          value={book.id}\r\n          onSelect={(value) => {\r\n            onChange(Book.ALL.get(value));\r\n          }}\r\n        />\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"L769Lb12_y\";\nvar _2 = \"D4lTZymuiv\";\nvar _3 = \"E5Tv1at_qs\";\nvar _4 = \"QA1KEzEJqp\";\nvar _5 = \"cPoB6J8Cfs\";\nvar _6 = \"Dzu2WifEx_\";\nvar _7 = \"QnpsKSoxjM\";\nexport { _1 as \"content\", _2 as \"index\", _3 as \"item\", _4 as \"item_active\", _5 as \"item_inactive\", _6 as \"root\", _7 as \"separator\" }\n","import { clsx } from \"clsx\";\nimport { memo, type ReactNode } from \"react\";\nimport * as styles from \"./ParagraphPreview.module.less\";\n\nexport const ParagraphPreview = memo(function ParagraphPreview({\n  paragraphs,\n  paragraphIndex,\n  around = 2,\n}: {\n  readonly paragraphs: readonly string[];\n  readonly paragraphIndex: number;\n  readonly around?: number;\n}): ReactNode {\n  const { length } = paragraphs;\n  const begin = Math.max(0, paragraphIndex - around);\n  const end = Math.min(length - 1, paragraphIndex + around);\n  const items = paragraphs\n    .slice(begin, end + 1)\n    .map((paragraph, index) => [begin + index, paragraph] as [number, string]);\n  return (\n    <div className={styles.root}>\n      {items.map(([index, paragraph]) => (\n        <div\n          key={index}\n          className={clsx(\n            styles.item,\n            index === paragraphIndex\n              ? styles.item_active\n              : styles.item_inactive,\n          )}\n        >\n          <ParagraphIndex paragraphIndex={index} />\n          <span className={styles.separator}>\n            {index === paragraphIndex ? \"\\u27A4\" : \" \"}\n          </span>\n          <ParagraphContent paragraph={paragraph} />\n        </div>\n      ))}\n    </div>\n  );\n});\n\nexport function ParagraphIndex({\n  paragraphIndex,\n}: {\n  readonly paragraphIndex: number;\n}) {\n  return <span className={styles.index}>#{paragraphIndex + 1}</span>;\n}\n\nexport function ParagraphContent({\n  paragraph,\n}: {\n  readonly paragraph: string;\n}) {\n  return <span className={styles.content}>{paragraph}</span>;\n}\n","import { Dir } from \"@mkboard/intl\";\r\nimport { Field, FieldList, Icon, IconButton, Range } from \"@mkboard/widget\";\r\nimport { mdiSkipNext, mdiSkipPrevious } from \"@mdi/js\";\r\nimport { type ReactNode } from \"react\";\r\nimport { ParagraphIndex } from \"./ParagraphPreview.tsx\";\r\n\r\nexport function ParagraphSelector({\r\n  paragraphs,\r\n  paragraphIndex,\r\n  onChange,\r\n}: {\r\n  readonly paragraphs: readonly string[];\r\n  readonly paragraphIndex: number;\r\n  readonly onChange: (paragraphIndex: number) => void;\r\n}): ReactNode {\r\n  return (\r\n    <FieldList>\r\n      <Field>Paragraph:</Field>\r\n      <Field>\r\n        <ParagraphIndex paragraphIndex={paragraphIndex} />\r\n      </Field>\r\n      <Field>\r\n        <Range\r\n          size={32}\r\n          min={0}\r\n          max={paragraphs.length - 1}\r\n          step={1}\r\n          value={paragraphIndex}\r\n          onChange={onChange}\r\n        />\r\n      </Field>\r\n      <Field>\r\n        <Dir swap=\"icon\">\r\n          <IconButton\r\n            icon={<Icon shape={mdiSkipPrevious} />}\r\n            disabled={paragraphIndex === 0}\r\n            onClick={() => {\r\n              if (paragraphIndex > 0) {\r\n                onChange(paragraphIndex - 1);\r\n              }\r\n            }}\r\n          />\r\n          <IconButton\r\n            icon={<Icon shape={mdiSkipNext} />}\r\n            disabled={paragraphIndex === paragraphs.length - 1}\r\n            onClick={() => {\r\n              if (paragraphIndex < paragraphs.length - 1) {\r\n                onChange(paragraphIndex + 1);\r\n              }\r\n            }}\r\n          />\r\n        </Dir>\r\n      </Field>\r\n    </FieldList>\r\n  );\r\n}\r\n","import { type WordList } from \"./types.ts\";\n\nexport function wordListStats(wordList: WordList): {\n  readonly wordCount: number;\n  readonly avgWordLength: number;\n} {\n  let wordLength = 0;\n  let wordCount = 0;\n  for (const word of wordList) {\n    wordLength += word.length;\n    wordCount += 1;\n  }\n  return {\n    wordCount,\n    avgWordLength: wordCount > 0 ? wordLength / wordCount : 0,\n  };\n}\n","import { type Letter } from \"@mkboard/phonetic-model\";\r\nimport { type KeySample, type KeyStats, type KeyStatsMap } from \"@mkboard/result\";\r\nimport { type CodePoint } from \"@mkboard/unicode\";\r\nimport { type Target } from \"./target.ts\";\r\n\r\nexport class LessonKey implements KeyStats {\r\n  static from(keyStats: KeyStats, target: Target): LessonKey {\r\n    const { letter, samples, timeToType, bestTimeToType } = keyStats;\r\n    return new LessonKey({\r\n      letter,\r\n      samples,\r\n      timeToType,\r\n      bestTimeToType,\r\n      confidence: target.confidence(timeToType),\r\n      bestConfidence: target.confidence(bestTimeToType),\r\n    });\r\n  }\r\n\r\n  readonly letter: Letter;\r\n  readonly samples: readonly KeySample[];\r\n  readonly timeToType: number | null;\r\n  readonly bestTimeToType: number | null;\r\n  readonly confidence: number | null;\r\n  readonly bestConfidence: number | null;\r\n  readonly isIncluded: boolean;\r\n  readonly isFocused: boolean;\r\n  readonly isForced: boolean;\r\n\r\n  constructor({\r\n    letter,\r\n    samples,\r\n    timeToType,\r\n    bestTimeToType,\r\n    confidence,\r\n    bestConfidence,\r\n    isIncluded = false,\r\n    isFocused = false,\r\n    isForced = false,\r\n  }: {\r\n    letter: Letter;\r\n    samples: readonly KeySample[];\r\n    timeToType: number | null;\r\n    bestTimeToType: number | null;\r\n    confidence: number | null;\r\n    bestConfidence: number | null;\r\n    isIncluded?: boolean;\r\n    isFocused?: boolean;\r\n    isForced?: boolean;\r\n  }) {\r\n    this.letter = letter;\r\n    this.samples = samples;\r\n    this.timeToType = timeToType;\r\n    this.bestTimeToType = bestTimeToType;\r\n    this.confidence = confidence;\r\n    this.bestConfidence = bestConfidence;\r\n    this.isIncluded = isIncluded;\r\n    this.isFocused = isFocused;\r\n    this.isForced = isForced;\r\n    Object.freeze(this);\r\n  }\r\n\r\n  asIncluded(): LessonKey {\r\n    return new LessonKey({\r\n      ...this,\r\n      isIncluded: true,\r\n    });\r\n  }\r\n\r\n  asExcluded(): LessonKey {\r\n    return new LessonKey({\r\n      ...this,\r\n      isIncluded: false,\r\n      isFocused: false,\r\n      isForced: false,\r\n    });\r\n  }\r\n\r\n  asForced(): LessonKey {\r\n    return new LessonKey({\r\n      ...this,\r\n      isIncluded: true,\r\n      isForced: true,\r\n    });\r\n  }\r\n\r\n  asFocused(): LessonKey {\r\n    return new LessonKey({\r\n      ...this,\r\n      isIncluded: true,\r\n      isFocused: true,\r\n    });\r\n  }\r\n}\r\n\r\nexport class LessonKeys implements Iterable<LessonKey> {\r\n  static includeAll(keyStatsMap: KeyStatsMap, target: Target): LessonKeys {\r\n    return new LessonKeys(\r\n      [...keyStatsMap].map((keyStats) =>\r\n        LessonKey.from(keyStats, target).asIncluded(),\r\n      ),\r\n    );\r\n  }\r\n\r\n  readonly #letters: readonly Letter[];\r\n  readonly #keys: Map<CodePoint, LessonKey>;\r\n\r\n  constructor(keys: readonly LessonKey[]) {\r\n    this.#letters = [...keys.map(({ letter }) => letter)];\r\n    this.#keys = new Map(keys.map((key) => [key.letter.codePoint, key]));\r\n  }\r\n\r\n  get letters(): readonly Letter[] {\r\n    return this.#letters;\r\n  }\r\n\r\n  [Symbol.iterator](): IterableIterator<LessonKey> {\r\n    return this.#keys.values();\r\n  }\r\n\r\n  findIncludedKeys(): LessonKey[] {\r\n    return [...this.#keys.values()].filter((key) => key.isIncluded);\r\n  }\r\n\r\n  findExcludedKeys(): LessonKey[] {\r\n    return [...this.#keys.values()].filter((key) => !key.isIncluded);\r\n  }\r\n\r\n  findFocusedKey(): LessonKey | null {\r\n    return [...this.#keys.values()].find((key) => key.isFocused) ?? null;\r\n  }\r\n\r\n  include({ codePoint }: Letter): void {\r\n    this.#keys.set(codePoint, this.#keys.get(codePoint)!.asIncluded());\r\n  }\r\n\r\n  exclude({ codePoint }: Letter): void {\r\n    this.#keys.set(codePoint, this.#keys.get(codePoint)!.asExcluded());\r\n  }\r\n\r\n  force({ codePoint }: Letter): void {\r\n    this.#keys.set(codePoint, this.#keys.get(codePoint)!.asForced());\r\n  }\r\n\r\n  focus({ codePoint }: Letter): void {\r\n    this.#keys.set(codePoint, this.#keys.get(codePoint)!.asFocused());\r\n  }\r\n\r\n  find(codePoint: CodePoint): LessonKey | null {\r\n    return this.#keys.get(codePoint) ?? null;\r\n  }\r\n}\r\n","import {\r\n  type Keyboard,\r\n  KeyboardOptions,\r\n  type WeightedCodePointSet,\r\n} from \"@mkboard/keyboard\";\r\nimport { type Letter, PhoneticModel } from \"@mkboard/phonetic-model\";\r\nimport { LCG, type RNGStream } from \"@mkboard/rand\";\r\nimport { type KeyStatsMap, type Result, ResultGroups } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { type StyledText } from \"@mkboard/textinput\";\r\nimport { type LessonKeys } from \"./key.ts\";\r\n\r\nexport abstract class Lesson {\r\n  static rng: RNGStream = LCG(Date.now());\r\n\r\n  readonly settings: Settings;\r\n  readonly keyboard: Keyboard;\r\n  readonly codePoints: WeightedCodePointSet;\r\n  readonly model: PhoneticModel;\r\n\r\n  protected constructor(\r\n    settings: Settings,\r\n    keyboard: Keyboard,\r\n    model: PhoneticModel,\r\n  ) {\r\n    this.settings = settings;\r\n    this.keyboard = keyboard;\r\n    this.codePoints = keyboard.getCodePoints();\r\n    this.model = PhoneticModel.restrict(model, this.codePoints);\r\n  }\r\n\r\n  filter(results: readonly Result[]): readonly Result[] {\r\n    return ResultGroups.byLayoutFamily(results).get(\r\n      KeyboardOptions.from(this.settings).layout.family,\r\n    );\r\n  }\r\n\r\n  abstract get letters(): readonly Letter[];\r\n\r\n  abstract update(keyStatsMap: KeyStatsMap): LessonKeys;\r\n\r\n  abstract generate(lessonKeys: LessonKeys, rng: RNGStream): StyledText;\r\n}\r\n","import { Enum, type EnumItem } from \"@mkboard/lang\";\r\nimport { TextType } from \"@mkboard/result\";\r\n\r\nexport class LessonType implements EnumItem {\r\n  static readonly GUIDED = new LessonType(\"guided\", TextType.GENERATED);\r\n  static readonly WORDLIST = new LessonType(\"wordlist\", TextType.NATURAL);\r\n  static readonly BOOKS = new LessonType(\"books\", TextType.NATURAL);\r\n  static readonly CUSTOM = new LessonType(\"custom\", TextType.NATURAL);\r\n  static readonly CODE = new LessonType(\"code\", TextType.CODE);\r\n  static readonly NUMBERS = new LessonType(\"numbers\", TextType.NUMBERS);\r\n  static readonly ALL = new Enum<LessonType>(\r\n    LessonType.GUIDED,\r\n    LessonType.WORDLIST,\r\n    LessonType.BOOKS,\r\n    LessonType.CUSTOM,\r\n    LessonType.CODE,\r\n    LessonType.NUMBERS,\r\n  );\r\n\r\n  private constructor(\r\n    readonly id: string,\r\n    readonly textType: TextType,\r\n  ) {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  toString() {\r\n    return this.id;\r\n  }\r\n\r\n  toJSON() {\r\n    return this.id;\r\n  }\r\n}\r\n","import { Syntax } from \"@mkboard/code\";\r\nimport { Book } from \"@mkboard/content\";\r\nimport {\r\n  booleanProp,\r\n  flagsProp,\r\n  itemProp,\r\n  numberProp,\r\n  stringProp,\r\n} from \"@mkboard/settings\";\r\nimport { LessonType } from \"./lessontype.ts\";\r\n\r\nexport const lessonProps = {\r\n  type: itemProp(\"lesson.type\", LessonType.ALL, LessonType.GUIDED),\r\n  length: numberProp(\"lesson.length\", 0, { min: 0, max: 1 }),\r\n  guided: {\r\n    naturalWords: booleanProp(\"lesson.guided.naturalWords\", true),\r\n    keyboardOrder: booleanProp(\"lesson.guided.keyboardOrder\", false),\r\n    alphabetSize: numberProp(\"lesson.guided.alphabetSize\", 0, {\r\n      min: 0,\r\n      max: 1,\r\n    }),\r\n    recoverKeys: booleanProp(\"lesson.guided.recoverKeys\", false),\r\n  } as const,\r\n  wordList: {\r\n    wordListSize: numberProp(\"lesson.wordList.wordListSize\", 1000, {\r\n      min: 10,\r\n      max: 1000,\r\n    }),\r\n    longWordsOnly: booleanProp(\"lesson.wordList.longWordsOnly\", false),\r\n  } as const,\r\n  books: {\r\n    book: itemProp(\"lesson.books.book\", Book.ALL, Book.EN_ALICE_WONDERLAND),\r\n    paragraphIndex: numberProp(\"lesson.books.paragraphIndex\", 0, {\r\n      min: 0,\r\n      max: 1000,\r\n    }),\r\n    lettersOnly: booleanProp(\"lesson.books.lettersOnly\", false),\r\n    lowercase: booleanProp(\"lesson.books.lowercase\", false),\r\n  },\r\n  customText: {\r\n    content: stringProp(\r\n      \"lesson.customText.content\",\r\n      \"The quick brown fox jumps over the lazy dog.\",\r\n      { maxLength: 10_000 },\r\n    ),\r\n    lettersOnly: booleanProp(\"lesson.customText.lettersOnly\", true),\r\n    lowercase: booleanProp(\"lesson.customText.lowercase\", true),\r\n    randomize: booleanProp(\"lesson.customText.randomize\", false),\r\n  } as const,\r\n  numbers: {\r\n    benford: booleanProp(\"lesson.numbers.benford\", true),\r\n  } as const,\r\n  code: {\r\n    syntax: itemProp(\"lesson.code.syntax\", Syntax.ALL, Syntax.HTML),\r\n    flags: flagsProp(\"lesson.code.flags\", [\r\n      \"capitals\",\r\n      \"numbers\",\r\n      \"types\",\r\n      \"comments\",\r\n    ]),\r\n  } as const,\r\n  capitals: numberProp(\"lesson.capitals\", 0, { min: 0, max: 1 }),\r\n  punctuators: numberProp(\"lesson.punctuators\", 0, { min: 0, max: 1 }),\r\n  repeatWords: numberProp(\"lesson.repeatWords\", 1, { min: 1, max: 10 }),\r\n  targetSpeed: numberProp(\"lesson.targetSpeed\", 175, { min: 75, max: 750 }),\r\n  dailyGoal: numberProp(\"lesson.dailyGoal\", 30, { min: 0, max: 120 }),\r\n} as const;\r\n","import { speedToTime } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { lessonProps } from \"./settings.ts\";\r\n\r\nexport class Target {\r\n  readonly targetSpeed: number;\r\n\r\n  constructor(settings: Settings) {\r\n    this.targetSpeed = settings.get(lessonProps.targetSpeed);\r\n  }\r\n\r\n  confidence(timeToType: number): number;\r\n  confidence(timeToType: null): null;\r\n  confidence(timeToType: number | null): number | null;\r\n  confidence(timeToType: number | null): number | null {\r\n    if (timeToType == null) {\r\n      return null;\r\n    }\r\n    if (!Number.isFinite(timeToType) || timeToType === 0) {\r\n      throw new Error();\r\n    }\r\n    return speedToTime(this.targetSpeed) / timeToType;\r\n  }\r\n}\r\n","import { type Settings } from \"@mkboard/settings\";\r\nimport { lessonProps } from \"../settings.ts\";\r\nimport { type WordGenerator } from \"./words.ts\";\r\n\r\nexport function generateFragment(\r\n  settings: Settings,\r\n  nextWord: WordGenerator,\r\n  { repeatWords = 1 }: { readonly repeatWords?: number } = {},\r\n): string {\r\n  const length = 100 + Math.round(settings.get(lessonProps.length) * 100);\r\n  const words: string[] = [];\r\n  let wordsLength = 0;\r\n  while (true) {\r\n    const word = nextWord() || \"?\";\r\n    for (let i = 1; i <= repeatWords; i++) {\r\n      words.push(word);\r\n      wordsLength += word.length;\r\n      if (wordsLength >= length) {\r\n        return words.join(\" \");\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { type Language } from \"@mkboard/keyboard\";\r\nimport {\r\n  type Filter,\r\n  type Letter,\r\n  type PhoneticModel,\r\n} from \"@mkboard/phonetic-model\";\r\nimport { randomSample, type RNG, weightedRandomSample } from \"@mkboard/rand\";\r\n\r\nexport type WordGenerator = () => string | \"\" | null;\r\n\r\nexport function phoneticWords(\r\n  model: PhoneticModel,\r\n  filter: Filter,\r\n  random: RNG,\r\n): WordGenerator {\r\n  return () => {\r\n    return model.nextWord(filter, random) || null;\r\n  };\r\n}\r\n\r\nexport function randomWords(\r\n  wordList: readonly string[],\r\n  random: RNG,\r\n): WordGenerator {\r\n  return () => {\r\n    if (wordList.length > 0) {\r\n      return randomSample(wordList, random);\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n}\r\n\r\nexport function wordSequence(\r\n  wordList: readonly string[],\r\n  cursor: { wordIndex: number },\r\n): WordGenerator {\r\n  return () => {\r\n    const { length } = wordList;\r\n    if (length > 0) {\r\n      let { wordIndex } = cursor;\r\n      if (wordIndex >= length) {\r\n        wordIndex = 0;\r\n      }\r\n      const word = wordList[wordIndex];\r\n      cursor.wordIndex = wordIndex + 1;\r\n      return word;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n}\r\n\r\nexport function uniqueWords(nextWord: WordGenerator): WordGenerator {\r\n  let last = \"\";\r\n  return () => {\r\n    let n = 0;\r\n    let word = null;\r\n    while (n < 3) {\r\n      word = nextWord();\r\n      if (word == null || word === \"\") {\r\n        return null;\r\n      }\r\n      if (word !== last) {\r\n        last = word;\r\n        return word;\r\n      }\r\n      n++;\r\n    }\r\n    return word;\r\n  };\r\n}\r\n\r\nexport function mangledWords(\r\n  nextWord: WordGenerator,\r\n  language: Language,\r\n  punctuators: readonly Letter[],\r\n  {\r\n    withCapitals = 0,\r\n    withPunctuators = 0,\r\n  }: {\r\n    withCapitals?: number;\r\n    withPunctuators?: number;\r\n  },\r\n  random: RNG,\r\n): WordGenerator {\r\n  return () => {\r\n    let word = nextWord();\r\n    if (word == null || word === \"\") {\r\n      return null;\r\n    }\r\n    if (withCapitals > 0 && withCapitals >= random()) {\r\n      word = language.capitalCase(word);\r\n    }\r\n    if (withPunctuators > 0 && withPunctuators >= random()) {\r\n      const { codePoint } = weightedRandomSample(\r\n        punctuators,\r\n        ({ f }) => f,\r\n        random,\r\n      );\r\n      switch (codePoint) {\r\n        case 33:\r\n          word = `${word}!`;\r\n          break;\r\n        case 34:\r\n          word = `\"${word}\"`;\r\n          break;\r\n        case 39:\r\n          word = `'${word}'`;\r\n          break;\r\n        case 44:\r\n          word = `${word},`;\r\n          break;\r\n        case 45:\r\n          word = `${word}-${nextWord()}`;\r\n          break;\r\n        case 46:\r\n          word = `${word}.`;\r\n          break;\r\n        case 58:\r\n          word = `${word}:`;\r\n          break;\r\n        case 59:\r\n          word = `${word};`;\r\n          break;\r\n        case 63:\r\n          word = `${word}?`;\r\n          break;\r\n      }\r\n    }\r\n    return word;\r\n  };\r\n}\r\n","import {\r\n  type Book,\r\n  type BookContent,\r\n  type Content,\r\n  flattenContent,\r\n  splitParagraph,\r\n} from \"@mkboard/content\";\r\nimport { filterText, type Keyboard } from \"@mkboard/keyboard\";\r\nimport { clamp } from \"@mkboard/lang\";\r\nimport { type PhoneticModel } from \"@mkboard/phonetic-model\";\r\nimport { type KeyStatsMap } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { LessonKeys } from \"./key.ts\";\r\nimport { Lesson } from \"./lesson.ts\";\r\nimport { lessonProps } from \"./settings.ts\";\r\nimport { Target } from \"./target.ts\";\r\nimport { generateFragment } from \"./text/fragment.ts\";\r\nimport { wordSequence } from \"./text/words.ts\";\r\n\r\nexport class BooksLesson extends Lesson {\r\n  readonly book: Book;\r\n  readonly content: Content;\r\n  readonly paragraphs: readonly string[];\r\n  readonly paragraphIndex: number;\r\n  readonly wordList: readonly string[];\r\n  wordIndex = 0;\r\n\r\n  constructor(\r\n    settings: Settings,\r\n    keyboard: Keyboard,\r\n    model: PhoneticModel,\r\n    { book, content }: BookContent,\r\n  ) {\r\n    super(settings, keyboard, model);\r\n    const paragraphIndex = this.settings.get(lessonProps.books.paragraphIndex);\r\n    this.book = book;\r\n    this.content = content;\r\n    this.paragraphs = this.#flattenContent(content);\r\n    this.paragraphIndex = clamp(paragraphIndex, 0, this.paragraphs.length);\r\n    this.wordList = [\r\n      ...this.paragraphs.slice(this.paragraphIndex),\r\n      ...this.paragraphs.slice(0, this.paragraphIndex),\r\n    ]\r\n      .map(splitParagraph)\r\n      .flat();\r\n  }\r\n\r\n  override get letters() {\r\n    return this.model.letters;\r\n  }\r\n\r\n  override update(keyStatsMap: KeyStatsMap) {\r\n    return LessonKeys.includeAll(keyStatsMap, new Target(this.settings));\r\n  }\r\n\r\n  override generate() {\r\n    return generateFragment(this.settings, wordSequence(this.wordList, this));\r\n  }\r\n\r\n  #flattenContent(content: Content) {\r\n    const lettersOnly = this.settings.get(lessonProps.books.lettersOnly);\r\n    const lowercase = this.settings.get(lessonProps.books.lowercase);\r\n    const codePoints = new Set(this.keyboard.getCodePoints());\r\n    if (lettersOnly) {\r\n      for (const codePoint of codePoints) {\r\n        if (!this.model.language.includes(codePoint)) {\r\n          codePoints.delete(codePoint);\r\n        }\r\n      }\r\n    }\r\n    return flattenContent(content).map((paragraph) => {\r\n      let text = filterText(paragraph, codePoints);\r\n      if (lowercase) {\r\n        text = this.model.language.lowerCase(text);\r\n      }\r\n      return text;\r\n    });\r\n  }\r\n}\r\n","import { type Keyboard } from \"@mkboard/keyboard\";\r\nimport { Letter, type PhoneticModel } from \"@mkboard/phonetic-model\";\r\nimport { type RNGStream } from \"@mkboard/rand\";\r\nimport { type KeyStatsMap } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { LessonKeys } from \"./key.ts\";\r\nimport { Lesson } from \"./lesson.ts\";\r\nimport { lessonProps } from \"./settings.ts\";\r\nimport { Target } from \"./target.ts\";\r\n\r\nexport class CodeLesson extends Lesson {\r\n  constructor(settings: Settings, keyboard: Keyboard, model: PhoneticModel) {\r\n    super(settings, keyboard, model);\r\n  }\r\n\r\n  override get letters(): readonly Letter[] {\r\n    return Letter.programming;\r\n  }\r\n\r\n  override update(keyStatsMap: KeyStatsMap) {\r\n    return LessonKeys.includeAll(keyStatsMap, new Target(this.settings));\r\n  }\r\n\r\n  override generate(lessonKeys: LessonKeys, rng: RNGStream) {\r\n    const syntax = this.settings.get(lessonProps.code.syntax);\r\n    const flags = this.settings.get(lessonProps.code.flags);\r\n    return syntax.generate(new Set(flags), rng);\r\n  }\r\n}\r\n","import { filterText, type Keyboard } from \"@mkboard/keyboard\";\r\nimport { type PhoneticModel } from \"@mkboard/phonetic-model\";\r\nimport { type RNGStream } from \"@mkboard/rand\";\r\nimport { type KeyStatsMap } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { LessonKeys } from \"./key.ts\";\r\nimport { Lesson } from \"./lesson.ts\";\r\nimport { lessonProps } from \"./settings.ts\";\r\nimport { Target } from \"./target.ts\";\r\nimport { generateFragment } from \"./text/fragment.ts\";\r\nimport { randomWords, uniqueWords, wordSequence } from \"./text/words.ts\";\r\n\r\nexport class CustomTextLesson extends Lesson {\r\n  readonly wordList: readonly string[];\r\n  wordIndex = 0;\r\n\r\n  constructor(settings: Settings, keyboard: Keyboard, model: PhoneticModel) {\r\n    super(settings, keyboard, model);\r\n    this.wordList = this.#getWordList();\r\n  }\r\n\r\n  override get letters() {\r\n    return this.model.letters;\r\n  }\r\n\r\n  override update(keyStatsMap: KeyStatsMap) {\r\n    return LessonKeys.includeAll(keyStatsMap, new Target(this.settings));\r\n  }\r\n\r\n  override generate(lessonKeys: LessonKeys, rng: RNGStream) {\r\n    return generateFragment(this.settings, this.#makeWordGenerator(rng));\r\n  }\r\n\r\n  #makeWordGenerator(rng: RNGStream) {\r\n    const randomize = this.settings.get(lessonProps.customText.randomize);\r\n    if (randomize && this.wordList.length > 0) {\r\n      return uniqueWords(randomWords(this.wordList, rng));\r\n    } else {\r\n      return wordSequence(this.wordList, this);\r\n    }\r\n  }\r\n\r\n  #getWordList() {\r\n    const content = this.settings.get(lessonProps.customText.content);\r\n    const lettersOnly = this.settings.get(lessonProps.customText.lettersOnly);\r\n    const lowercase = this.settings.get(lessonProps.customText.lowercase);\r\n    const codePoints = new Set(this.codePoints);\r\n    if (lettersOnly) {\r\n      for (const codePoint of codePoints) {\r\n        if (!this.model.language.includes(codePoint)) {\r\n          codePoints.delete(codePoint);\r\n        }\r\n      }\r\n    }\r\n    let text = filterText(content, codePoints);\r\n    if (lowercase) {\r\n      text = this.model.language.lowerCase(text);\r\n    }\r\n    return text.split(/\\s+/);\r\n  }\r\n}\r\n","import { type Result, Today } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { lessonProps } from \"./settings.ts\";\r\n\r\nexport type DailyGoal = {\r\n  /** Daily goal in minutes. */\r\n  readonly goal: number;\r\n  /** Progress in range [0, 1]. */\r\n  readonly value: number;\r\n};\r\n\r\nexport class MutableDailyGoal implements DailyGoal {\r\n  readonly #goal: number;\r\n  readonly #today: Today;\r\n  #time: number;\r\n  #value: number;\r\n\r\n  constructor(settings: Settings, today: Today = new Today()) {\r\n    this.#goal = settings.get(lessonProps.dailyGoal);\r\n    this.#today = today;\r\n    this.#time = 0;\r\n    this.#value = 0;\r\n  }\r\n\r\n  get goal(): number {\r\n    return this.#goal;\r\n  }\r\n\r\n  get value(): number {\r\n    return this.#value;\r\n  }\r\n\r\n  append(result: Result) {\r\n    if (this.#today.includes(result.timeStamp)) {\r\n      this.#time += result.time;\r\n      this.#value = this.measure(this.#time);\r\n    }\r\n  }\r\n\r\n  measure(time: number): number {\r\n    return this.#goal > 0 ? time / 1000 / 60 / this.#goal : 0;\r\n  }\r\n\r\n  copy(): DailyGoal {\r\n    return { goal: this.#goal, value: this.#value };\r\n  }\r\n}\r\n","import { type WordList } from \"@mkboard/content\";\r\nimport { type Filter } from \"@mkboard/phonetic-model\";\r\nimport {\r\n  type CodePoint,\r\n  type CodePointSet,\r\n  toCodePoints,\r\n} from \"@mkboard/unicode\";\r\n\r\nexport class Dictionary implements Iterable<string> {\r\n  readonly #words: Word[] = [];\r\n  readonly #dict = new Map<CodePoint, Word[]>();\r\n\r\n  constructor(wordList: WordList) {\r\n    for (const item of wordList) {\r\n      const word = new Word(item);\r\n      this.#words.push(word);\r\n      for (const codePoint of word.codePoints) {\r\n        let list = this.#dict.get(codePoint);\r\n        if (list == null) {\r\n          this.#dict.set(codePoint, (list = []));\r\n        }\r\n        if (!list.includes(word)) {\r\n          list.push(word);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  *[Symbol.iterator](): IterableIterator<string> {\r\n    for (const word of this.#words) {\r\n      yield word.value;\r\n    }\r\n  }\r\n\r\n  find({ codePoints, focusedCodePoint }: Filter): WordList {\r\n    let words = this.#words;\r\n    if (focusedCodePoint != null) {\r\n      words = this.#dict.get(focusedCodePoint) ?? [];\r\n    }\r\n    if (codePoints != null) {\r\n      words = words.filter((word) => word.matches(codePoints));\r\n    }\r\n    return words.map(({ value }) => value);\r\n  }\r\n}\r\n\r\nclass Word {\r\n  readonly value: string;\r\n  readonly codePoints: readonly CodePoint[];\r\n\r\n  constructor(value: string) {\r\n    this.value = value;\r\n    this.codePoints = [...toCodePoints(value)];\r\n  }\r\n\r\n  matches(codePoints: CodePointSet): boolean {\r\n    return this.codePoints.every((codePoint) => codePoints.has(codePoint));\r\n  }\r\n\r\n  toString() {\r\n    return this.value;\r\n  }\r\n}\r\n\r\nexport const filterWordList = (\r\n  words: WordList,\r\n  codePoints: CodePointSet,\r\n): string[] =>\r\n  words.filter((word) =>\r\n    [...toCodePoints(word)].every((codePoint) => codePoints.has(codePoint)),\r\n  );\r\n","import { type WordList } from \"@mkboard/content\";\r\nimport { type Keyboard } from \"@mkboard/keyboard\";\r\nimport { Filter, Letter, type PhoneticModel } from \"@mkboard/phonetic-model\";\r\nimport { type RNGStream } from \"@mkboard/rand\";\r\nimport { type KeyStatsMap } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { Dictionary, filterWordList } from \"./dictionary.ts\";\r\nimport { LessonKey, LessonKeys } from \"./key.ts\";\r\nimport { Lesson } from \"./lesson.ts\";\r\nimport { lessonProps } from \"./settings.ts\";\r\nimport { Target } from \"./target.ts\";\r\nimport { generateFragment } from \"./text/fragment.ts\";\r\nimport {\r\n  mangledWords,\r\n  phoneticWords,\r\n  randomWords,\r\n  uniqueWords,\r\n} from \"./text/words.ts\";\r\n\r\nexport class GuidedLesson extends Lesson {\r\n  readonly dictionary: Dictionary;\r\n\r\n  constructor(\r\n    settings: Settings,\r\n    keyboard: Keyboard,\r\n    model: PhoneticModel,\r\n    wordList: WordList,\r\n  ) {\r\n    super(settings, keyboard, model);\r\n    this.dictionary = new Dictionary(\r\n      filterWordList(wordList, this.codePoints).filter(\r\n        (word) => word.length > 2,\r\n      ),\r\n    );\r\n  }\r\n\r\n  override get letters() {\r\n    return this.model.letters;\r\n  }\r\n\r\n  override update(keyStatsMap: KeyStatsMap) {\r\n    const alphabetSize = this.settings.get(lessonProps.guided.alphabetSize);\r\n    const recoverKeys = this.settings.get(lessonProps.guided.recoverKeys);\r\n\r\n    const letters = this.#getLetters();\r\n\r\n    const minSize = 6;\r\n    const maxSize =\r\n      minSize + Math.round((letters.length - minSize) * alphabetSize);\r\n\r\n    const target = new Target(this.settings);\r\n\r\n    const lessonKeys = new LessonKeys(\r\n      letters.map((letter) => LessonKey.from(keyStatsMap.get(letter), target)),\r\n    );\r\n\r\n    for (const lessonKey of lessonKeys) {\r\n      const includedKeys = lessonKeys.findIncludedKeys();\r\n\r\n      if (includedKeys.length < minSize) {\r\n        // Meet the minimal required alphabet size.\r\n        lessonKeys.include(lessonKey.letter);\r\n        continue;\r\n      }\r\n\r\n      if (includedKeys.length < maxSize) {\r\n        // Meet the maximal required alphabet size.\r\n        lessonKeys.force(lessonKey.letter);\r\n        continue;\r\n      }\r\n\r\n      if ((lessonKey.bestConfidence ?? 0) >= 1) {\r\n        // Must include all confident keys.\r\n        lessonKeys.include(lessonKey.letter);\r\n        continue;\r\n      }\r\n\r\n      if (recoverKeys) {\r\n        if (includedKeys.every((key) => (key.confidence ?? 0) >= 1)) {\r\n          // Include a new key only when all the previous keys\r\n          // are now above the target speed.\r\n          lessonKeys.include(lessonKey.letter);\r\n          continue;\r\n        }\r\n      } else {\r\n        if (includedKeys.every((key) => (key.bestConfidence ?? 0) >= 1)) {\r\n          // Include a new key only when all the previous keys\r\n          // were once above the target speed.\r\n          lessonKeys.include(lessonKey.letter);\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Find the least confident of all included keys and focus on it.\r\n    const confidenceOf = (key: LessonKey): number => {\r\n      return recoverKeys ? (key.confidence ?? 0) : (key.bestConfidence ?? 0);\r\n    };\r\n    const weakestKeys = lessonKeys\r\n      .findIncludedKeys()\r\n      .filter((key) => confidenceOf(key) < 1)\r\n      .sort((a, b) => confidenceOf(a) - confidenceOf(b));\r\n    if (weakestKeys.length > 0) {\r\n      lessonKeys.focus(weakestKeys[0].letter);\r\n    }\r\n\r\n    return lessonKeys;\r\n  }\r\n\r\n  override generate(lessonKeys: LessonKeys, rng: RNGStream) {\r\n    const filter = new Filter(\r\n      lessonKeys.findIncludedKeys(),\r\n      lessonKeys.findFocusedKey(),\r\n    );\r\n    const wordGenerator = this.#makeWordGenerator(filter, rng);\r\n    const words = mangledWords(\r\n      uniqueWords(wordGenerator),\r\n      this.model.language,\r\n      Letter.restrict(Letter.punctuators, this.codePoints),\r\n      {\r\n        withCapitals: this.settings.get(lessonProps.capitals),\r\n        withPunctuators: this.settings.get(lessonProps.punctuators),\r\n      },\r\n      rng,\r\n    );\r\n    return generateFragment(this.settings, words, {\r\n      repeatWords: this.settings.get(lessonProps.repeatWords),\r\n    });\r\n  }\r\n\r\n  #getLetters() {\r\n    const { letters } = this.model;\r\n    const { codePoints } = this;\r\n    if (this.settings.get(lessonProps.guided.keyboardOrder)) {\r\n      return Letter.weightedFrequencyOrder(letters, ({ codePoint }) =>\r\n        codePoints.weight(codePoint),\r\n      );\r\n    } else {\r\n      return Letter.frequencyOrder(letters);\r\n    }\r\n  }\r\n\r\n  #makeWordGenerator(filter: Filter, rng: RNGStream) {\r\n    const pseudoWords = phoneticWords(this.model, filter, rng);\r\n    if (this.settings.get(lessonProps.guided.naturalWords)) {\r\n      const words = this.dictionary.find(filter).slice(0, 1000);\r\n      while (words.length < 15) {\r\n        const word = pseudoWords();\r\n        if (word != null) {\r\n          words.push(word);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      if (words.length === 0) {\r\n        words.push(\"?\");\r\n      }\r\n      return randomWords(words, rng);\r\n    }\r\n    return pseudoWords;\r\n  }\r\n}\r\n","import {\r\n  hasData,\r\n  type Polynomial,\r\n  polynomialRegression,\r\n  r2,\r\n  Vector,\r\n} from \"@mkboard/math\";\r\nimport { type KeySample, timeToSpeed } from \"@mkboard/result\";\r\nimport { findSession } from \"./learningsession.ts\";\r\nimport { type Target } from \"./target.ts\";\r\n\r\nexport class LearningRate {\r\n  static from(\r\n    samples: readonly KeySample[],\r\n    target: Target,\r\n  ): LearningRate | null {\r\n    const recent = samples.slice(-30);\r\n    if (hasData(recent)) {\r\n      return new LearningRate(recent, target);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static example(target: Target): LearningRate {\r\n    return new LearningRate(\r\n      new Array(14).fill(0).map((value, index) => {\r\n        const timeStamp =\r\n          /* 2001-01-01T12:00:00Z */ 978350400000 + index * 60000;\r\n        const timeToType = 500 - index * 10;\r\n        return {\r\n          index,\r\n          timeStamp: timeStamp,\r\n          hitCount: 30,\r\n          missCount: 0,\r\n          timeToType: timeToType,\r\n          filteredTimeToType: timeToType,\r\n        } satisfies KeySample;\r\n      }),\r\n      target,\r\n    );\r\n  }\r\n\r\n  /** A vector of indices which are lesson numbers. */\r\n  readonly vIndex: Vector;\r\n  /** A vector of values which are typing speeds. */\r\n  readonly vSpeed: Vector;\r\n  /** A derived model which approximates values. */\r\n  readonly mSpeed: Polynomial;\r\n\r\n  readonly certainty: number = NaN;\r\n  readonly learningRate: number = NaN;\r\n  readonly remainingLessons: number = NaN;\r\n\r\n  constructor(\r\n    readonly samples: readonly KeySample[],\r\n    readonly target: Target,\r\n  ) {\r\n    const session = findSession(samples);\r\n    if (hasData(session)) {\r\n      // Replace all samples with the latest learning session\r\n      // of lessons without breaks between them.\r\n      samples = session;\r\n    }\r\n    const { length } = samples;\r\n    const vIndex = new Vector();\r\n    const vSpeed = new Vector();\r\n    for (let index = 0; index < length; index++) {\r\n      const sample = samples[index];\r\n      vIndex.add(sample.index + 1);\r\n      vSpeed.add(timeToSpeed(sample.filteredTimeToType));\r\n    }\r\n    const mSpeed = polynomialRegression(\r\n      vIndex,\r\n      vSpeed,\r\n      getPolynomialDegree(length),\r\n    );\r\n    this.vIndex = vIndex;\r\n    this.vSpeed = vSpeed;\r\n    this.mSpeed = mSpeed;\r\n    const certainty = r2(vIndex, vSpeed, mSpeed);\r\n    if (certainty >= 0.5) {\r\n      const lastIndex = samples[length - 1].index + 1;\r\n      this.certainty = certainty;\r\n      this.learningRate = mSpeed.derivative().eval(lastIndex);\r\n      for (let i = 1; i <= 50; i++) {\r\n        if (mSpeed.eval(lastIndex + i) >= this.target.targetSpeed) {\r\n          this.remainingLessons = i;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getPolynomialDegree(length: number): number {\r\n  if (length > 20) {\r\n    return 3; // Fit cubic polynomial.\r\n  }\r\n  if (length > 10) {\r\n    return 2; // Fit quadratic polynomial.\r\n  }\r\n  return 1; // Fit linear polynomial.\r\n}\r\n","import { type KeySample } from \"@mkboard/result\";\r\n\r\nexport function findSession(samples: readonly KeySample[]): KeySample[] {\r\n  const { length } = samples;\r\n  for (let i = length - 1; i > 0; i--) {\r\n    const a = samples[i - 1];\r\n    const b = samples[i];\r\n    if (b.timeStamp - a.timeStamp > /* one hour */ 3600000) {\r\n      return samples.slice(i);\r\n    }\r\n    if (b.filteredTimeToType > a.filteredTimeToType && length - i + 1 >= 5) {\r\n      return samples.slice(i);\r\n    }\r\n  }\r\n  return samples.slice(0);\r\n}\r\n","import { type Keyboard } from \"@mkboard/keyboard\";\r\nimport { Letter, type PhoneticModel } from \"@mkboard/phonetic-model\";\r\nimport {\r\n  randomSample,\r\n  type RNGStream,\r\n  weightedRandomSample,\r\n} from \"@mkboard/rand\";\r\nimport { type KeyStatsMap } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { LessonKeys } from \"./key.ts\";\r\nimport { Lesson } from \"./lesson.ts\";\r\nimport { lessonProps } from \"./settings.ts\";\r\nimport { Target } from \"./target.ts\";\r\n\r\nexport class NumbersLesson extends Lesson {\r\n  constructor(settings: Settings, keyboard: Keyboard, model: PhoneticModel) {\r\n    super(settings, keyboard, model);\r\n  }\r\n\r\n  override get letters() {\r\n    return Letter.digits;\r\n  }\r\n\r\n  override update(keyStatsMap: KeyStatsMap) {\r\n    return LessonKeys.includeAll(keyStatsMap, new Target(this.settings));\r\n  }\r\n\r\n  override generate(lessonKeys: LessonKeys, rng: RNGStream) {\r\n    const words = [];\r\n    let wordsLength = 0;\r\n    while (true) {\r\n      const word = this.nextWord(rng);\r\n      words.push(word);\r\n      wordsLength += word.length;\r\n      if (wordsLength >= 50) {\r\n        break;\r\n      }\r\n    }\r\n    return words.join(\" \");\r\n  }\r\n\r\n  nextWord(rng: RNGStream) {\r\n    const benford = this.settings.get(lessonProps.numbers.benford);\r\n    const [zeroDigit, ...nonZeroDigits] = Letter.digits;\r\n    const allDigits = [zeroDigit, ...nonZeroDigits];\r\n    const length = Math.floor(3 + rng() * 4);\r\n    const word = [];\r\n    let last = null;\r\n    for (let i = 0; i < length; i++) {\r\n      while (true) {\r\n        const digit =\r\n          i === 0\r\n            ? benford\r\n              ? weightedRandomSample(nonZeroDigits, ({ f }) => f, rng)\r\n              : randomSample(nonZeroDigits, rng)\r\n            : randomSample(allDigits, rng);\r\n        if (digit !== last) {\r\n          word.push(digit);\r\n          last = digit;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return String.fromCodePoint(...word.map(({ codePoint }) => codePoint));\r\n  }\r\n}\r\n","import { type WordList } from \"@mkboard/content\";\r\nimport { type Keyboard } from \"@mkboard/keyboard\";\r\nimport { Letter, type PhoneticModel } from \"@mkboard/phonetic-model\";\r\nimport { type RNGStream } from \"@mkboard/rand\";\r\nimport { type KeyStatsMap } from \"@mkboard/result\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { filterWordList } from \"./dictionary.ts\";\r\nimport { LessonKeys } from \"./key.ts\";\r\nimport { Lesson } from \"./lesson.ts\";\r\nimport { lessonProps } from \"./settings.ts\";\r\nimport { Target } from \"./target.ts\";\r\nimport { generateFragment } from \"./text/fragment.ts\";\r\nimport { mangledWords, randomWords, uniqueWords } from \"./text/words.ts\";\r\n\r\nexport class WordListLesson extends Lesson {\r\n  readonly wordList: WordList;\r\n\r\n  constructor(\r\n    settings: Settings,\r\n    keyboard: Keyboard,\r\n    model: PhoneticModel,\r\n    wordList: WordList,\r\n  ) {\r\n    super(settings, keyboard, model);\r\n    const wordListSize = settings.get(lessonProps.wordList.wordListSize);\r\n    const longWordsOnly = settings.get(lessonProps.wordList.longWordsOnly);\r\n    this.wordList = filterWordList(wordList, this.codePoints)\r\n      .filter((word) => !longWordsOnly || word.length > 3)\r\n      .slice(0, wordListSize);\r\n  }\r\n\r\n  override get letters() {\r\n    return this.model.letters;\r\n  }\r\n\r\n  override update(keyStatsMap: KeyStatsMap) {\r\n    return LessonKeys.includeAll(keyStatsMap, new Target(this.settings));\r\n  }\r\n\r\n  override generate(lessonKeys: LessonKeys, rng: RNGStream) {\r\n    const wordGenerator = randomWords(this.wordList, rng);\r\n    const words = mangledWords(\r\n      uniqueWords(wordGenerator),\r\n      this.model.language,\r\n      Letter.restrict(Letter.punctuators, this.codePoints),\r\n      {\r\n        withCapitals: this.settings.get(lessonProps.capitals),\r\n        withPunctuators: this.settings.get(lessonProps.punctuators),\r\n      },\r\n      rng,\r\n    );\r\n    return generateFragment(this.settings, words, {\r\n      repeatWords: this.settings.get(lessonProps.repeatWords),\r\n    });\r\n  }\r\n}\r\n","import { createContext, useContext } from \"react\";\n\nexport type ExplainerStateType = {\n  readonly explainersVisible: boolean;\n  readonly toggleExplainers: (visible?: boolean) => void;\n};\n\nexport const ExplainerStateContext = createContext<ExplainerStateType>({\n  explainersVisible: true,\n  toggleExplainers: () => {},\n});\n\nexport function useExplainerState(): ExplainerStateType {\n  return useContext(ExplainerStateContext);\n}\n","import { type RefObject, useEffect, useState } from \"react\";\nimport { getElementSize } from \"../utils/geometry.ts\";\nimport { type Size } from \"../utils/size.ts\";\n\nexport type ElementResizeCallback = (entry: ResizeObserverEntry) => void;\n\nconst observed = new WeakMap<Element, ElementResizeCallback>();\n\nlet resizeObserver: ResizeObserver | null = null;\n\nconst getResizeObserver = (): ResizeObserver => {\n  if (resizeObserver == null) {\n    resizeObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        const callback = observed.get(entry.target);\n        if (callback != null) {\n          callback(entry);\n        }\n      }\n    });\n  }\n  return resizeObserver;\n};\n\nexport const onElementResize = (\n  element: Element,\n  callback: ElementResizeCallback,\n): (() => void) => {\n  const resizeObserver = getResizeObserver();\n  observed.set(element, callback);\n  resizeObserver.observe(element);\n  return () => {\n    observed.delete(element);\n    resizeObserver.unobserve(element);\n  };\n};\n\nexport const useElementSize = (ref: RefObject<Element | null>): Size | null => {\n  const [size, setSize] = useState<Size | null>(null);\n  useEffect(() => {\n    const element = ref.current;\n    if (element == null) {\n      return;\n    }\n    return onElementResize(element, () => {\n      const newSize = getElementSize(element);\n      if (size == null || !size.eq(newSize)) {\n        setSize(newSize);\n      }\n    });\n  }, [ref, size]);\n  return size;\n};\n","import { Color } from \"@mkboard/color\";\r\n\r\nexport type ColorValue = Color | string | CanvasGradient | CanvasPattern;\r\n\r\nexport type TextStyle = {\r\n  font?: string;\r\n  textAlign?: \"left\" | \"right\" | \"center\" | \"start\" | \"end\";\r\n  textBaseline?:\r\n    | \"top\"\r\n    | \"hanging\"\r\n    | \"middle\"\r\n    | \"alphabetic\"\r\n    | \"ideographic\"\r\n    | \"bottom\";\r\n};\r\n\r\nexport type FillStyle = {\r\n  fillStyle?: ColorValue;\r\n  fillRule?: \"nonzero\" | \"evenodd\";\r\n};\r\n\r\nexport type StrokeStyle = {\r\n  strokeStyle?: ColorValue;\r\n  lineCap?: \"butt\" | \"round\" | \"square\";\r\n  lineDash?: number[];\r\n  lineDashOffset?: number;\r\n  lineJoin?: \"bevel\" | \"round\" | \"miter\";\r\n  lineWidth?: number;\r\n  miterLimit?: number;\r\n};\r\n\r\nexport type GraphicsStyle = TextStyle & FillStyle & StrokeStyle;\r\n\r\nexport const toCanvasColor = (\r\n  value: ColorValue,\r\n): string | CanvasGradient | CanvasPattern => {\r\n  if (value instanceof Color) {\r\n    return String(value);\r\n  } else {\r\n    return value;\r\n  }\r\n};\r\n\r\nexport const applyStyle = (\r\n  context: CanvasRenderingContext2D,\r\n  {\r\n    fillStyle,\r\n    strokeStyle,\r\n    lineCap,\r\n    lineDash,\r\n    lineDashOffset,\r\n    lineJoin,\r\n    lineWidth,\r\n    miterLimit,\r\n    font,\r\n    textAlign,\r\n    textBaseline,\r\n  }: GraphicsStyle,\r\n): void => {\r\n  if (fillStyle != null) {\r\n    context.fillStyle = toCanvasColor(fillStyle);\r\n  }\r\n  if (strokeStyle != null) {\r\n    context.strokeStyle = toCanvasColor(strokeStyle);\r\n  }\r\n  if (lineCap != null) {\r\n    context.lineCap = lineCap;\r\n  }\r\n  if (lineDash != null) {\r\n    context.setLineDash(lineDash);\r\n  }\r\n  if (lineDashOffset != null) {\r\n    context.lineDashOffset = lineDashOffset;\r\n  }\r\n  if (lineJoin != null) {\r\n    context.lineJoin = lineJoin;\r\n  }\r\n  if (lineWidth != null) {\r\n    context.lineWidth = lineWidth;\r\n  }\r\n  if (miterLimit != null) {\r\n    context.miterLimit = miterLimit;\r\n  }\r\n  if (font != null) {\r\n    context.font = font;\r\n  }\r\n  if (textAlign != null) {\r\n    context.textAlign = textAlign;\r\n  }\r\n  if (textBaseline != null) {\r\n    context.textBaseline = textBaseline;\r\n  }\r\n};\r\n","import {\n  applyStyle,\n  type ColorValue,\n  type FillStyle,\n  type GraphicsStyle,\n  type StrokeStyle,\n  type TextStyle,\n  toCanvasColor,\n} from \"./graphics-style.ts\";\n\nexport type Shape = (g: Graphics) => void;\n\nexport type ShapeList = null | false | Shape | readonly ShapeList[];\n\nexport class Graphics {\n  constructor(readonly context: CanvasRenderingContext2D) {}\n\n  set fillStyle(value: ColorValue) {\n    this.context.fillStyle = toCanvasColor(value);\n  }\n\n  set strokeStyle(value: ColorValue) {\n    this.context.strokeStyle = toCanvasColor(value);\n  }\n\n  set style(style: GraphicsStyle) {\n    const { context } = this;\n    applyStyle(context, style);\n  }\n\n  withStyle(style: GraphicsStyle, fn: () => void): void {\n    const { context } = this;\n    context.save();\n    applyStyle(context, style);\n    fn();\n    context.restore();\n  }\n\n  clear(x: number, y: number, w: number, h: number): void {\n    const { context } = this;\n    context.clearRect(x, y, w, h);\n  }\n\n  fillText(text: unknown, x: number, y: number): void {\n    const { context } = this;\n    context.beginPath();\n    context.fillText(String(text), x, y);\n  }\n\n  strokeText(text: unknown, x: number, y: number): void {\n    const { context } = this;\n    context.beginPath();\n    context.strokeText(String(text), x, y);\n  }\n\n  fillRect(x: number, y: number, w: number, h: number): void {\n    const { context } = this;\n    context.beginPath();\n    context.fillRect(x, y, w, h);\n  }\n\n  strokeRect(x: number, y: number, w: number, h: number): void {\n    const { context } = this;\n    context.beginPath();\n    context.strokeRect(x, y, w, h);\n  }\n\n  fillCircle(cx: number, cy: number, r: number): void {\n    const { context } = this;\n    context.beginPath();\n    context.arc(cx, cy, r, 0, Math.PI * 2);\n    context.fill();\n  }\n\n  strokeCircle(cx: number, cy: number, r: number): void {\n    const { context } = this;\n    context.beginPath();\n    context.arc(cx, cy, r, 0, Math.PI * 2);\n    context.stroke();\n  }\n\n  strokeLine(x1: number, y1: number, x2: number, y2: number): void {\n    const { context } = this;\n    context.beginPath();\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n  }\n\n  paint(...shapes: readonly ShapeList[]): void {\n    paintShapes(this, ...shapes);\n  }\n}\n\nexport class Shapes {\n  static clear(): Shape {\n    return (g: Graphics): void => {\n      const { width, height } = g.context.canvas;\n      g.clear(0, 0, width, height);\n    };\n  }\n\n  static fill(style: FillStyle, ...shapes: readonly ShapeList[]): Shape {\n    return (g: Graphics): void => {\n      const { context } = g;\n      g.withStyle(style, () => {\n        context.beginPath();\n        paintShapes(g, shapes);\n        context.fill();\n      });\n    };\n  }\n\n  static stroke(style: StrokeStyle, ...shapes: readonly ShapeList[]): Shape {\n    return (g: Graphics): void => {\n      const { context } = g;\n      g.withStyle(style, () => {\n        context.beginPath();\n        paintShapes(g, shapes);\n        context.stroke();\n      });\n    };\n  }\n\n  static line({\n    x1,\n    y1,\n    x2,\n    y2,\n  }: {\n    readonly x1: number;\n    readonly y1: number;\n    readonly x2: number;\n    readonly y2: number;\n  }): Shape {\n    return (g: Graphics): void => {\n      const { context } = g;\n      context.moveTo(x1, y1);\n      context.lineTo(x2, y2);\n    };\n  }\n\n  static rect({\n    x,\n    y,\n    width,\n    height,\n  }: {\n    readonly x: number;\n    readonly y: number;\n    readonly width: number;\n    readonly height: number;\n  }): Shape {\n    return (g: Graphics): void => {\n      const { context } = g;\n      context.rect(x, y, width, height);\n    };\n  }\n\n  static circle({\n    cx,\n    cy,\n    r,\n  }: {\n    readonly cx: number;\n    readonly cy: number;\n    readonly r: number;\n  }): Shape {\n    return (g: Graphics): void => {\n      const { context } = g;\n      context.arc(cx, cy, r, 0, Math.PI * 2);\n    };\n  }\n\n  static fillText({\n    value,\n    x,\n    y,\n    style = {},\n  }: {\n    readonly value: unknown;\n    readonly x: number;\n    readonly y: number;\n    readonly style: TextStyle & FillStyle;\n  }): Shape {\n    return (g: Graphics): void => {\n      g.withStyle(style, () => {\n        g.fillText(value, x, y);\n      });\n    };\n  }\n\n  static strokeText({\n    value,\n    x,\n    y,\n    style = {},\n  }: {\n    readonly value: unknown;\n    readonly x: number;\n    readonly y: number;\n    readonly style: TextStyle & StrokeStyle;\n  }): Shape {\n    return (g: Graphics): void => {\n      g.withStyle(style, () => {\n        g.strokeText(value, x, y);\n      });\n    };\n  }\n}\n\nfunction paintShapes(g: Graphics, ...shapes: readonly ShapeList[]): void {\n  for (const item of shapes) {\n    if (item == null || item === false) {\n      continue;\n    }\n    if (typeof item === \"object\" && Array.isArray(item)) {\n      paintShapes(g, ...item);\n      continue;\n    }\n    if (typeof item === \"function\") {\n      item(g);\n      continue;\n    }\n    throw new TypeError();\n  }\n}\n","import { memo, useEffect, useImperativeHandle, useRef } from \"react\";\nimport { useElementSize } from \"../../hooks/use-element-size.ts\";\nimport { type CanvasProps } from \"./Canvas.types.ts\";\nimport { Graphics } from \"./graphics.ts\";\n\nexport const Canvas = memo(function Canvas({\n  className,\n  id,\n  paint,\n  ref,\n  style,\n  title,\n  onResize,\n  ...props\n}: CanvasProps) {\n  const element = useRef<HTMLCanvasElement>(null);\n  const size = useElementSize(element);\n  useImperativeHandle(ref, () => ({\n    getSize: () => size,\n    getContext: (...args) => {\n      const canvas = element.current!;\n      return canvas.getContext.call(canvas, ...args) as any;\n    },\n    toBlob: (...args) => {\n      const canvas = element.current!;\n      canvas.toBlob.call(canvas, ...args);\n    },\n    toDataURL: (...args) => {\n      const canvas = element.current!;\n      return canvas.toDataURL.call(canvas, ...args);\n    },\n    paint: (paint) => {\n      if (size != null && size.width > 0 && size.height > 0) {\n        const canvas = element.current!;\n        const context = canvas.getContext(\"2d\")!;\n        new Graphics(context).paint(paint(size));\n      }\n    },\n  }));\n  useEffect(() => {\n    if (size != null && size.width > 0 && size.height > 0) {\n      const canvas = element.current!;\n      const context = canvas.getContext(\"2d\")!;\n      const ratio = devicePixelRatio;\n      canvas.width = Math.max(1, size.width * ratio);\n      canvas.height = Math.max(1, size.height * ratio);\n      context.scale(ratio, ratio);\n    }\n  }, [size]);\n  useEffect(() => {\n    if (size != null && size.width > 0 && size.height > 0) {\n      const canvas = element.current!;\n      const context = canvas.getContext(\"2d\")!;\n      new Graphics(context).paint(paint(size));\n    }\n  }, [size, paint]);\n  return (\n    <canvas\n      {...props}\n      ref={element}\n      id={id}\n      className={className}\n      style={{\n        display: \"block\",\n        inlineSize: \"100%\",\n        blockSize: \"100%\",\n        ...style,\n      }}\n      title={title}\n    />\n  );\n});\n","import { Rect, type ShapeList, Shapes, type Size } from \"@mkboard/widget\";\r\nimport { type ReactNode } from \"react\";\r\nimport { type ChartStyles } from \"./use-chart-styles.ts\";\r\n\r\nexport type SizeProps = {\r\n  readonly width: string;\r\n  readonly height: string;\r\n};\r\n\r\nexport function Chart({\r\n  children,\r\n  width,\r\n  height,\r\n}: {\r\n  readonly children: ReactNode;\r\n} & SizeProps): ReactNode {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"block\",\r\n        position: \"relative\",\r\n        insetInlineStart: \"0px\",\r\n        insetBlockStart: \"0px\",\r\n        inlineSize: width,\r\n        blockSize: height,\r\n        margin: \"0px\",\r\n        padding: \"0px\",\r\n        borderStyle: \"none\",\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function chartArea(styles: ChartStyles, cb: (d: Rect) => ShapeList) {\r\n  return ({ width, height }: Size) => {\r\n    const h = styles.lineHeight * 5;\r\n    const v = styles.lineHeight * 2;\r\n    const area = new Rect(h, v, width - h * 2, height - v * 2).round();\r\n    return [Shapes.clear(), cb(area)];\r\n  };\r\n}\r\n","import { Point, Rect } from \"@mkboard/widget\";\r\n\r\nexport type Tick<T> = { readonly value: T; readonly point: Point };\r\nexport type Box<T> = { readonly value: T; readonly rect: Rect };\r\n\r\nexport function vTicks<T>(box: Rect, items: readonly T[]): Tick<T>[] {\r\n  const { length } = items;\r\n  if (length < 2) {\r\n    throw new Error();\r\n  }\r\n  return items.map((value, index) => ({\r\n    value,\r\n    point: new Point(\r\n      box.x + (box.width / (length - 1)) * index, // x\r\n      box.y, // y\r\n    ).round(),\r\n  }));\r\n}\r\n\r\nexport function hTicks<T>(box: Rect, items: readonly T[]): Tick<T>[] {\r\n  const { length } = items;\r\n  if (length < 2) {\r\n    throw new Error();\r\n  }\r\n  return items.map((value, index) => ({\r\n    value,\r\n    point: new Point(\r\n      box.x, // x\r\n      box.y + (box.height - (box.height / (length - 1)) * index), // y\r\n    ).round(),\r\n  }));\r\n}\r\n\r\nexport function vBoxes<T>(\r\n  box: Rect,\r\n  items: readonly T[],\r\n  { margin = 0 }: { margin?: number } = {},\r\n): Box<T>[] {\r\n  const { length } = items;\r\n  if (length === 0) {\r\n    throw new Error();\r\n  }\r\n  if (length === 1) {\r\n    return [{ value: items[0], rect: box.round() }];\r\n  }\r\n  const size = (box.width + margin) / length;\r\n  const w = size - margin;\r\n  const h = box.height;\r\n  return items.map((value, index) => ({\r\n    value,\r\n    rect: new Rect(box.x + index * size, box.y, w, h).round(),\r\n  }));\r\n}\r\n\r\nexport function hBoxes<T>(\r\n  box: Rect,\r\n  items: readonly T[],\r\n  { margin = 0 }: { margin?: number } = {},\r\n): Box<T>[] {\r\n  const { length } = items;\r\n  if (length === 0) {\r\n    throw new Error();\r\n  }\r\n  if (length === 1) {\r\n    return [{ value: items[0], rect: box.round() }];\r\n  }\r\n  const size = (box.height + margin) / length;\r\n  const w = box.width;\r\n  const h = size - margin;\r\n  return items.map((value, index) => ({\r\n    value,\r\n    rect: new Rect(box.x, box.y + index * size, w, h).round(),\r\n  }));\r\n}\r\n","import { type Range } from \"@mkboard/math\";\r\nimport {\r\n  type GraphicsStyle,\r\n  type Rect,\r\n  type ShapeList,\r\n  Shapes,\r\n} from \"@mkboard/widget\";\r\nimport { type MessageDescriptor } from \"react-intl\";\r\nimport { hBoxes, hTicks, vBoxes, vTicks } from \"./geometry.ts\";\r\nimport { type ChartStyles } from \"./use-chart-styles.ts\";\r\n\r\nexport type Edge = \"left\" | \"right\" | \"top\" | \"bottom\";\r\n\r\nexport function withStyles(styles: ChartStyles) {\r\n  function paintGrid(\r\n    box: Rect,\r\n    direction: \"vertical\" | \"horizontal\",\r\n    {\r\n      lines = 3,\r\n      style = styles.frame,\r\n    }: {\r\n      readonly lines?: number;\r\n      readonly style?: GraphicsStyle;\r\n    } = {},\r\n  ): ShapeList {\r\n    switch (direction) {\r\n      case \"vertical\":\r\n        return Shapes.fill(\r\n          style,\r\n          vTicks(box, makeRange(0, lines)).map(({ point }) =>\r\n            Shapes.rect({\r\n              x: point.x,\r\n              y: point.y,\r\n              width: 1,\r\n              height: box.height,\r\n            }),\r\n          ),\r\n        );\r\n      case \"horizontal\":\r\n        return Shapes.fill(\r\n          style,\r\n          hTicks(box, makeRange(0, lines)).map(({ point }) =>\r\n            Shapes.rect({\r\n              x: point.x,\r\n              y: point.y,\r\n              width: box.width,\r\n              height: 1,\r\n            }),\r\n          ),\r\n        );\r\n    }\r\n  }\r\n\r\n  function paintFrame(\r\n    box: Rect,\r\n    {\r\n      style = styles.frame,\r\n    }: {\r\n      readonly style?: GraphicsStyle;\r\n    } = {},\r\n  ): ShapeList {\r\n    return Shapes.fill(style, [\r\n      // top\r\n      Shapes.rect({\r\n        x: box.x - 1,\r\n        y: box.y - 1,\r\n        width: box.width + 2,\r\n        height: 1,\r\n      }),\r\n      // bottom\r\n      Shapes.rect({\r\n        x: box.x - 1,\r\n        y: box.y + box.height,\r\n        width: box.width + 2,\r\n        height: 1,\r\n      }),\r\n      // left\r\n      Shapes.rect({\r\n        x: box.x - 1,\r\n        y: box.y - 1,\r\n        width: 1,\r\n        height: box.height + 2,\r\n      }),\r\n      // right\r\n      Shapes.rect({\r\n        x: box.x + box.width,\r\n        y: box.y - 1,\r\n        width: 1,\r\n        height: box.height + 2,\r\n      }),\r\n    ]);\r\n  }\r\n\r\n  function paintAxis(\r\n    box: Rect,\r\n    edge: Edge,\r\n    {\r\n      margin = 20,\r\n      style = styles.frame,\r\n    }: {\r\n      readonly margin?: number;\r\n      readonly style?: GraphicsStyle;\r\n    } = {},\r\n  ): ShapeList {\r\n    switch (edge) {\r\n      case \"left\":\r\n        return Shapes.fill(\r\n          style,\r\n          Shapes.rect({\r\n            x: box.x - 1,\r\n            y: box.y - margin,\r\n            width: 3,\r\n            height: box.height + margin,\r\n          }),\r\n        );\r\n      case \"right\":\r\n        return Shapes.fill(\r\n          style,\r\n          Shapes.rect({\r\n            x: box.x + box.width + 1,\r\n            y: box.y - margin,\r\n            width: 3,\r\n            height: box.height + margin,\r\n          }),\r\n        );\r\n      case \"top\":\r\n        return Shapes.fill(\r\n          style,\r\n          Shapes.rect({\r\n            x: box.x,\r\n            y: box.y - 1,\r\n            width: box.width + margin,\r\n            height: 3,\r\n          }),\r\n        );\r\n      case \"bottom\":\r\n        return Shapes.fill(\r\n          style,\r\n          Shapes.rect({\r\n            x: box.x,\r\n            y: box.y + box.height - 1,\r\n            width: box.width + margin,\r\n            height: 3,\r\n          }),\r\n        );\r\n    }\r\n  }\r\n\r\n  function paintTicks(\r\n    box: Rect,\r\n    range: Range,\r\n    edge: Edge,\r\n    {\r\n      lines = 3,\r\n      fmt = String,\r\n      style = styles.valueLabel,\r\n    }: {\r\n      readonly lines?: number;\r\n      readonly fmt?: (value: number) => unknown;\r\n      readonly style?: GraphicsStyle;\r\n    } = {},\r\n  ): ShapeList {\r\n    switch (edge) {\r\n      case \"left\": {\r\n        style = { ...style, textAlign: \"right\", textBaseline: \"middle\" };\r\n        return hTicks(box, makeTicks(range, lines)).map(\r\n          ({ value, point: { x, y } }) =>\r\n            Shapes.fillText({\r\n              value: fmt(value),\r\n              x: x - 5,\r\n              y,\r\n              style,\r\n            }),\r\n        );\r\n      }\r\n      case \"right\": {\r\n        style = { ...style, textAlign: \"left\", textBaseline: \"middle\" };\r\n        return hTicks(box, makeTicks(range, lines)).map(\r\n          ({ value, point: { x, y } }) =>\r\n            Shapes.fillText({\r\n              value: fmt(value),\r\n              x: x + box.width + 5,\r\n              y,\r\n              style,\r\n            }),\r\n        );\r\n      }\r\n      case \"top\": {\r\n        style = { ...style, textAlign: \"center\", textBaseline: \"bottom\" };\r\n        return vTicks(box, makeTicks(range, lines)).map(\r\n          ({ value, point: { x, y } }) =>\r\n            Shapes.fillText({\r\n              value: fmt(value),\r\n              x,\r\n              y: y - 5,\r\n              style,\r\n            }),\r\n        );\r\n      }\r\n      case \"bottom\": {\r\n        style = { ...style, textAlign: \"center\", textBaseline: \"top\" };\r\n        return vTicks(box, makeTicks(range, lines)).map(\r\n          ({ value, point: { x, y } }) =>\r\n            Shapes.fillText({\r\n              value: fmt(value),\r\n              x,\r\n              y: y + box.height + 5,\r\n              style,\r\n            }),\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  function paintKeyTicks<T>(\r\n    box: Rect,\r\n    items: readonly T[],\r\n    edge: Edge,\r\n    {\r\n      margin = 5,\r\n      fmt = String,\r\n      style = styles.keyLabel,\r\n    }: {\r\n      readonly margin?: number;\r\n      readonly fmt?: (item: T) => unknown;\r\n      readonly style?: GraphicsStyle;\r\n    } = {},\r\n  ): ShapeList {\r\n    switch (edge) {\r\n      case \"left\": {\r\n        style = { ...style, textAlign: \"right\", textBaseline: \"middle\" };\r\n        return hBoxes(box, items, { margin }).map(({ value, rect }) =>\r\n          Shapes.fillText({\r\n            value: fmt(value),\r\n            x: box.x - 4,\r\n            y: rect.cy,\r\n            style,\r\n          }),\r\n        );\r\n      }\r\n      case \"right\": {\r\n        style = { ...style, textAlign: \"left\", textBaseline: \"middle\" };\r\n        return hBoxes(box, items, { margin }).map(({ value, rect }) =>\r\n          Shapes.fillText({\r\n            value: fmt(value),\r\n            x: box.x + box.width + 4,\r\n            y: rect.cy,\r\n            style,\r\n          }),\r\n        );\r\n      }\r\n      case \"top\": {\r\n        style = { ...style, textAlign: \"center\", textBaseline: \"bottom\" };\r\n        return vBoxes(box, items, { margin }).map(({ value, rect }) =>\r\n          Shapes.fillText({\r\n            value: fmt(value),\r\n            x: rect.cx,\r\n            y: box.y - 3,\r\n            style,\r\n          }),\r\n        );\r\n      }\r\n      case \"bottom\": {\r\n        style = { ...style, textAlign: \"center\", textBaseline: \"top\" };\r\n        return vBoxes(box, items, { margin }).map(({ value, rect }) =>\r\n          Shapes.fillText({\r\n            value: fmt(value),\r\n            x: rect.cx,\r\n            y: box.y + box.height + 3,\r\n            style,\r\n          }),\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  function paintNoData(\r\n    box: Rect,\r\n    formatMessage: (d: MessageDescriptor) => string,\r\n  ): ShapeList {\r\n    return [\r\n      Shapes.fillText({\r\n        value: formatMessage({\r\n          id: \"profile.emptyChart.header\",\r\n          defaultMessage: \"Not enough data\",\r\n        }),\r\n        x: box.cx,\r\n        y: box.cy,\r\n        style: {\r\n          ...styles.headerText,\r\n          textAlign: \"center\",\r\n          textBaseline: \"bottom\",\r\n        },\r\n      }),\r\n      Shapes.fillText({\r\n        value: formatMessage({\r\n          id: \"profile.emptyChart.description\",\r\n          defaultMessage:\r\n            \"Complete a few more lessons to get more data points.\",\r\n        }),\r\n        x: box.cx,\r\n        y: box.cy,\r\n        style: {\r\n          ...styles.subheaderText,\r\n          textAlign: \"center\",\r\n          textBaseline: \"top\",\r\n        },\r\n      }),\r\n    ];\r\n  }\r\n\r\n  return {\r\n    styles,\r\n    paintGrid,\r\n    paintFrame,\r\n    paintAxis,\r\n    paintTicks,\r\n    paintKeyTicks,\r\n    paintNoData,\r\n  };\r\n}\r\n\r\nfunction makeTicks({ min, max }: Range, count: number): number[] {\r\n  if (count < 2) {\r\n    throw new Error();\r\n  }\r\n  const result = [];\r\n  for (let i = 0; i < count; i++) {\r\n    result.push(((max - min) / (count - 1)) * i + min);\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction makeRange(from: number, to: number): number[] {\r\n  return new Array<number>(to - from).fill(0).map((_, index) => index + from);\r\n}\r\n","// extracted by mini-css-extract-plugin\nvar _1 = \"MwpCYgAIVx\";\nvar _2 = \"jhig_oyt1g\";\nvar _3 = \"mEZRAZmelc\";\nvar _4 = \"kp7YunEUKy\";\nvar _5 = \"ZkvxcBkV_i\";\nvar _6 = \"wCayXsyiaO\";\nvar _7 = \"OUVXyFnCoV\";\nvar _8 = \"LFR7QHDg7X\";\nvar _9 = \"zaejDBQDSI\";\nvar _a = \"WASldsK6M5\";\nvar _b = \"aEikT9FYZL\";\nvar _c = \"GjuRKtJdit\";\nvar _d = \"Gk_EmBnFIF\";\nexport { _1 as \"accuracy\", _2 as \"complexity\", _3 as \"frame\", _4 as \"headerText\", _5 as \"hist_h\", _6 as \"hist_m\", _7 as \"hist_r\", _8 as \"keyFont\", _9 as \"speed\", _a as \"subheaderText\", _b as \"threshold\", _c as \"value\", _d as \"valueFont\" }\n","import { useComputedStyles } from \"@mkboard/themes\";\r\nimport { useMemo } from \"react\";\r\nimport * as styles from \"./styles.module.less\";\r\n\r\nexport type ChartStyles = ReturnType<typeof useChartStyles>;\r\n\r\nexport function useChartStyles() {\r\n  const { computeStyle, computeLineHeight } = useComputedStyles();\r\n  return useMemo(() => {\r\n    return {\r\n      frame: computeStyle(styles.frame),\r\n      headerText: computeStyle(styles.headerText),\r\n      subheaderText: computeStyle(styles.subheaderText),\r\n      keyLabel: computeStyle(styles.value, styles.keyFont),\r\n      value: computeStyle(styles.value),\r\n      valueLabel: computeStyle(styles.value, styles.valueFont),\r\n      threshold: computeStyle(styles.threshold),\r\n      thresholdLabel: computeStyle(styles.threshold, styles.valueFont),\r\n      complexity: computeStyle(styles.complexity),\r\n      accuracy: computeStyle(styles.accuracy),\r\n      speed: computeStyle(styles.speed),\r\n      histHit: computeStyle(styles.hist_h),\r\n      histMiss: computeStyle(styles.hist_m),\r\n      histRatio: computeStyle(styles.hist_r),\r\n      lineHeight: computeLineHeight(null),\r\n    };\r\n  }, [computeStyle, computeLineHeight]);\r\n}\r\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { type Distribution, Range, Vector } from \"@mkboard/math\";\r\nimport { Canvas, type Rect, type ShapeList, Shapes } from \"@mkboard/widget\";\r\nimport { type ReactNode } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport { Chart, chartArea, type SizeProps } from \"./Chart.tsx\";\r\nimport { withStyles } from \"./decoration.ts\";\r\nimport { type Threshold } from \"./types.ts\";\r\nimport { type ChartStyles, useChartStyles } from \"./use-chart-styles.ts\";\r\n\r\nexport function AccuracyHistogram({\r\n  distribution,\r\n  thresholds,\r\n  width,\r\n  height,\r\n}: {\r\n  readonly distribution: Distribution;\r\n  readonly thresholds: readonly Threshold[];\r\n} & SizeProps): ReactNode {\r\n  const styles = useChartStyles();\r\n  const paint = usePaint(styles, distribution, thresholds);\r\n  return (\r\n    <Chart width={width} height={height}>\r\n      <Canvas paint={chartArea(styles, paint)} />\r\n    </Chart>\r\n  );\r\n}\r\n\r\nfunction usePaint(\r\n  styles: ChartStyles,\r\n  dist: Distribution,\r\n  thresholds: readonly Threshold[],\r\n) {\r\n  const { formatMessage } = useIntl();\r\n  const { formatPercents } = useIntlNumbers();\r\n  const g = withStyles(styles);\r\n\r\n  const vIndex = new Vector();\r\n  const vPmf = new Vector();\r\n  const vCdf = new Vector();\r\n  for (const { index, pmf, cdf } of dist) {\r\n    vIndex.add(index);\r\n    vPmf.add(pmf);\r\n    vCdf.add(cdf);\r\n  }\r\n  const rIndex = new Range(dist.scale(0.8), dist.scale(1.0));\r\n  const rPmf = Range.from(vPmf);\r\n  const rCdf = Range.from(vCdf);\r\n\r\n  return (box: Rect): ShapeList => {\r\n    return [\r\n      g.paintGrid(box, \"horizontal\", { lines: 5 }),\r\n      g.paintGrid(box, \"vertical\", { lines: 5 }),\r\n      g.paintAxis(box, \"bottom\"),\r\n      g.paintAxis(box, \"left\"),\r\n      paintPmfHistogram(),\r\n      paintCdfHistogram(),\r\n      thresholds.length > 0\r\n        ? [thresholds.map(paintPmfLine), thresholds.map(paintCdfLine)]\r\n        : g.paintNoData(box, formatMessage),\r\n      g.paintTicks(box, rIndex, \"bottom\", {\r\n        lines: 5,\r\n        fmt: (value) => formatPercents(dist.unscale(value)),\r\n        style: styles.valueLabel,\r\n      }),\r\n      g.paintTicks(box, rCdf, \"right\", {\r\n        lines: 5,\r\n        fmt: formatPercents,\r\n        style: styles.thresholdLabel,\r\n      }),\r\n    ];\r\n\r\n    function paintPmfHistogram(): ShapeList {\r\n      return Shapes.fill(\r\n        styles.speed,\r\n        [...rIndex.steps()].map((index) => {\r\n          const w = Math.ceil(box.width / rIndex.span);\r\n          const x = Math.round(rIndex.normalize(index, 1) * box.width);\r\n          const y = Math.round(rPmf.normalize(vPmf.at(index)) * box.height);\r\n          return Shapes.rect({\r\n            x: box.x + x,\r\n            y: box.y + box.height - y,\r\n            width: w,\r\n            height: y,\r\n          });\r\n        }),\r\n      );\r\n    }\r\n\r\n    function paintCdfHistogram(): ShapeList {\r\n      return Shapes.fill(\r\n        styles.threshold,\r\n        [...rIndex.steps()].map((index) => {\r\n          const w = Math.ceil(box.width / rIndex.span);\r\n          const x = Math.round(rIndex.normalize(index, 1) * box.width);\r\n          const y = Math.round(rCdf.normalize(vCdf.at(index)) * box.height);\r\n          return Shapes.rect({\r\n            x: box.x + x,\r\n            y: box.y + box.height - y - 1,\r\n            width: w,\r\n            height: 1,\r\n          });\r\n        }),\r\n      );\r\n    }\r\n\r\n    function paintPmfLine({\r\n      label,\r\n      value,\r\n    }: {\r\n      label: string;\r\n      value: number;\r\n    }): ShapeList {\r\n      const index = dist.scale(value);\r\n      if (index < rIndex.min || index > rIndex.max) {\r\n        return [];\r\n      }\r\n      const x = Math.round(rIndex.normalize(index) * box.width);\r\n      return [\r\n        Shapes.fill(styles.value, [\r\n          Shapes.rect({\r\n            x: box.x + x,\r\n            y: box.y - 10,\r\n            width: 1,\r\n            height: box.height + 20,\r\n          }),\r\n        ]),\r\n        Shapes.fillText({\r\n          x: box.x + x + 5,\r\n          y: box.y + box.height - 5,\r\n          value: formatPercents(value),\r\n          style: {\r\n            ...styles.valueLabel,\r\n            textAlign: \"left\",\r\n            textBaseline: \"bottom\",\r\n          },\r\n        }),\r\n      ];\r\n    }\r\n\r\n    function paintCdfLine({\r\n      label,\r\n      value,\r\n    }: {\r\n      label: string;\r\n      value: number;\r\n    }): ShapeList {\r\n      const index = dist.scale(value);\r\n      if (index < rIndex.min || index > rIndex.max) {\r\n        return [];\r\n      }\r\n      const y = Math.round(rCdf.normalize(dist.cdf(index)) * box.height);\r\n      return [\r\n        Shapes.fill(styles.threshold, [\r\n          Shapes.rect({\r\n            x: box.x - 10,\r\n            y: box.y + box.height - y,\r\n            width: box.width + 20,\r\n            height: 1,\r\n          }),\r\n        ]),\r\n        Shapes.fillText({\r\n          x: box.x + box.width - 5,\r\n          y: box.y + box.height - y - 5,\r\n          value: formatPercents(dist.cdf(index)),\r\n          style: {\r\n            ...styles.thresholdLabel,\r\n            textAlign: \"right\",\r\n            textBaseline: \"bottom\",\r\n          },\r\n        }),\r\n      ];\r\n    }\r\n  };\r\n}\r\n","export function smooth(data: readonly number[], wnd: number): number[] {\n  const result = [...data];\n  for (let i = 0; i < data.length; i++) {\n    const a = Math.max(0, i - wnd);\n    const b = Math.min(data.length, i + wnd + 1);\n    let sum = 0;\n    for (let j = a; j < b; j++) {\n      sum += data[j];\n    }\n    result[i] = sum / (b - a);\n  }\n  return result;\n}\n\nexport function bucketize(data: readonly number[], buckets: number): number[] {\n  const result = [...data];\n  const bucketSize = data.length / buckets;\n  for (let i = 0; i < buckets; i++) {\n    const a = Math.floor(i * bucketSize);\n    const b = Math.floor((i + 1) * bucketSize);\n    let sum = 0;\n    for (let j = a; j < b; j++) {\n      sum += data[j];\n    }\n    for (let j = a; j < b; j++) {\n      result[j] = sum / (b - a);\n    }\n  }\n  return result;\n}\n","import { Distribution } from \"@mkboard/math\";\r\nimport accuracy from \"./dist_accuracy.json\" with { type: \"json\" };\r\nimport speed from \"./dist_speed.json\" with { type: \"json\" };\r\nimport { bucketize, smooth } from \"./util.ts\";\r\n\r\nexport function makeSpeedDistribution(): Distribution {\r\n  return new Distribution(\r\n    bucketize(smooth(smooth(smooth(speed, 5), 5), 5), 150),\r\n  );\r\n}\r\n\r\nexport function makeAccuracyDistribution(): Distribution {\r\n  return new Distribution(smooth(smooth(smooth(accuracy, 5), 5), 5));\r\n}\r\n","import { type Model, type Range, type Vector } from \"@mkboard/math\";\r\nimport {\r\n  type Graphics,\r\n  type GraphicsStyle,\r\n  type Rect,\r\n  type ShapeList,\r\n  Shapes,\r\n} from \"@mkboard/widget\";\r\nimport { vBoxes } from \"./geometry.ts\";\r\n\r\nexport type Projection = {\r\n  readonly box: Rect;\r\n  readonly xmin: number;\r\n  readonly xmax: number;\r\n  readonly ymin: number;\r\n  readonly ymax: number;\r\n  readonly x: (v: number) => number;\r\n  readonly y: (v: number) => number;\r\n};\r\n\r\nexport function projection(box: Rect, xr: Range, yr: Range): Projection {\r\n  const { x, y, width, height } = box;\r\n  const xmin = xr.min;\r\n  const xmax = xr.max;\r\n  const ymin = yr.min;\r\n  const ymax = yr.max;\r\n  const dx = xmax - xmin;\r\n  const dy = ymax - ymin;\r\n  return {\r\n    box,\r\n    xmin,\r\n    xmax,\r\n    ymin,\r\n    ymax,\r\n    x: (v: number): number => x + ((v - xmin) / dx) * width,\r\n    y: (v: number): number => y + (height - ((v - ymin) / dy) * height),\r\n  };\r\n}\r\n\r\nexport function paintScatterPlot(\r\n  proj: Projection,\r\n  dx: Vector,\r\n  dy: Vector,\r\n  {\r\n    style,\r\n  }: {\r\n    readonly style: GraphicsStyle;\r\n  },\r\n): ShapeList {\r\n  return (g: Graphics): void => {\r\n    g.withStyle(style, () => {\r\n      const r = Math.round(\r\n        Math.min(Math.max(proj.box.width / dx.length, 2), 6),\r\n      );\r\n      for (let i = 0; i < dx.length; i++) {\r\n        g.fillCircle(proj.x(dx.at(i)), proj.y(dy.at(i)), r);\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport function paintCurve(\r\n  proj: Projection,\r\n  model: Model,\r\n  {\r\n    style,\r\n  }: {\r\n    readonly style: GraphicsStyle;\r\n  },\r\n): ShapeList {\r\n  return (g: Graphics): void => {\r\n    g.withStyle(style, () => {\r\n      const d = proj.box.width / 20;\r\n      const s = (proj.xmax - proj.xmin) / d;\r\n      for (let i = 0; i < d; i++) {\r\n        const a = proj.xmin + i * s;\r\n        const b = proj.xmin + (i + 1) * s;\r\n        g.strokeLine(\r\n          proj.x(a),\r\n          proj.y(model.eval(a)),\r\n          proj.x(b),\r\n          proj.y(model.eval(b)),\r\n        );\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport function paintHistogram(\r\n  box: Rect,\r\n  data: Vector,\r\n  range: Range,\r\n  {\r\n    margin = 5,\r\n    style,\r\n  }: {\r\n    readonly margin?: number;\r\n    readonly style: GraphicsStyle;\r\n  },\r\n): ShapeList {\r\n  const { min, max } = range;\r\n  return Shapes.fill(\r\n    style,\r\n    vBoxes(box, [...data], { margin }).map(({ value, rect }) => {\r\n      if (value > 0) {\r\n        const width = rect.width;\r\n        const height = Math.round(((value - min) / (max - min)) * box.height);\r\n        const x = rect.x;\r\n        const y = Math.round(box.y + box.height - height);\r\n        return Shapes.rect({ x, y, width, height });\r\n      } else {\r\n        return null;\r\n      }\r\n    }),\r\n  );\r\n}\r\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { type LearningRate, type LessonKey, Target } from \"@mkboard/lesson\";\r\nimport { useFormatter } from \"@mkboard/lesson-ui\";\r\nimport { Range } from \"@mkboard/math\";\r\nimport { useSettings } from \"@mkboard/settings\";\r\nimport { Canvas, type Rect, type ShapeList, Shapes } from \"@mkboard/widget\";\r\nimport { type ReactNode } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport { Chart, chartArea, type SizeProps } from \"./Chart.tsx\";\r\nimport { withStyles } from \"./decoration.ts\";\r\nimport { paintCurve, paintScatterPlot, projection } from \"./graph.ts\";\r\nimport { type ChartStyles, useChartStyles } from \"./use-chart-styles.ts\";\r\n\r\nexport function KeyDetailsChart({\r\n  lessonKey,\r\n  learningRate,\r\n  width,\r\n  height,\r\n}: {\r\n  readonly lessonKey: LessonKey;\r\n  readonly learningRate: LearningRate | null;\r\n} & SizeProps): ReactNode {\r\n  const styles = useChartStyles();\r\n  const paint = usePaint(styles, lessonKey, learningRate);\r\n  return (\r\n    <Chart width={width} height={height}>\r\n      <Canvas paint={chartArea(styles, paint)} />\r\n    </Chart>\r\n  );\r\n}\r\n\r\nfunction usePaint(\r\n  styles: ChartStyles,\r\n  lessonKey: LessonKey,\r\n  learningRate: LearningRate | null,\r\n) {\r\n  const { formatMessage } = useIntl();\r\n  const { formatInteger } = useIntlNumbers();\r\n  const { formatSpeed } = useFormatter();\r\n  const { settings } = useSettings();\r\n  const target = new Target(settings);\r\n  const g = withStyles(styles);\r\n\r\n  if (learningRate == null) {\r\n    return (box: Rect): ShapeList => {\r\n      return [\r\n        g.paintGrid(box, \"horizontal\", { lines: 5 }),\r\n        g.paintGrid(box, \"vertical\", { lines: 5 }),\r\n        g.paintAxis(box, \"bottom\"),\r\n        g.paintAxis(box, \"left\"),\r\n        g.paintNoData(box, formatMessage),\r\n      ];\r\n    };\r\n  }\r\n\r\n  const { vIndex, vSpeed, mSpeed } = learningRate;\r\n\r\n  const rIndex = Range.from(vIndex);\r\n  const rSpeed = Range.from(vSpeed);\r\n  rSpeed.min = target.targetSpeed;\r\n  rSpeed.max = target.targetSpeed;\r\n  rSpeed.round(5);\r\n\r\n  let now = 0;\r\n  if ((lessonKey.bestConfidence ?? 0) < 1) {\r\n    now = rIndex.max;\r\n    rIndex.max = now + 10;\r\n  }\r\n\r\n  return (box: Rect): ShapeList => {\r\n    const proj = projection(box, rIndex, rSpeed);\r\n    return [\r\n      g.paintGrid(box, \"horizontal\", { lines: 5 }),\r\n      g.paintGrid(box, \"vertical\", { lines: 5 }),\r\n      g.paintAxis(box, \"bottom\"),\r\n      g.paintAxis(box, \"left\"),\r\n      now > 0 && paintThresholdLine({ label: \"Now\", value: now }),\r\n      paintScatterPlot(proj, vIndex, vSpeed, {\r\n        style: styles.speed,\r\n      }),\r\n      paintCurve(proj, mSpeed, {\r\n        style: {\r\n          ...styles.speed,\r\n          lineWidth: 2,\r\n        },\r\n      }),\r\n      paintTargetSpeedLine(),\r\n      g.paintTicks(box, rIndex, \"bottom\", { lines: 5, fmt: formatInteger }),\r\n      g.paintTicks(box, rSpeed, \"left\", { fmt: formatSpeed }),\r\n    ];\r\n\r\n    function paintTargetSpeedLine(): ShapeList {\r\n      const y = Math.round(proj.y(target.targetSpeed));\r\n      return [\r\n        Shapes.fill(styles.threshold, [\r\n          Shapes.rect({\r\n            x: box.x - 10,\r\n            y: y,\r\n            width: box.width + 20,\r\n            height: 1,\r\n          }),\r\n        ]),\r\n        Shapes.fillText({\r\n          x: box.x + box.width + 15,\r\n          y: y,\r\n          value: formatSpeed(target.targetSpeed),\r\n          style: {\r\n            ...styles.thresholdLabel,\r\n            textAlign: \"left\",\r\n            textBaseline: \"middle\",\r\n          },\r\n        }),\r\n      ];\r\n    }\r\n\r\n    function paintThresholdLine({\r\n      label,\r\n      value,\r\n    }: {\r\n      label: string;\r\n      value: number;\r\n    }): ShapeList {\r\n      const x = proj.x(value);\r\n      return [\r\n        Shapes.fill(styles.threshold, [\r\n          Shapes.rect({\r\n            x: Math.round(x),\r\n            y: box.y - 10,\r\n            width: 1,\r\n            height: box.height + 20,\r\n          }),\r\n        ]),\r\n        Shapes.fillText({\r\n          x: Math.round(x) + 2,\r\n          y: box.y - 1,\r\n          value: label,\r\n          style: {\r\n            ...styles.thresholdLabel,\r\n            textAlign: \"left\",\r\n            textBaseline: \"bottom\",\r\n          },\r\n        }),\r\n      ];\r\n    }\r\n  };\r\n}\r\n","import { useFormatter } from \"@mkboard/lesson-ui\";\r\nimport { Range, Vector } from \"@mkboard/math\";\r\nimport { computeSpeed, type Stats, type Step } from \"@mkboard/textinput\";\r\nimport {\r\n  Canvas,\r\n  formatDuration,\r\n  type Rect,\r\n  type ShapeList,\r\n  Shapes,\r\n} from \"@mkboard/widget\";\r\nimport { type ReactNode } from \"react\";\r\nimport { Chart, chartArea, type SizeProps } from \"./Chart.tsx\";\r\nimport { withStyles } from \"./decoration.ts\";\r\nimport { paintScatterPlot, projection } from \"./graph.ts\";\r\nimport { type ChartStyles, useChartStyles } from \"./use-chart-styles.ts\";\r\n\r\nexport function RollingSpeedChart({\r\n  stats,\r\n  steps,\r\n  width,\r\n  height,\r\n}: {\r\n  readonly stats: Stats;\r\n  readonly steps: readonly Step[];\r\n} & SizeProps): ReactNode {\r\n  const styles = useChartStyles();\r\n  const paint = usePaint(styles, stats, steps);\r\n  return (\r\n    <Chart width={width} height={height}>\r\n      <Canvas paint={chartArea(styles, paint)} />\r\n    </Chart>\r\n  );\r\n}\r\n\r\nfunction usePaint(styles: ChartStyles, stats: Stats, steps: readonly Step[]) {\r\n  const { formatSpeed } = useFormatter();\r\n  const g = withStyles(styles);\r\n\r\n  const vTime = new Vector();\r\n  const vSpeed = new Vector();\r\n  const vBumps = new Vector();\r\n  const head = steps[0];\r\n  for (let index = 1; index < steps.length; index++) {\r\n    const delta = Math.min(10, index);\r\n    const prev = steps[index - delta];\r\n    const curr = steps[index];\r\n    const speed = computeSpeed(delta, curr.timeStamp - prev.timeStamp);\r\n    vTime.add(curr.timeStamp - head.timeStamp);\r\n    vSpeed.add(speed);\r\n    if (curr.typo) {\r\n      vBumps.add(curr.timeStamp - head.timeStamp);\r\n    }\r\n  }\r\n\r\n  const rTime = Range.from(vTime);\r\n  const rSpeed = Range.from(vSpeed);\r\n\r\n  return (box: Rect): ShapeList => {\r\n    const proj = projection(box, rTime, rSpeed);\r\n    return [\r\n      g.paintGrid(box, \"horizontal\", { lines: 5 }),\r\n      g.paintGrid(box, \"vertical\", { lines: 5 }),\r\n      g.paintAxis(box, \"bottom\"),\r\n      g.paintAxis(box, \"left\"),\r\n      paintScatterPlot(proj, vTime, vSpeed, {\r\n        style: styles.speed,\r\n      }),\r\n      pointAverageSpeedLine(),\r\n      paintBumps(),\r\n      g.paintTicks(box, rTime, \"bottom\", {\r\n        lines: 5,\r\n        fmt: (value) => formatDuration(value, { showMillis: true }),\r\n      }),\r\n      g.paintTicks(box, rSpeed, \"left\", { fmt: formatSpeed }),\r\n    ];\r\n\r\n    function pointAverageSpeedLine(): ShapeList {\r\n      const y = Math.round(proj.y(stats.speed));\r\n      return [\r\n        Shapes.fill(styles.threshold, [\r\n          Shapes.rect({\r\n            x: box.x - 10,\r\n            y: y,\r\n            width: box.width + 20,\r\n            height: 1,\r\n          }),\r\n        ]),\r\n        Shapes.fillText({\r\n          x: box.x + box.width + 15,\r\n          y: y,\r\n          value: formatSpeed(stats.speed),\r\n          style: {\r\n            ...styles.thresholdLabel,\r\n            textAlign: \"left\",\r\n            textBaseline: \"middle\",\r\n          },\r\n        }),\r\n      ];\r\n    }\r\n\r\n    function paintBumps(): ShapeList {\r\n      const r = Math.round(\r\n        Math.min(Math.max(proj.box.width / vTime.length, 2), 6),\r\n      );\r\n      return Shapes.fill(\r\n        styles.accuracy,\r\n        [...vBumps].map((time) => {\r\n          const x = Math.round(proj.x(time));\r\n          return [\r\n            Shapes.rect({\r\n              x: x,\r\n              y: box.y,\r\n              width: 1,\r\n              height: box.height,\r\n            }),\r\n            Shapes.circle({\r\n              cx: x,\r\n              cy: box.y + box.height,\r\n              r,\r\n            }),\r\n          ];\r\n        }),\r\n      );\r\n    }\r\n  };\r\n}\r\n","import { useIntlNumbers } from \"@mkboard/intl\";\r\nimport { useFormatter } from \"@mkboard/lesson-ui\";\r\nimport { type Distribution, Range, Vector } from \"@mkboard/math\";\r\nimport { Canvas, type Rect, type ShapeList, Shapes } from \"@mkboard/widget\";\r\nimport { type ReactNode } from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport { Chart, chartArea, type SizeProps } from \"./Chart.tsx\";\r\nimport { withStyles } from \"./decoration.ts\";\r\nimport { type Threshold } from \"./types.ts\";\r\nimport { type ChartStyles, useChartStyles } from \"./use-chart-styles.ts\";\r\n\r\nexport function SpeedHistogram({\r\n  distribution,\r\n  thresholds,\r\n  width,\r\n  height,\r\n}: {\r\n  readonly distribution: Distribution;\r\n  readonly thresholds: readonly Threshold[];\r\n} & SizeProps): ReactNode {\r\n  const styles = useChartStyles();\r\n  const paint = usePaint(styles, distribution, thresholds);\r\n  return (\r\n    <Chart width={width} height={height}>\r\n      <Canvas paint={chartArea(styles, paint)} />\r\n    </Chart>\r\n  );\r\n}\r\n\r\nfunction usePaint(\r\n  styles: ChartStyles,\r\n  dist: Distribution,\r\n  thresholds: readonly Threshold[],\r\n) {\r\n  const { formatMessage } = useIntl();\r\n  const { formatPercents } = useIntlNumbers();\r\n  const { formatSpeed } = useFormatter();\r\n  const g = withStyles(styles);\r\n\r\n  const vIndex = new Vector();\r\n  const vPmf = new Vector();\r\n  const vCdf = new Vector();\r\n  for (const { index, pmf, cdf } of dist) {\r\n    vIndex.add(index);\r\n    vPmf.add(pmf);\r\n    vCdf.add(cdf);\r\n  }\r\n  const rIndex = Range.from(vIndex);\r\n  const rPmf = Range.from(vPmf);\r\n  const rCdf = Range.from(vCdf);\r\n\r\n  return (box: Rect): ShapeList => {\r\n    return [\r\n      g.paintGrid(box, \"horizontal\", { lines: 5 }),\r\n      g.paintGrid(box, \"vertical\", { lines: 5 }),\r\n      g.paintAxis(box, \"bottom\"),\r\n      g.paintAxis(box, \"left\"),\r\n      paintPmfHistogram(),\r\n      paintCdfHistogram(),\r\n      thresholds.length > 0\r\n        ? [thresholds.map(paintPmfLine), thresholds.map(paintCdfLine)]\r\n        : g.paintNoData(box, formatMessage),\r\n      g.paintTicks(box, rIndex, \"bottom\", {\r\n        lines: 5,\r\n        fmt: formatSpeed,\r\n        style: styles.valueLabel,\r\n      }),\r\n      g.paintTicks(box, rCdf, \"right\", {\r\n        lines: 5,\r\n        fmt: formatPercents,\r\n        style: styles.thresholdLabel,\r\n      }),\r\n    ];\r\n\r\n    function paintPmfHistogram(): ShapeList {\r\n      return Shapes.fill(\r\n        styles.speed,\r\n        [...rIndex.steps()].map((index) => {\r\n          const w = Math.ceil(box.width / rIndex.span);\r\n          const x = Math.round(rIndex.normalize(index, 1) * box.width);\r\n          const y = Math.round(rPmf.normalize(vPmf.at(index)) * box.height);\r\n          return Shapes.rect({\r\n            x: box.x + x,\r\n            y: box.y + box.height - y,\r\n            width: w,\r\n            height: y,\r\n          });\r\n        }),\r\n      );\r\n    }\r\n\r\n    function paintCdfHistogram(): ShapeList {\r\n      return Shapes.fill(\r\n        styles.threshold,\r\n        [...rIndex.steps()].map((index) => {\r\n          const w = Math.ceil(box.width / rIndex.span);\r\n          const x = Math.round(rIndex.normalize(index, 1) * box.width);\r\n          const y = Math.round(rCdf.normalize(vCdf.at(index)) * box.height);\r\n          return Shapes.rect({\r\n            x: box.x + x,\r\n            y: box.y + box.height - y - 1,\r\n            width: w,\r\n            height: 1,\r\n          });\r\n        }),\r\n      );\r\n    }\r\n\r\n    function paintPmfLine({\r\n      label,\r\n      value,\r\n    }: {\r\n      label: string;\r\n      value: number;\r\n    }): ShapeList {\r\n      if (value < rIndex.min || value > rIndex.max) {\r\n        return [];\r\n      }\r\n      const x = Math.round(rIndex.normalize(value) * box.width);\r\n      return [\r\n        Shapes.fill(styles.value, [\r\n          Shapes.rect({\r\n            x: box.x + x,\r\n            y: box.y - 10,\r\n            width: 1,\r\n            height: box.height + 20,\r\n          }),\r\n        ]),\r\n        Shapes.fillText({\r\n          x: box.x + x + 5,\r\n          y: box.y + box.height - 5,\r\n          value: formatSpeed(value),\r\n          style: {\r\n            ...styles.valueLabel,\r\n            textAlign: \"left\",\r\n            textBaseline: \"bottom\",\r\n          },\r\n        }),\r\n      ];\r\n    }\r\n\r\n    function paintCdfLine({\r\n      label,\r\n      value,\r\n    }: {\r\n      label: string;\r\n      value: number;\r\n    }): ShapeList {\r\n      if (value < rIndex.min || value > rIndex.max) {\r\n        return [];\r\n      }\r\n      const y = Math.round(rCdf.normalize(dist.cdf(value)) * box.height);\r\n      return [\r\n        Shapes.fill(styles.threshold, [\r\n          Shapes.rect({\r\n            x: box.x - 10,\r\n            y: box.y + box.height - y,\r\n            width: box.width + 20,\r\n            height: 1,\r\n          }),\r\n        ]),\r\n        Shapes.fillText({\r\n          x: box.x + box.width - 5,\r\n          y: box.y + box.height - y - 5,\r\n          value: formatPercents(dist.cdf(value)),\r\n          style: {\r\n            ...styles.thresholdLabel,\r\n            textAlign: \"right\",\r\n            textBaseline: \"bottom\",\r\n          },\r\n        }),\r\n      ];\r\n    }\r\n  };\r\n}\r\n","import { useFormatter } from \"@mkboard/lesson-ui\";\r\nimport { Range, Vector } from \"@mkboard/math\";\r\nimport { timeToSpeed } from \"@mkboard/result\";\r\nimport { type Step } from \"@mkboard/textinput\";\r\nimport { Canvas, type Rect, type ShapeList, Shapes } from \"@mkboard/widget\";\r\nimport { type ReactNode } from \"react\";\r\nimport { Chart, chartArea, type SizeProps } from \"./Chart.tsx\";\r\nimport { withStyles } from \"./decoration.ts\";\r\nimport { bucketize } from \"./dist/util.ts\";\r\nimport { type ChartStyles, useChartStyles } from \"./use-chart-styles.ts\";\r\n\r\nexport function TimeToTypeHistogram({\r\n  steps,\r\n  width,\r\n  height,\r\n}: {\r\n  readonly steps: readonly Step[];\r\n} & SizeProps): ReactNode {\r\n  const styles = useChartStyles();\r\n  const paint = usePaint(styles, steps);\r\n  return (\r\n    <Chart width={width} height={height}>\r\n      <Canvas paint={chartArea(styles, paint)} />\r\n    </Chart>\r\n  );\r\n}\r\n\r\nfunction usePaint(styles: ChartStyles, steps: readonly Step[]) {\r\n  const { formatSpeed } = useFormatter();\r\n  const g = withStyles(styles);\r\n\r\n  const histogram = buildHistogram(steps);\r\n\r\n  const vIndex = new Vector();\r\n  const vValue = new Vector();\r\n  for (let index = 0; index < histogram.length; index++) {\r\n    vIndex.add(index);\r\n    vValue.add(histogram[index]);\r\n  }\r\n  const rIndex = Range.from(vIndex);\r\n  const rValue = Range.from(vValue);\r\n\r\n  return (box: Rect): ShapeList => {\r\n    return [\r\n      g.paintGrid(box, \"horizontal\", { lines: 5 }),\r\n      g.paintGrid(box, \"vertical\", { lines: 5 }),\r\n      g.paintAxis(box, \"bottom\"),\r\n      g.paintAxis(box, \"left\"),\r\n      paintHistogram(),\r\n      g.paintTicks(box, rIndex, \"bottom\", {\r\n        lines: 5,\r\n        fmt: formatSpeed,\r\n        style: styles.valueLabel,\r\n      }),\r\n    ];\r\n\r\n    function paintHistogram(): ShapeList {\r\n      return Shapes.fill(\r\n        styles.speed,\r\n        [...rIndex.steps()].map((index) => {\r\n          const w = Math.ceil(box.width / rIndex.span);\r\n          const x = Math.round(rIndex.normalize(index, 1) * box.width);\r\n          const y = Math.round(rValue.normalize(vValue.at(index)) * box.height);\r\n          return Shapes.rect({\r\n            x: box.x + x,\r\n            y: box.y + box.height - y,\r\n            width: w,\r\n            height: y,\r\n          });\r\n        }),\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nfunction buildHistogram(steps: readonly Step[]) {\r\n  const histogram = new Array(1501).fill(0);\r\n  for (const { timeToType } of steps) {\r\n    if (timeToType > 0) {\r\n      const index = Math.round(timeToSpeed(timeToType));\r\n      if (index >= 0 && index < histogram.length) {\r\n        histogram[index] += 1;\r\n      }\r\n    }\r\n  }\r\n  return bucketize(histogram, 15);\r\n}\r\n","import {\n  styleSizeFill,\n  styleSizeFillAlt,\n  styleSizeFit,\n} from \"../../styles/size.ts\";\nimport * as boxStyles from \"./Box.module.less\";\nimport {\n  type BoxAlignContent,\n  type BoxAlignItems,\n  type BoxDirection,\n  type BoxJustifyContent,\n  type BoxProps,\n  type BoxWrap,\n} from \"./Box.types.ts\";\nimport * as boxItemStyles from \"./BoxItem.module.less\";\nimport {\n  type BoxItemGrow,\n  type BoxItemOrder,\n  type BoxItemProps,\n  type BoxItemSize,\n  type BoxSelfAlign,\n} from \"./BoxItem.types.ts\";\n\nconst directionMapping: { readonly [key in BoxDirection]: string } = {\n  row: boxStyles.hFlex,\n  column: boxStyles.vFlex,\n};\nconst wrapMapping: { readonly [key in BoxWrap]: string } = {\n  \"wrap\": boxStyles.flexWrap,\n  \"wrap-reverse\": boxStyles.flexWrapReverse,\n  \"nowrap\": boxStyles.flexNoWrap,\n};\nconst justifyContentMapping: { readonly [key in BoxJustifyContent]: string } = {\n  \"start\": boxStyles.justifyContentStart,\n  \"end\": boxStyles.justifyContentEnd,\n  \"center\": boxStyles.justifyContentCenter,\n  \"space-between\": boxStyles.justifyContentSpaceBetween,\n  \"space-around\": boxStyles.justifyContentSpaceAround,\n};\nconst alignItemsMapping: { readonly [key in BoxAlignItems]: string } = {\n  start: boxStyles.alignItemsStart,\n  end: boxStyles.alignItemsEnd,\n  center: boxStyles.alignItemsCenter,\n  baseline: boxStyles.alignItemsBaseline,\n  stretch: boxStyles.alignItemsStretch,\n};\nconst alignContentMapping: { readonly [key in BoxAlignContent]: string } = {\n  \"start\": boxStyles.alignContentStart,\n  \"end\": boxStyles.alignContentEnd,\n  \"center\": boxStyles.alignContentCenter,\n  \"space-between\": boxStyles.alignContentSpaceBetween,\n  \"space-around\": boxStyles.alignContentSpaceAround,\n  \"stretch\": boxStyles.alignContentStretch,\n};\nconst selfAlignMapping: { readonly [key in BoxSelfAlign]: string } = {\n  start: boxItemStyles.selfAlignStart,\n  end: boxItemStyles.selfAlignEnd,\n  center: boxItemStyles.selfAlignCenter,\n  baseline: boxItemStyles.selfAlignBaseline,\n  stretch: boxItemStyles.selfAlignStretch,\n};\nconst itemSizeMapping: { readonly [key in BoxItemSize]: string } = {\n  fit: styleSizeFit,\n  fill: styleSizeFill,\n  fillAlt: styleSizeFillAlt,\n};\nconst itemGrowMapping: { readonly [key in BoxItemGrow]: string } = {\n  1: boxItemStyles.flexGrow1,\n  2: boxItemStyles.flexGrow2,\n  3: boxItemStyles.flexGrow3,\n  4: boxItemStyles.flexGrow4,\n  5: boxItemStyles.flexGrow5,\n};\nconst itemOrderMapping: { readonly [key in BoxItemOrder]: string } = {\n  first: boxItemStyles.flexOrderFirst,\n  last: boxItemStyles.flexOrderLast,\n  none: boxItemStyles.flexOrderNone,\n};\n\nexport function getBoxClassNames({\n  direction,\n  wrap,\n  justifyContent,\n  alignItems,\n  alignContent,\n}: BoxProps): string[] {\n  const classNames: string[] = [directionMapping[direction ?? \"row\"]];\n  if (wrap != null) {\n    classNames.push(wrapMapping[wrap]);\n  }\n  if (justifyContent != null) {\n    classNames.push(justifyContentMapping[justifyContent]);\n  }\n  if (alignItems != null) {\n    classNames.push(alignItemsMapping[alignItems]);\n  }\n  if (alignContent != null) {\n    classNames.push(alignContentMapping[alignContent]);\n  }\n  return classNames;\n}\n\nexport function getBoxItemClassNames({\n  size,\n  grow,\n  order,\n  selfAlign,\n}: BoxItemProps): string[] {\n  const classNames: string[] = [];\n  if (size != null) {\n    classNames.push(itemSizeMapping[size]);\n  }\n  if (grow != null) {\n    classNames.push(itemGrowMapping[grow]);\n  }\n  if (order != null) {\n    classNames.push(itemOrderMapping[order]);\n  }\n  if (selfAlign != null) {\n    classNames.push(selfAlignMapping[selfAlign]);\n  }\n  return classNames;\n}\n","// extracted by mini-css-extract-plugin\nvar _1 = \"ttFtvCjuRK\";\nvar _2 = \"mGz0zWOvH9\";\nvar _3 = \"dIYuLtFI4t\";\nvar _4 = \"X6fm8naxd5\";\nvar _5 = \"uQHebDq7Q7\";\nvar _6 = \"Hdg8rO72Q3\";\nvar _7 = \"p316_z95G_\";\nvar _8 = \"mBn_3Ok0Wi\";\nvar _9 = \"Xvgv87nQZ5\";\nvar _a = \"Ykd8gJmkyq\";\nvar _b = \"gLYRSjiVHF\";\nvar _c = \"EaqZ32UeSu\";\nvar _d = \"t17jgjNc3_\";\nvar _e = \"tSWQOh0zUN\";\nvar _f = \"jIpTpwIDX_\";\nvar _10 = \"kiJ2aS8yxz\";\nvar _11 = \"zaP4eTs4pD\";\nvar _12 = \"sGnXOUQvps\";\nvar _13 = \"s4Ef_9cWKn\";\nvar _14 = \"SkB0lQbxS2\";\nvar _15 = \"frPmRvM8w8\";\nvar _16 = \"wUc7pBlbvj\";\nvar _17 = \"nrMTs8kaW4\";\nexport { _1 as \"alignContentCenter\", _2 as \"alignContentEnd\", _3 as \"alignContentSpaceAround\", _4 as \"alignContentSpaceBetween\", _5 as \"alignContentStart\", _6 as \"alignContentStretch\", _7 as \"alignItemsBaseline\", _8 as \"alignItemsCenter\", _9 as \"alignItemsEnd\", _a as \"alignItemsStart\", _b as \"alignItemsStretch\", _c as \"flexNoWrap\", _d as \"flexWrap\", _e as \"flexWrapReverse\", _f as \"hFlex\", _10 as \"inlineHFlex\", _11 as \"inlineVFlex\", _12 as \"justifyContentCenter\", _13 as \"justifyContentEnd\", _14 as \"justifyContentSpaceAround\", _15 as \"justifyContentSpaceBetween\", _16 as \"justifyContentStart\", _17 as \"vFlex\" }\n","import \"./Box.module.less\";\nimport { clsx } from \"clsx\";\nimport { type ReactNode } from \"react\";\nimport { type BoxProps, type HBoxProps, type VBoxProps } from \"./Box.types.ts\";\nimport { getBoxClassNames } from \"./classNames.ts\";\n\nexport function Box(props: BoxProps): ReactNode {\n  const { as: Component = \"div\", className, id, title, children } = props;\n  return (\n    <Component\n      id={id}\n      className={clsx(getBoxClassNames(props), className)}\n      title={title}\n    >\n      {children}\n    </Component>\n  );\n}\n\nexport function HBox({ ...props }: HBoxProps): ReactNode {\n  return (\n    <Box direction=\"row\" {...props}>\n      {props.children}\n    </Box>\n  );\n}\n\nexport function VBox({ ...props }: VBoxProps): ReactNode {\n  return (\n    <Box direction=\"column\" {...props}>\n      {props.children}\n    </Box>\n  );\n}\n","import { type ModifierId } from \"./types.ts\";\n\nconst all = [\n  \"CapsLock\",\n  \"NumLock\",\n  \"Control\",\n  \"Shift\",\n  \"Alt\",\n  \"AltGraph\",\n  \"Meta\",\n] satisfies ModifierId[];\n\nlet initialized = false;\nlet modifiers: readonly ModifierId[] = [];\n\n/**\n * A static global object which tracks the state of the modifier keys,\n * such as `CapsLock`, `NumLock`, etc.\n */\nexport class ModifierState {\n  static get modifiers(): readonly ModifierId[] {\n    return modifiers;\n  }\n\n  static get capsLock(): boolean {\n    return modifiers.includes(\"CapsLock\");\n  }\n\n  static get numLock(): boolean {\n    return modifiers.includes(\"NumLock\");\n  }\n\n  static initialize() {\n    if (!initialized) {\n      // ModifierState must receive keyboard events before any other event listener.\n      window.addEventListener(\"keydown\", (event) => {\n        modifiers = getModifiers(event);\n      });\n      window.addEventListener(\"keyup\", (event) => {\n        modifiers = getModifiers(event);\n      });\n      initialized = true;\n    }\n  }\n}\n\nexport function getModifiers(event: KeyboardEvent): ModifierId[] {\n  return all.filter((id) => event.getModifierState(id));\n}\n\nexport function isTextInput(modifiers: readonly ModifierId[]): boolean {\n  return !(\n    modifiers.includes(\"Control\") ||\n    modifiers.includes(\"Alt\") ||\n    modifiers.includes(\"Meta\")\n  );\n}\n","import { type IInputEvent, type IKeyboardEvent } from \"./types.ts\";\n\n/**\n * Measures the time taken to type a character.\n * Takes into account the number of modifier keys pressed\n * between the text input events.\n *\n * Some characters are harder to type than others because they require\n * modifier keys.\n *\n * The simplest case is when we press a character key directly.\n * The following example requires only one key press:\n *\n * ```\n *  1. keydown KeyA\n *  2. keyup   KeyA\n * ```\n *\n * A more complicated case is when press several modifier keys\n * along with a character key.\n * The following example requires three key presses:\n *\n * ```\n *  1. keydown Shift\n *  2. keydown AltGraph\n *  3. keydown KeyA\n *  4. keyup   KeyA\n *  5. keyup   Shift\n *  6. keyup   AltGraph\n * ```\n *\n * Or even mode complicated case when we press a combination of\n * modifiers with a dead key followed by modifiers with a character key:\n * Six keys must be pressed in the following example to input a character:\n *\n * ```\n *  1. keydown Shift\n *  2. keydown AltGraph\n *  3. keydown Dead\n *  4. keyup   Dead\n *  5. keyup   Shift\n *  6. keyup   AltGraph\n *  7. keydown Shift\n *  8. keydown AltGraph\n *  9. keydown KeyA\n * 10. keyup   KeyA\n * 11. keyup   Shift\n * 12. keyup   AltGraph\n * ```\n */\nexport class TimeToType {\n  #down = new Map<string, IKeyboardEvent>();\n  #timeStamp = 0;\n\n  add(event: IKeyboardEvent): void {\n    const { type, code, key } = event;\n    if (code && key) {\n      if (type === \"keydown\") {\n        if (\n          key === \"Shift\" ||\n          key === \"Alt\" ||\n          key === \"AltGraph\" ||\n          key === \"Dead\"\n        ) {\n          this.#down.set(code, event);\n        }\n      }\n      if (type === \"keyup\") {\n        const down = this.#down.get(code);\n        if (down != null && down.key === \"Dead\") {\n          this.#timeStamp = down.timeStamp;\n        }\n        this.#down.delete(code);\n      }\n    }\n  }\n\n  measure({ timeStamp }: Pick<IInputEvent, \"timeStamp\">): number {\n    const size = this.#down.size;\n    this.#down.clear();\n    const duration = timeStamp - this.#timeStamp;\n    this.#timeStamp = timeStamp;\n    return duration / (size + 1);\n  }\n}\n","import {\r\n  Emulation,\r\n  type Keyboard,\r\n  keyboardProps,\r\n  KeyModifier,\r\n} from \"@mkboard/keyboard\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { type CodePoint } from \"@mkboard/unicode\";\r\nimport { isTextInput } from \"./modifiers.ts\";\r\nimport { TimeToType } from \"./timetotype.ts\";\r\nimport {\r\n  type IKeyboardEvent,\r\n  type InputListener,\r\n  type ModifierId,\r\n} from \"./types.ts\";\r\n\r\nexport function emulateLayout(\r\n  settings: Settings,\r\n  keyboard: Keyboard,\r\n  target: InputListener,\r\n): InputListener {\r\n  if (keyboard.layout.emulate) {\r\n    switch (settings.get(keyboardProps.emulation)) {\r\n      case Emulation.Forward:\r\n        return forwardEmulation(keyboard, target);\r\n      case Emulation.Reverse:\r\n        return reverseEmulation(keyboard, target);\r\n    }\r\n  }\r\n  return target;\r\n}\r\n\r\n/**\r\n * Expects the `code` property to be correct, changes the `key` property.\r\n *\r\n * We ignore the character codes reported by the OS and use our own layout\r\n * tables to translate a physical key location to a character code.\r\n *\r\n * It is a convenience option that allows users not to care about the OS\r\n * settings.\r\n */\r\nfunction forwardEmulation(\r\n  keyboard: Keyboard,\r\n  target: InputListener,\r\n): InputListener {\r\n  const timeToType = new TimeToType();\r\n  return {\r\n    onKeyDown: (event) => {\r\n      timeToType.add(event);\r\n      const [mapped, codePoint] = fixKey(keyboard, event);\r\n      target.onKeyDown(mapped);\r\n      if (isTextInput(event.modifiers) && codePoint > 0x0000) {\r\n        target.onInput({\r\n          type: \"input\",\r\n          timeStamp: mapped.timeStamp,\r\n          inputType: \"appendChar\",\r\n          codePoint,\r\n          timeToType: timeToType.measure(event),\r\n        });\r\n      }\r\n    },\r\n    onKeyUp: (event) => {\r\n      timeToType.add(event);\r\n      const [mapped, codePoint] = fixKey(keyboard, event);\r\n      target.onKeyUp(mapped);\r\n    },\r\n    onInput: (event) => {\r\n      switch (event.inputType) {\r\n        case \"appendLineBreak\":\r\n        case \"clearChar\":\r\n        case \"clearWord\":\r\n          target.onInput(event);\r\n          break;\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Expects the `key` property to be correct, changes the `code` property.\r\n *\r\n * Keyboard layout switching is done in hardware. It changes physical key\r\n * locations to the QWERTY equivalents. So if the A key is pressed in a custom\r\n * keyboard layout, the hardware will send the physical key location of the A\r\n * letter in the QWERTY layout.\r\n *\r\n * We use a layout table and a character code as reported by the OS to fix\r\n * the physical key location.\r\n */\r\nfunction reverseEmulation(\r\n  keyboard: Keyboard,\r\n  target: InputListener,\r\n): InputListener {\r\n  return {\r\n    onKeyDown: (event) => {\r\n      target.onKeyDown(fixCode(keyboard, event));\r\n    },\r\n    onKeyUp: (event) => {\r\n      target.onKeyUp(fixCode(keyboard, event));\r\n    },\r\n    onInput: (event) => {\r\n      target.onInput(event);\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Changes the character code using a physical key location.\r\n */\r\nfunction fixKey(\r\n  keyboard: Keyboard,\r\n  { type, timeStamp, code, key, modifiers }: IKeyboardEvent,\r\n): [IKeyboardEvent, CodePoint] {\r\n  let codePoint = 0x0000;\r\n  const characters = keyboard.getCharacters(code);\r\n  if (characters != null) {\r\n    key = String.fromCodePoint(\r\n      (codePoint = characters.getCodePoint(toKeyModifier(modifiers)) ?? 0x0000),\r\n    );\r\n  }\r\n  return [{ type, timeStamp, code, key, modifiers }, codePoint];\r\n}\r\n\r\n/**\r\n * Changes the physical key location using a character code.\r\n */\r\nfunction fixCode(\r\n  keyboard: Keyboard,\r\n  { type, timeStamp, code, key, modifiers }: IKeyboardEvent,\r\n): IKeyboardEvent {\r\n  if (key.length === 1) {\r\n    const combo = keyboard.getCombo(key.codePointAt(0) ?? 0x0000);\r\n    if (combo != null) {\r\n      code = combo.id;\r\n    }\r\n  }\r\n  return { type, timeStamp, code, key, modifiers };\r\n}\r\n\r\nfunction toKeyModifier(modifiers: readonly ModifierId[]): KeyModifier {\r\n  return KeyModifier.from(\r\n    modifiers.includes(\"Shift\"),\r\n    modifiers.includes(\"AltGraph\"),\r\n  );\r\n}\r\n","import { getModifiers } from \"./modifiers.ts\";\nimport { type IKeyboardEvent } from \"./types.ts\";\n\nexport function mapEvent(event: KeyboardEvent): IKeyboardEvent {\n  if (event.type === \"keydown\" || event.type === \"keyup\") {\n    return {\n      type: event.type,\n      timeStamp: timeStampOf(event),\n      code: event.code,\n      key: event.key,\n      modifiers: getModifiers(event),\n    };\n  } else {\n    throw new TypeError();\n  }\n}\n\nexport function timeStampOf({ timeStamp }: Event): number {\n  return timeStamp || performance.now();\n}\n","import { type Focusable } from \"@mkboard/widget\";\r\nimport { mapEvent, timeStampOf } from \"./events.ts\";\r\nimport { isTextInput, ModifierState } from \"./modifiers.ts\";\r\nimport { TimeToType } from \"./timetotype.ts\";\r\nimport { type InputListener } from \"./types.ts\";\r\n\r\n// https://w3c.github.io/uievents/\r\n// https://www.w3.org/TR/input-events-1/\r\n// https://www.w3.org/TR/input-events-2/\r\n// https://domeventviewer.com/key-event-viewer.html\r\n\r\nexport type Callbacks = {\r\n  readonly onFocus?: () => void;\r\n  readonly onBlur?: () => void;\r\n} & Partial<InputListener>;\r\n\r\nexport class InputHandler implements Focusable {\r\n  readonly #timeToType = new TimeToType();\r\n  #callbacks: Callbacks = {};\r\n  #input: HTMLTextAreaElement | null = null;\r\n\r\n  setCallbacks(callbacks: Callbacks) {\r\n    this.#callbacks = callbacks;\r\n  }\r\n\r\n  setInput(input: HTMLTextAreaElement | null) {\r\n    if (input != null) {\r\n      this.#input = input;\r\n      this.#attachInput();\r\n    } else {\r\n      this.#detachInput();\r\n      this.#input = null;\r\n    }\r\n  }\r\n\r\n  focus() {\r\n    this.#input?.focus();\r\n  }\r\n\r\n  blur() {\r\n    this.#input?.blur();\r\n  }\r\n\r\n  #attachInput() {\r\n    ModifierState.initialize();\r\n    const input = this.#input;\r\n    if (input != null) {\r\n      input.addEventListener(\"focus\", this.handleFocus);\r\n      input.addEventListener(\"blur\", this.handleBlur);\r\n      input.addEventListener(\"keydown\", this.handleKeyboard);\r\n      input.addEventListener(\"keyup\", this.handleKeyboard);\r\n      input.addEventListener(\"input\", this.handleInput as any);\r\n      input.addEventListener(\"compositionstart\", this.handleComposition);\r\n      input.addEventListener(\"compositionupdate\", this.handleComposition);\r\n      input.addEventListener(\"compositionend\", this.handleComposition);\r\n    }\r\n    this.focus();\r\n    this.#clearInput();\r\n  }\r\n\r\n  #detachInput() {\r\n    const input = this.#input;\r\n    if (input != null) {\r\n      input.removeEventListener(\"focus\", this.handleFocus);\r\n      input.removeEventListener(\"blur\", this.handleBlur);\r\n      input.removeEventListener(\"keydown\", this.handleKeyboard);\r\n      input.removeEventListener(\"keyup\", this.handleKeyboard);\r\n      input.removeEventListener(\"input\", this.handleInput as any);\r\n      input.removeEventListener(\"compositionstart\", this.handleComposition);\r\n      input.removeEventListener(\"compositionupdate\", this.handleComposition);\r\n      input.removeEventListener(\"compositionend\", this.handleComposition);\r\n    }\r\n  }\r\n\r\n  #clearInput() {\r\n    const input = this.#input;\r\n    if (input != null) {\r\n      // Keep the input value non-empty, otherwise Safari will not generate\r\n      // events `deleteContentBackward` and `deleteWordBackward`.\r\n      input.value = \"?\";\r\n    }\r\n  }\r\n\r\n  handleFocus = () => {\r\n    this.#callbacks.onFocus?.();\r\n  };\r\n\r\n  handleBlur = () => {\r\n    this.#callbacks.onBlur?.();\r\n  };\r\n\r\n  handleKeyboard = (event: KeyboardEvent) => {\r\n    if (process.env.NODE_ENV === \"production\") {\r\n      if (!(event instanceof KeyboardEvent && event.isTrusted)) {\r\n        return;\r\n      }\r\n    }\r\n    if (event.repeat) {\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n    const mapped = mapEvent(event);\r\n    if (isTextInput(mapped.modifiers) && event.key === \"Tab\") {\r\n      event.preventDefault();\r\n    }\r\n    if (event.code) {\r\n      this.#timeToType.add(mapped);\r\n      switch (mapped.type) {\r\n        case \"keydown\":\r\n          this.#callbacks.onKeyDown?.(mapped);\r\n          break;\r\n        case \"keyup\":\r\n          this.#callbacks.onKeyUp?.(mapped);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  handleInput = (event: InputEvent) => {\r\n    if (process.env.NODE_ENV === \"production\") {\r\n      if (!(event instanceof InputEvent && event.isTrusted)) {\r\n        return;\r\n      }\r\n    }\r\n    switch (event.inputType) {\r\n      case \"insertText\":\r\n        this.#appendChar(event);\r\n        this.#clearInput();\r\n        break;\r\n      case \"insertLineBreak\":\r\n        this.#callbacks.onInput?.({\r\n          type: \"input\",\r\n          timeStamp: timeStampOf(event),\r\n          inputType: \"appendLineBreak\",\r\n          codePoint: 0x0000,\r\n          timeToType: this.#timeToType.measure(event),\r\n        });\r\n        this.#clearInput();\r\n        break;\r\n      case \"deleteContentBackward\":\r\n        this.#callbacks.onInput?.({\r\n          type: \"input\",\r\n          timeStamp: timeStampOf(event),\r\n          inputType: \"clearChar\",\r\n          codePoint: 0x0000,\r\n          timeToType: this.#timeToType.measure(event),\r\n        });\r\n        this.#clearInput();\r\n        break;\r\n      case \"deleteWordBackward\":\r\n        this.#callbacks.onInput?.({\r\n          type: \"input\",\r\n          timeStamp: timeStampOf(event),\r\n          inputType: \"clearWord\",\r\n          codePoint: 0x0000,\r\n          timeToType: this.#timeToType.measure(event),\r\n        });\r\n        this.#clearInput();\r\n        break;\r\n      case \"insertFromPaste\":\r\n        this.#clearInput();\r\n        break;\r\n    }\r\n  };\r\n\r\n  handleComposition = (event: CompositionEvent) => {\r\n    switch (event.type) {\r\n      case \"compositionstart\":\r\n      case \"compositionupdate\":\r\n        break;\r\n      case \"compositionend\":\r\n        this.#appendChar(event);\r\n        this.#clearInput();\r\n        break;\r\n    }\r\n  };\r\n\r\n  #appendChar(event: InputEvent | CompositionEvent) {\r\n    const { data } = event;\r\n    if (data != null && data.length > 0) {\r\n      const codePoint = data.codePointAt(0) ?? 0x0000;\r\n      if (codePoint > 0x0000) {\r\n        this.#callbacks.onInput?.({\r\n          type: \"input\",\r\n          timeStamp: timeStampOf(event),\r\n          inputType: \"appendChar\",\r\n          codePoint,\r\n          timeToType: this.#timeToType.measure(event),\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { type Focusable } from \"@mkboard/widget\";\r\nimport {\r\n  type CSSProperties,\r\n  memo,\r\n  type ReactNode,\r\n  type RefObject,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useRef,\r\n} from \"react\";\r\nimport { type Callbacks, InputHandler } from \"./inputhandler.ts\";\r\n\r\nexport const TextEvents = memo(function TextEvents({\r\n  onFocus,\r\n  onBlur,\r\n  onKeyDown,\r\n  onKeyUp,\r\n  onInput,\r\n  focusRef,\r\n}: Callbacks & {\r\n  readonly focusRef?: RefObject<Focusable | null>;\r\n}): ReactNode {\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n  const handler = useInputHandler();\r\n  useImperativeHandle(focusRef, () => handler);\r\n  useEffect(() => {\r\n    handler.setInput(inputRef.current);\r\n    return () => {\r\n      handler.setInput(null);\r\n    };\r\n  }, [handler]);\r\n  handler.setCallbacks({ onFocus, onBlur, onKeyDown, onKeyUp, onInput });\r\n  return (\r\n    <div style={divStyle}>\r\n      <textarea\r\n        ref={inputRef}\r\n        autoCapitalize=\"off\"\r\n        autoCorrect=\"off\"\r\n        spellCheck=\"false\"\r\n        style={inputStyle}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nfunction useInputHandler() {\r\n  const handlerRef = useRef<InputHandler | null>(null);\r\n  let handler = handlerRef.current;\r\n  if (handler == null) {\r\n    handlerRef.current = handler = new InputHandler();\r\n  }\r\n  return handler;\r\n}\r\n\r\nconst divStyle = {\r\n  position: \"absolute\",\r\n  insetInlineStart: \"0px\",\r\n  insetBlockStart: \"0px\",\r\n  inlineSize: \"0px\",\r\n  blockSize: \"0px\",\r\n  overflow: \"hidden\",\r\n} satisfies CSSProperties;\r\n\r\nconst inputStyle = {\r\n  display: \"block\",\r\n  margin: \"0px\",\r\n  padding: \"0px\",\r\n  inlineSize: \"1em\",\r\n  blockSize: \"1em\",\r\n  border: \"none\",\r\n  outline: \"none\",\r\n} satisfies CSSProperties;\r\n","import { type Keyboard, type KeyId } from \"@mkboard/keyboard\";\r\nimport { type Settings } from \"@mkboard/settings\";\r\nimport { useWindowEvent } from \"@mkboard/widget\";\r\nimport { useState } from \"react\";\r\nimport { emulateLayout } from \"./emulation.ts\";\r\nimport { mapEvent } from \"./events.ts\";\r\n\r\nexport function addKey(keys: readonly KeyId[], key: KeyId): KeyId[] {\r\n  const set = new Set(keys);\r\n  set.add(key);\r\n  return [...set];\r\n}\r\n\r\nexport function deleteKey(keys: readonly KeyId[], key: KeyId): KeyId[] {\r\n  const set = new Set(keys);\r\n  set.delete(key);\r\n  return [...set];\r\n}\r\n\r\nexport function useDepressedKeys(\r\n  settings: Settings,\r\n  keyboard: Keyboard,\r\n): readonly KeyId[] {\r\n  const [depressedKeys, setDepressedKeys] = useState<KeyId[]>([]);\r\n  const listener = emulateLayout(settings, keyboard, {\r\n    onKeyDown: ({ code }) => setDepressedKeys(addKey(depressedKeys, code)),\r\n    onKeyUp: ({ code }) => setDepressedKeys(deleteKey(depressedKeys, code)),\r\n    onInput: () => {},\r\n  });\r\n  useWindowEvent(\"keydown\", (event) => {\r\n    listener.onKeyDown(mapEvent(event));\r\n  });\r\n  useWindowEvent(\"keyup\", (event) => {\r\n    listener.onKeyUp(mapEvent(event));\r\n  });\r\n  return depressedKeys;\r\n}\r\n","export type Sample = Readonly<{ index: number; pmf: number; cdf: number }>;\n\n/**\n * @see https://en.wikipedia.org/wiki/Empirical_distribution_function\n */\nexport class Distribution implements Iterable<Sample> {\n  readonly #samples: Float64Array;\n  readonly #pmf: Float64Array;\n  readonly #cdf: Float64Array;\n\n  constructor(samples: readonly number[]) {\n    this.#samples = new Float64Array(samples);\n    this.#pmf = new Float64Array(this.#samples.length);\n    this.#cdf = new Float64Array(this.#samples.length);\n    const totalSum = samples.reduce((sum, value) => sum + value, 0);\n    let runningSum = 0;\n    for (let i = 0; i < this.#samples.length; i++) {\n      this.#pmf[i] = samples[i] / totalSum;\n      this.#cdf[i] = runningSum += samples[i] / totalSum;\n    }\n  }\n\n  *[Symbol.iterator](): IterableIterator<Sample> {\n    for (let i = 0; i < this.#samples.length; i++) {\n      yield { index: i, pmf: this.pmf(i), cdf: this.cdf(i) };\n    }\n  }\n\n  map<T>(fn: (sample: Sample) => T): T[] {\n    return [...this].map((value) => fn(value));\n  }\n\n  get length(): number {\n    return this.#samples.length;\n  }\n\n  pmf(index: number): number {\n    const { length } = this.#samples;\n    index = Math.round(index);\n    if (index < 0) {\n      return 0;\n    }\n    if (index > length - 1) {\n      return 0;\n    }\n    return this.#pmf[index];\n  }\n\n  cdf(index: number): number {\n    const { length } = this.#samples;\n    index = Math.round(index);\n    if (index < 0) {\n      return 0;\n    }\n    if (index > length - 1) {\n      return 1;\n    }\n    return this.#cdf[index];\n  }\n\n  /** Scales a value in range [0, 1] to a histogram index. */\n  scale(index: number): number {\n    const { length } = this.#samples;\n    index = Math.round(index * (length - 1));\n    if (index < 0) {\n      return 0;\n    }\n    if (index > length - 1) {\n      return length - 1;\n    }\n    return index;\n  }\n\n  /** Scales a histogram index to a value in range [0, 1]. */\n  unscale(index: number): number {\n    const { length } = this.#samples;\n    index = Math.round(index);\n    if (index < 0) {\n      return 0;\n    }\n    if (index > length - 1) {\n      return 1;\n    }\n    return index / (length - 1);\n  }\n}\n","/**\n * @see https://en.wikipedia.org/wiki/Exponential_smoothing\n */\nexport type Filter = {\n  /** Number of samples added so far. */\n  readonly n: number;\n  /** Adds a new sample. */\n  add(v: number): number;\n};\n\nexport const makeFilter = (alpha: number): Filter => {\n  let n = 0;\n  let value = NaN;\n\n  return {\n    get n(): number {\n      return n;\n    },\n    add: (v: number): number => {\n      n++;\n      if (n > 1) {\n        value = alpha * v + (1 - alpha) * value;\n      } else {\n        value = v;\n      }\n      return value;\n    },\n  };\n};\n","export class KeySet<T> implements Iterable<T> {\n  readonly #keys = new Set<T>();\n\n  constructor(keys: Iterable<T>) {\n    for (const key of keys) {\n      this.add(key);\n    }\n  }\n\n  *[Symbol.iterator](): IterableIterator<T> {\n    for (const key of this.#keys) {\n      yield key;\n    }\n  }\n\n  add(key: T): void {\n    this.#keys.add(key);\n  }\n}\n","export class Vector implements Iterable<number> {\n  readonly #values: number[] = [];\n\n  constructor(values: Iterable<number> = []) {\n    for (const value of values) {\n      this.add(value);\n    }\n  }\n\n  *[Symbol.iterator](): IterableIterator<number> {\n    for (const item of this.#values) {\n      yield item;\n    }\n  }\n\n  add(value: number): void {\n    if (value !== value) {\n      throw new Error();\n    }\n    this.#values.push(value);\n  }\n\n  get length(): number {\n    return this.#values.length;\n  }\n\n  at(index: number): number {\n    if (!Number.isSafeInteger(index)) {\n      throw new RangeError();\n    }\n    if (index < 0 || index >= this.#values.length) {\n      throw new RangeError();\n    }\n    return this.#values[index];\n  }\n}\n","import { KeySet } from \"./keyset.ts\";\nimport { Vector } from \"./vector.ts\";\n\nexport class Histogram<T> implements Iterable<[T, number]> {\n  readonly #keySet: KeySet<T>;\n  readonly #map: Map<T, number>;\n\n  static from<T>(items: Iterable<[T, number]>): Histogram<T> {\n    const histogram = new Histogram<T>(new KeySet<T>([]));\n    for (const [key, value] of items) {\n      histogram.set(key, value);\n    }\n    return histogram;\n  }\n\n  constructor(keySet: KeySet<T>) {\n    this.#keySet = keySet;\n    this.#map = new Map();\n  }\n\n  *[Symbol.iterator](): IterableIterator<[T, number]> {\n    for (const key of this.#keySet) {\n      yield [key, this.get(key)];\n    }\n  }\n\n  *keys(): IterableIterator<T> {\n    for (const key of this.#keySet) {\n      yield key;\n    }\n  }\n\n  *values(): IterableIterator<number> {\n    for (const key of this.#keySet) {\n      yield this.get(key);\n    }\n  }\n\n  asVector(): Vector {\n    return new Vector(this.values());\n  }\n\n  has(key: T): boolean {\n    return this.#map.has(key);\n  }\n\n  get(key: T): number {\n    return this.#map.get(key) ?? 0;\n  }\n\n  set(key: T, value: number): void {\n    if (value !== value || value < 0) {\n      throw new Error();\n    }\n    this.#keySet.add(key);\n    this.#map.set(key, value);\n  }\n\n  add(key: T, value: number): void {\n    if (value !== value || value < 0) {\n      throw new Error();\n    }\n    this.#keySet.add(key);\n    this.#map.set(key, this.get(key) + value);\n  }\n}\n","import { type Model } from \"./model.ts\";\n\nexport abstract class Polynomial implements Model {\n  static from(coef: readonly number[]): Polynomial {\n    coef = trimZeros(coef);\n    switch (coef.length) {\n      case 0:\n        throw new Error();\n      case 1:\n        return new Polynomial0(coef[0]); // Constant\n      case 2:\n        return new Polynomial1(coef[0], coef[1]); // Linear.\n      case 3:\n        return new Polynomial2(coef[0], coef[1], coef[2]); // Quadratic.\n      case 4:\n        return new Polynomial3(coef[0], coef[1], coef[2], coef[3]); // Cubic.\n      default:\n        return new PolynomialN(coef);\n    }\n  }\n\n  readonly coef: readonly number[];\n  readonly degree: number;\n\n  constructor(coef: readonly number[]) {\n    this.coef = coef;\n    this.degree = coef.length - 1;\n  }\n\n  abstract eval(x: number): number;\n\n  abstract derivative(): Polynomial;\n}\n\nexport class Polynomial0 extends Polynomial {\n  constructor(readonly y: number) {\n    super([y]);\n  }\n\n  override eval(x: number): number {\n    return this.y;\n  }\n\n  override derivative(): Polynomial {\n    return new Polynomial0(0);\n  }\n}\n\nexport class Polynomial1 extends Polynomial {\n  constructor(\n    readonly a: number,\n    readonly b: number,\n  ) {\n    super([a, b]);\n  }\n\n  override eval(x: number): number {\n    return this.a + this.b * x;\n  }\n\n  override derivative(): Polynomial {\n    return new Polynomial0(this.b);\n  }\n}\n\nexport class Polynomial2 extends Polynomial {\n  constructor(\n    readonly a: number,\n    readonly b: number,\n    readonly c: number,\n  ) {\n    super([a, b, c]);\n  }\n\n  override eval(x: number): number {\n    return this.a + this.b * x + this.c * x * x;\n  }\n\n  override derivative(): Polynomial {\n    return new Polynomial1(this.b, this.c * 2);\n  }\n}\n\nexport class Polynomial3 extends Polynomial {\n  constructor(\n    readonly a: number,\n    readonly b: number,\n    readonly c: number,\n    readonly d: number,\n  ) {\n    super([a, b, c, d]);\n  }\n\n  override eval(x: number): number {\n    return this.a + this.b * x + this.c * x * x + this.d * x * x * x;\n  }\n\n  override derivative(): Polynomial {\n    return new Polynomial2(this.b, this.c * 2, this.d * 3);\n  }\n}\n\nexport class PolynomialN extends Polynomial {\n  constructor(coef: readonly number[]) {\n    super(coef);\n  }\n\n  override eval(x: number): number {\n    const { coef } = this;\n    const { length } = coef;\n    let y = 0;\n    for (let i = length - 1; i > 0; i--) {\n      y = (y + coef[i]) * x;\n    }\n    return y + coef[0];\n  }\n\n  override derivative(): Polynomial {\n    const { coef } = this;\n    const { length } = coef;\n    const derivativeCoef = new Array<number>(length - 1);\n    for (let i = 1; i < length; i++) {\n      derivativeCoef[i - 1] = coef[i] * i;\n    }\n    return Polynomial.from(derivativeCoef);\n  }\n}\n\nfunction trimZeros(coef: readonly number[]): number[] {\n  let i = coef.length;\n  while (i > 1 && coef[i - 1] === 0) {\n    i = i - 1;\n  }\n  return coef.slice(0, i);\n}\n","import { type Vector } from \"./vector.ts\";\n\nexport type Model = {\n  eval(x: number): number;\n};\n\nexport function constModel(v: number): Model {\n  return new (class Const implements Model {\n    eval(x: number): number {\n      return v;\n    }\n  })();\n}\n\n/**\n * @see https://en.wikipedia.org/wiki/Coefficient_of_determination\n */\nexport function r2(vx: Vector, vy: Vector, model: Model): number {\n  const { length } = vx;\n  if (length !== vy.length) {\n    throw new Error();\n  }\n  if (length === 0) {\n    throw new Error();\n  }\n\n  let sy = 0;\n  for (let i = 0; i < length; i++) {\n    sy = sy + vy.at(i);\n  }\n  const my = sy / length;\n  let ssres = 0;\n  let sstot = 0;\n  for (let i = 0; i < length; i++) {\n    const t0 = vy.at(i) - model.eval(vx.at(i));\n    const t1 = vy.at(i) - my;\n    ssres = ssres + t0 * t0;\n    sstot = sstot + t1 * t1;\n  }\n  return 1 - ssres / sstot;\n}\n","// The MIT License (MIT)\n//\n// Copyright (c) Tom Alexander <me@tomalexander.co.nz>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\ntype Vector = Array<number>;\ntype Matrix = Array<Vector>;\n\n/**\n * A system of linear equations which solves `A * x = y` for `x`,\n * where `A` is an input matrix, `y` is an input vector.\n */\nexport class Sle {\n  readonly size: number;\n  readonly A: Matrix;\n  readonly y: Vector;\n\n  constructor(size: number) {\n    const A = new Array<Array<number>>(size + 1);\n    for (let i = 0; i < size; i++) {\n      A[i] = new Array<number>(size).fill(0);\n    }\n    const y = new Array<number>(size).fill(0);\n    A[size] = y;\n    this.size = size;\n    this.A = A;\n    this.y = y;\n  }\n\n  solve(): Vector {\n    const { size, A } = this;\n\n    for (let i = 0; i < size; i++) {\n      let maxrow = i;\n      for (let j = i + 1; j < size; j++) {\n        if (Math.abs(A[i][j]) > Math.abs(A[i][maxrow])) {\n          maxrow = j;\n        }\n      }\n\n      for (let k = i; k < size + 1; k++) {\n        const tmp = A[k][i];\n        A[k][i] = A[k][maxrow];\n        A[k][maxrow] = tmp;\n      }\n\n      for (let j = i + 1; j < size; j++) {\n        for (let k = size; k >= i; k--) {\n          A[k][j] -= (A[k][i] * A[i][j]) / A[i][i];\n        }\n      }\n    }\n\n    const x = new Array<number>(size);\n    for (let j = size - 1; j >= 0; j--) {\n      let s = 0;\n      for (let k = j + 1; k < size; k++) {\n        s += A[k][j] * x[k];\n      }\n      x[j] = (A[size][j] - s) / A[j][j];\n    }\n    return x;\n  }\n}\n","// The MIT License (MIT)\n//\n// Copyright (c) Tom Alexander <me@tomalexander.co.nz>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport { linearRegression } from \"./linear-regression.ts\";\nimport { Polynomial } from \"./polynomial.ts\";\nimport { Sle } from \"./sle.ts\";\nimport { type Vector } from \"./vector.ts\";\n\nexport function polynomialRegression(\n  vx: Vector,\n  vy: Vector,\n  degree: number,\n): Polynomial {\n  if (degree === 1) {\n    return linearRegression(vx, vy);\n  }\n\n  const { length } = vx;\n  if (length !== vy.length) {\n    throw new Error();\n  }\n  if (length === 0) {\n    throw new Error();\n  }\n\n  const size = degree + 1;\n  const sle = new Sle(size);\n  for (let i = 0; i < size; i++) {\n    for (let j = 0; j < size; j++) {\n      let t = 0;\n      for (let l = 0; l < length; l++) {\n        t += vx.at(l) ** (i + j);\n      }\n      sle.A[i][j] = t;\n    }\n  }\n  for (let i = 0; i < size; i++) {\n    let t = 0;\n    for (let l = 0; l < length; l++) {\n      t += vx.at(l) ** i * vy.at(l);\n    }\n    sle.y[i] = t;\n  }\n  return Polynomial.from(sle.solve());\n}\n","import { Polynomial } from \"./polynomial.ts\";\nimport { type Vector } from \"./vector.ts\";\n\nexport function linearRegression(vx: Vector, vy: Vector): Polynomial {\n  const { length } = vx;\n  if (length !== vy.length) {\n    throw new Error();\n  }\n  if (length === 0) {\n    throw new Error();\n  }\n\n  let sx = 0;\n  let sy = 0;\n  for (let i = 0; i < length; i++) {\n    sx = sx + vx.at(i);\n    sy = sy + vy.at(i);\n  }\n  const mx = sx / length;\n  const my = sy / length;\n\n  let s1 = 0;\n  let s2 = 0;\n  for (let i = 0; i < length; i++) {\n    const t0 = vx.at(i) - mx;\n    const t1 = vy.at(i) - my;\n    s1 = s1 + t0 * t1;\n    s2 = s2 + t0 * t0;\n  }\n  const a = my - (s1 / s2) * mx;\n  const b = s1 / s2;\n\n  return Polynomial.from([a, b]);\n}\n","export class Range {\n  static from(values: Iterable<number>, ...rest: Iterable<number>[]): Range {\n    const range = new Range();\n    range.adjust(values);\n    for (const values of rest) {\n      range.adjust(values);\n    }\n    return range;\n  }\n\n  #min: number = NaN;\n  #max: number = NaN;\n\n  constructor();\n  constructor(that: Range);\n  constructor(min: number, max: number);\n  constructor(...args: any) {\n    const l = args.length;\n    let a0, a1;\n    if (l === 0) {\n      return;\n    }\n    if (l === 1 && (a0 = args[0]) instanceof Range) {\n      this.#min = a0.#min;\n      this.#max = a0.#max;\n      return;\n    }\n    if (\n      l === 2 &&\n      typeof (a0 = args[0]) === \"number\" &&\n      typeof (a1 = args[1]) === \"number\"\n    ) {\n      this.#min = a0;\n      this.#max = a1;\n      return;\n    }\n    throw new TypeError();\n  }\n\n  get defined(): boolean {\n    return this.#min === this.#min && this.#max === this.#max;\n  }\n\n  get min(): number {\n    return this.#min;\n  }\n\n  set min(value: number) {\n    this.#min = this.#min === this.#min ? Math.min(this.#min, value) : value;\n  }\n\n  get max(): number {\n    return this.#max;\n  }\n\n  set max(value: number) {\n    this.#max = this.#max === this.#max ? Math.max(this.#max, value) : value;\n  }\n\n  adjust(values: Iterable<number>): this {\n    for (const value of values) {\n      this.min = value;\n      this.max = value;\n    }\n    return this;\n  }\n\n  get span(): number {\n    if (!this.defined) {\n      throw new RangeError();\n    }\n    return this.#max - this.#min;\n  }\n\n  normalize(value: number, width: number = 0): number {\n    if (!this.defined) {\n      throw new RangeError();\n    }\n    if (this.#max === this.#min) {\n      return this.#min;\n    } else {\n      return (value - this.#min) / (this.#max - this.#min + width);\n    }\n  }\n\n  round(step: number): this {\n    if (!this.defined) {\n      throw new RangeError();\n    }\n    const t0 = this.#max / step;\n    const r0 = Math.floor(t0);\n    if (t0 !== r0) {\n      this.#max = (r0 + 1) * step;\n    }\n    const t1 = this.#min / step;\n    const r1 = Math.ceil(t1);\n    if (t1 !== r1) {\n      this.#min = (r1 - 1) * step;\n    }\n    return this;\n  }\n\n  *steps(): IterableIterator<number> {\n    if (!this.defined) {\n      throw new RangeError();\n    }\n    for (let index = this.#min; index <= this.#max; index++) {\n      yield index;\n    }\n  }\n}\n","import { makeFilter } from \"./filter.ts\";\n\nexport const hasData = ({ length }: { readonly length: number }): boolean => {\n  return length >= 5;\n};\n\nexport const smooth = (smoothness: number) => {\n  const filter = makeFilter(1 / Math.pow(10, smoothness * 3));\n  return (value: number): number => filter.add(value);\n};\n\nexport const resample = (data: number[], newLength: number): number[] => {\n  const { length } = data;\n  const r = length / newLength;\n  const result = new Array<number>(newLength);\n  for (let i = 0; i < newLength; i++) {\n    result[i] = data[Math.floor(i * r)]; // Nearest neighbour.\n  }\n  return result;\n};\n","// extracted by mini-css-extract-plugin\nvar _1 = \"SU3o2RrbmG\";\nvar _2 = \"NrrlBmFRrD\";\nvar _3 = \"l44JDh1BRL\";\nvar _4 = \"k3ABFdzatk\";\nvar _5 = \"ShQkvNrG1r\";\nexport { _1 as \"disabled\", _2 as \"root\", _3 as \"thumb\", _4 as \"track\", _5 as \"track_focused\" }\n","import { clsx } from \"clsx\";\nimport { type ReactNode, useImperativeHandle, useRef } from \"react\";\nimport { sizeClassName } from \"../../styles/index.ts\";\nimport * as styles from \"./Range.module.less\";\nimport { type RangeProps } from \"./Range.types.ts\";\n\nexport function Range({\n  disabled,\n  max,\n  min,\n  name,\n  ref,\n  size,\n  step,\n  tabIndex,\n  title,\n  value,\n  onChange,\n  ...props\n}: RangeProps): ReactNode {\n  const element = useRef<HTMLInputElement>(null);\n  useImperativeHandle(ref, () => ({\n    focus() {\n      element.current?.focus();\n    },\n    blur() {\n      element.current?.blur();\n    },\n  }));\n  return (\n    <input\n      {...props}\n      ref={element}\n      className={clsx(\n        styles.root,\n        disabled && styles.disabled,\n        sizeClassName(size),\n      )}\n      disabled={disabled}\n      max={max}\n      min={min}\n      name={name}\n      step={step}\n      tabIndex={tabIndex}\n      title={title}\n      type=\"range\"\n      value={value}\n      onChange={(event) => {\n        onChange?.(Number((event.target as HTMLInputElement).value));\n      }}\n    />\n  );\n}\n","// extracted by mini-css-extract-plugin\nvar _1 = \"ueQpVRHJFk\";\nvar _2 = \"BERJW8xcCW\";\nexport { _1 as \"disabled\", _2 as \"root\" }\n","import { clsx } from \"clsx\";\nimport { type ReactNode, useImperativeHandle, useRef } from \"react\";\nimport { getBoundingBox } from \"../../utils/index.ts\";\nimport * as styles from \"./LinkButton.module.less\";\nimport { type LinkButtonProps } from \"./LinkButton.types.ts\";\n\nexport function LinkButton({\n  anchor,\n  children,\n  className,\n  disabled,\n  label,\n  ref,\n  tabIndex,\n  title,\n  onClick,\n  ...props\n}: LinkButtonProps): ReactNode {\n  const element = useRef<HTMLAnchorElement>(null);\n  useImperativeHandle(ref, () => ({\n    focus() {\n      element.current?.focus();\n    },\n    blur() {\n      element.current?.blur();\n    },\n  }));\n  useImperativeHandle(anchor, () => ({\n    getBoundingBox() {\n      return getBoundingBox(element.current!);\n    },\n  }));\n  return (\n    <a\n      {...props}\n      ref={element}\n      href=\"#\"\n      className={clsx(styles.root, disabled && styles.disabled, className)}\n      tabIndex={tabIndex}\n      title={title}\n      onClick={(event) => {\n        event.preventDefault();\n        onClick?.(event);\n      }}\n    >\n      {label || children}\n    </a>\n  );\n}\n"],"names":["isCond","v","isSpan","isOpt","isSeq","isAlt","isRef","isLit","compose","rules","rest","composes","map","findRule","grammar","name","rule","composed","flagSet","flags","set","Set","has","flag","Output","static","Error","constructor","limit","this","text","length","remaining","separate","Stop","append","cls","push","clear","generate","start","output","rng","Array","alts","Map","visit","p","inv","cond","span","pop","f","opt","child","seq","a","prev","get","next","Math","floor","choose","alt","getRule","ref","at","undefined","generic_variable_name","generic_function_name","generic_class_name","kw_False","kw_None","kw_Self","kw_True","kw_abstract","kw_alignas","kw_alignof","kw_and","kw_arguments","kw_as","kw_asm","kw_assert","kw_async","kw_auto","kw_await","kw_become","kw_bool","kw_boolean","kw_box","kw_break","kw_byte","kw_case","kw_catch","kw_char","kw_char16_t","kw_char32_t","kw_class","kw_co_await","kw_co_return","kw_co_yield","kw_concept","kw_const","kw_const_cast","kw_constexpr","kw_continue","kw_crate","kw_debugger","kw_decltype","kw_def","kw_default","kw_del","kw_delete","kw_do","kw_double","kw_dyn","kw_dynamic_cast","kw_elif","kw_else","kw_enum","kw_except","kw_explicit","kw_export","kw_extends","kw_extern","kw_f32","kw_f64","kw_false","kw_final","kw_finally","kw_float","kw_fn","kw_for","kw_friend","kw_from","kw_function","kw_global","kw_goto","kw_i128","kw_i16","kw_i32","kw_i64","kw_i8","kw_if","kw_impl","kw_implements","kw_import","kw_in","kw_inline","kw_instanceof","kw_int","kw_interface","kw_is","kw_isize","kw_lambda","kw_let","kw_long","kw_loop","kw_match","kw_mod","kw_move","kw_mut","kw_mutable","kw_namespace","kw_native","kw_new","kw_noexcept","kw_nonlocal","kw_not","kw_null","kw_nullptr","kw_number","kw_object","kw_operator","kw_or","kw_override","kw_package","kw_pass","kw_priv","kw_private","kw_protected","kw_pub","kw_public","kw_raise","kw_readonly","kw_ref","kw_register","kw_reinterpret_cast","kw_requires","kw_return","kw_self","kw_short","kw_signed","kw_sizeof","kw_static","kw_static_assert","kw_static_cast","kw_str","kw_strictfp","kw_string","kw_struct","kw_super","kw_switch","kw_symbol","kw_synchronized","kw_template","kw_this","kw_thread_local","kw_throw","kw_throws","kw_trait","kw_transient","kw_true","kw_try","kw_type","kw_typedef","kw_typeid","kw_typename","kw_typeof","kw_u128","kw_u16","kw_u32","kw_u64","kw_u8","kw_undefined","kw_union","kw_unknown","kw_unsafe","kw_unsigned","kw_use","kw_using","kw_usize","kw_var","kw_virtual","kw_void","kw_volatile","kw_wchar_t","kw_where","kw_while","kw_with","kw_yield","kw_any","kw_bigint","kw_declare","kw_keyof","kw_module","kw_never","kw_satisfies","kw_unique","kw_infer","kw_out","grammar_html_css","html","html_tag","html_self_closing_tag","html_attr_list","html_id_attr","html_class_attr","html_style_attr","html_ident","html_entity","css","css_rule","css_selector","css_id_selector","css_class_selector","css_pseudo_selector","css_pseudo_class","css_pseudo_class_name","css_pseudo_element","css_pseudo_element_name","css_property_list","css_property","css_property_name","css_property_value","css_std_value","css_var_value","css_url_value","css_image_url","css_font_url","css_var_id","css_color_value","css_hex_digit","css_class_id","css_named_color","_keywords","grammar_cpp","start_fproto","start_stmt","c_func","c_func_proto","c_type","c_param_list","c_param","c_arg_list","c_arg","c_func_body","c_stmt","c_var_stmt","c_call_stmt","c_if_stmt","c_return_stmt","c_expr","c_unary_exp","c_binary_exp","c_ternary_exp","c_func_id","c_func_id_suffix","c_var_id","_ident","grammar_csharp","csharp_statement","using_declaration","class_declaration","class_body","class_member","method_declaration","method_body","simple_statement","statement_list","property_declaration","field_declaration","variable_declaration","parameter_list","parameter","contextual_parameter_name","argument_list","return_type","csharp_type","csharp_simple_type","csharp_expression","null_check_expression","string_interpolation","interpolation_content","method_call","property_access","simple_binary_expression","simple_operator","simple_linq_expression","linq_chain","linq_method","simple_lambda","csharp_literal","csharp_string_literal","csharp_number_literal","csharp_boolean_literal","csharp_null_literal","csharp_char_literal","access_modifier","csharp_identifier","contextual_variable_name","csharp_method_name","csharp_property_name","csharp_parameter_name","csharp_class_name","csharp_namespace_name","comment","single_line_comment","multi_line_comment","comment_text","new_expression","cast_expression","object_initializer","property_initializer","using_statement","if_statement","if_condition","for_statement","for_initializer","for_condition","for_iterator","foreach_statement","foreach_variable","foreach_collection","while_statement","switch_statement","switch_cases","switch_case","switch_expressions","switch_expression","try_statement","catch_clauses","catch_clause","finally_clause","return_statement","break_statement","continue_statement","throw_statement","expression_statement","statement_block","lambda_expression","lambda_parameters","conditional_expression","await_expression","assignment_expression","assignment_operator","kw_foreach","kw_decimal","kw_uint","kw_ulong","kw_ushort","grammar_typescript","ts_statement","ts_interface_declaration","ts_interface_body","ts_property_signature","ts_type_declaration","ts_type","ts_primitive_type","ts_union_type","ts_intersection_type","ts_array_type","ts_tuple_type","ts_function_type","ts_object_type","ts_object_member_list","ts_object_member","ts_mapped_type","ts_conditional_type","ts_type_reference","ts_type_argument_list","ts_enum_declaration","ts_enum_member_list","ts_enum_member","ts_namespace_declaration","ts_namespace_body","ts_function_signature","ts_variable_declaration","ts_parameter_list","ts_parameter","ts_required_parameter","ts_optional_parameter","ts_rest_parameter","ts_type_parameters","ts_type_parameter_list","ts_type_parameter","ts_property_name","ts_access_modifier","ts_type_name","ts_enum_name","ts_namespace_name","ts_function_name","ts_identifier","ts_number_literal","ts_string_literal","ts_comment","ts_comment_text","grammar_javascript","js_variable_statement","js_primary_exp","js_array_literal","js_object_literal","js_property_name","js_property_value","js_function_exp","js_function_args","js_single_arg","js_multi_args","js_arg","js_tail_arg","js_call_exp","js_var_id","js_func_id","js_id","js_literal","js_string_literal","js_template_literal","grammar_python","python_statement","python_function_definition","python_class_definition","python_assign","python_return","python_arguments","python_argument","python_expression","python_unary_operation","python_binary_operation","python_function_call","python_function_arg","python_type","python_primitive_type","python_binary_operator","python_list_definition","python_dict_definition","python_dict_key_value_pair","python_literal","python_string_literal","python_variable_name","python_function_name","python_class_name","python_string_value","python_number_literal","python_comment","grammar_rust","rust_statement","rust_function_definition","rust_struct_definition","rust_assign","rust_return","rust_arguments","rust_argument","rust_expression","rust_unary_operation","rust_binary_operation","rust_function_call","rust_function_args","rust_type","rust_primitive_type","rust_binary_operator","rust_array_definition","rust_struct_instantiation","rust_struct_fields","rust_field_assignment","rust_literal","rust_string_literal","rust_char_literal","rust_boolean_literal","rust_variable_name","rust_function_name","rust_struct_name","rust_string_value","rust_char_value","rust_number_literal","rust_comment","rust_comment_text","grammar_shell","shell_command","redirect_suffix","pipe_suffix","arg_list","short_arg","long_arg","file_arg","wildcard_arg","var_arg","string_arg","dir_name","file_name","var_name","file_base_name","file_ext_name","command_name","grammar_regex","item","group","group_name","group_item","union","union_item","char_class","char","literal_char","escaped_char","unicode_char","unicode_category","quantifier","grammar_java","java_statement","method_signature","java_type","java_reference_type","class_type","interface_type","array_type","java_expression","java_literal","java_number_literal","java_string_literal","java_boolean_literal","java_method_call","java_variable_name","java_method_name","java_type_name","interface_declaration","interface_body","interface_method_signature","enum_declaration","enum_member_list","enum_member","javadoc_comment","grammar_go","golang_statement","package_declaration","import_declaration","import_list","import_spec","golang_import_alias","function_declaration","receiver","return_spec","return_params","function_body","golang_statement_list","struct_declaration","struct_field_list","struct_field","struct_tag","golang_identifier_list","interface_method_list","interface_method_spec","variable_spec","short_variable_declaration","expression_list","constant_declaration","constant_spec","type_declaration","type_spec","golang_type","golang_basic_type","golang_reference_type","golang_struct_type","golang_interface_type","golang_array_type","golang_slice_type","golang_map_type","golang_channel_type","golang_function_type","golang_expression","unary_expression","unary_operator","binary_expression","binary_operator","golang_literal","golang_number_literal","golang_string_literal","golang_boolean_literal","golang_nil_literal","golang_function_call","golang_identifier","golang_function_name","golang_type_name","golang_package_name","golang_method_name","kw_func","kw_map","kw_chan","kw_int8","kw_int16","kw_int32","kw_int64","kw_uint8","kw_uint16","kw_uint32","kw_uint64","kw_float32","kw_float64","kw_complex64","kw_complex128","kw_rune","Syntax","HTML","CSS","CPP","CPP_FPROTO","CPP_STMT","JAVASCRIPT_EXP","TYPESCRIPT","PYTHON","RUST","SHELL","REGEX","JAVA","GO","CSHARP","id","referenced","add","Object","values","keys","startsWith","validate","findFlags","freeze","err","toString","toJSON","useComputedStyles","color","font","hash","getStyledElement","element","useMemo","style","getComputedStyle","getPropertyValue","computeStyle","className","createElement","appendChild","fontStyle","fontVariant","fontWeight","fontSize","lineHeight","fontFamily","textAlign","verticalAlign","opacity","fill","fillOpacity","fillRule","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","removeChild","result","textBaseline","toRgb","value","Number","alpha","fillStyle","strokeStyle","lineCap","lineJoin","isPx","lineWidth","parsePx","miterLimit","computeLineHeight","clientHeight","tagName","document","textContent","position","insetInlineStart","insetBlockStart","endsWith","substring","Explainer","children","explainersVisible","_1","_3","FieldSet","props","disabled","legend","title","Legend","MutableStreakList","findLongest","results","candidates","level","level1","level2","level3","accept","streak","candidate","list","end","filter","TopMutableStreak","MutableStreak","Symbol","iterator","copy","streaks","started","accuracy","super","Infinity","createContext","useResults","useContext","Month","DayOfWeek","LocalDate","year","month","dayOfMonth","dayOfWeek","timeStamp","now","Date","args","day","date","getFullYear","getMonth","getDate","TypeError","getTime","setHours","setMinutes","setSeconds","setMilliseconds","getDay","String","padStart","plusDays","days","setDate","minusDays","valueOf","LocalDateRange","from","to","includes","Today","ResultGroups","layout","addAll","family","dateKey","keyOf","key","stringKey","MutableSummaryStats","MutableMetric","count","time","speed","score","last","delta","min","max","avg","toStringTag","textType","errors","histogram","minLength","minTime","minComplexity","minSpeed","maxSpeed","fromStats","stats","complexity","timeToSpeed","isFinite","speedToTime","xid","GENERATED","NATURAL","NUMBERS","CODE","makeKeyStatsMap","letters","MutableKeyStatsMap","letter","MutableKeyStats","samples","timeToType","bestTimeToType","sample","codePoint","hitCount","missCount","filteredTimeToType","index","recoverResults","raw","recovered","SpeedUnit","factor","WPM","WPS","CPM","CPS","measure","cpm","uiProps","speedUnit","ALL","PlaySounds","SoundTheme","DEFAULT","MECHANICAL1","MECHANICAL2","TYPEWRITER1","TYPEWRITER2","soundProps","playSounds","None","soundVolume","soundTheme","context","getAudioContext","AudioContext","nullPlayer","play","offset","duration","stop","volume","WebAudioPlayer","buffer","createGain","connect","destination","source","createBufferSource","onended","gain","PlayerLibrary","assets","url","entries","PlayerLoader","loader","init","then","player","catch","catchError","response","use","GET","send","arrayBuffer","decodeAudioData","console","error","Theme","theme","click","collect","blip","urls","sounds","i","common","defaultTheme","mechanical1","mechanical2","typewriter1","typewriter2","useSoundPlayer","settings","makeSoundPlayer","cache","loadTheme0","loadTheme","feedback","All","Succeeded","Recovered","Failed","ErrorsOnly","KeysOnly","_2","_4","RadioBox","checked","label","tabIndex","onBlur","onChange","onFocus","onSelect","useRef","useImperativeHandle","focus","current","blur","clsx","type","event","target","viewBox","d","mdi","formatDuration","millis","showMillis","pad","hours","minutes","seconds","frac","cursorStyles","backgroundColor","borderStyle","borderColor","textItemStyle","display","whiteSpace","textStyles","normal","special","hit","miss","garbage","syntaxStyles","keyword","string","number","getCursorStyle","caretShapeStyle","Block","Box","Line","Underline","getTextStyle","attrs","Normal","Cursor","Hit","Miss","Garbage","renderChars","chars","nodes","pushSpan","nextSpan","getClassName","fromCodePoint","specialChar","whitespaceStyle","Bar","Bullet","cursorSelector","Component","createRef","componentDidMount","componentDidUpdate","componentWillUnmount","cancel","container","cursor","querySelector","findCursor","caretMovementStyle","language","direction","window","fontKerning","x","offsetLeft","y","parentElement","offsetTop","w","offsetWidth","h","offsetHeight","left","top","borderWidth","width","height","fromLeft","fromTop","Smooth","animate","wpm","round","iterations","easing","onfinish","oncancel","onremove","render","containerStyle","cursorStyle","TextLines","memo","lines","wrap","size","lineTemplate","LineTemplate","TextLine","cssProperties","items","itemChars","ws","dir","TextItem","prevProps","nextProps","StaticText","AnimatedText","textInput","stopOnError","forgiveErrors","spaceSkipsWords","setChars","useState","useEffect","tasks","repeated","completed","reset","appendChar","pos","cancelAll","useAnimatedTextState","TextArea","demo","moving","focusRef","onKeyDown","onKeyUp","onInput","innerRef","setFocus","setElementCursor","handleFocus","useCallback","handleBlur","onClick","preventDefault","capsLock","TypingSettings","formatMessage","useIntl","Description","StopOnErrorProp","ForgiveErrorsProp","SpaceSkipsWordsProp","ExampleText","FontProp","WhitespaceProp","CursorShapeProp","CursorMovementProp","SoundsProp","SoundsThemeProp","keyboard","getExampleText","updateSettings","FieldList","CheckBox","fonts","select","find","OptionList","options","Space","Jumping","Range","step","SoundThemePreview","playing","setPlaying","IconButton","icon","Icon","I","shape","Attr","flattenStyledText","isArray","isStyledTextSpan","join","splitStyledText","charsAreEqual","b","charArraysAreEqual","FontFace","weight","fallbacks","scripts","s","fontName","cl","cgl","cghl","achl","acghlt","ARAD","ARAD_B","CORMORANT","CORMORANT_I","CORMORANT_B","CORMORANT_BI","NEWSREADER","NEWSREADER_I","NEWSREADER_B","NEWSREADER_BI","NUNITO","NUNITO_I","NUNITO_B","NUNITO_BI","OPEN_DYSLEXIC","OPEN_DYSLEXIC_I","OPEN_DYSLEXIC_B","OPEN_DYSLEXIC_BI","OPEN_SANS","OPEN_SANS_I","OPEN_SANS_B","OPEN_SANS_BI","ROBOTO","ROBOTO_I","ROBOTO_B","ROBOTO_BI","ROBOTO_MONO","ROBOTO_MONO_I","ROBOTO_MONO_B","ROBOTO_MONO_BI","RUBIK","RUBIK_I","RUBIK_B","RUBIK_BI","SHANTELL_SANS","SHANTELL_SANS_I","SHANTELL_SANS_B","SHANTELL_SANS_BI","SPECTRAL","SPECTRAL_I","SPECTRAL_B","SPECTRAL_BI","UBUNTU","UBUNTU_I","UBUNTU_B","UBUNTU_BI","UBUNTU_MONO","UBUNTU_MONO_I","UBUNTU_MONO_B","UBUNTU_MONO_BI","SERIF","SERIF_I","SERIF_B","SERIF_BI","SANS_SERIF","SANS_SERIF_I","SANS_SERIF_B","SANS_SERIF_BI","MONOSPACE","MONOSPACE_I","MONOSPACE_B","MONOSPACE_BI","CURSIVE","CURSIVE_I","CURSIVE_B","CURSIVE_BI","FONTS_FACES","Font","fontFace","script","Histogram","sort","validateSample","steps","typo","textInputProps","toTextInputSettings","CaretShapeStyle","CaretMovementStyle","WhitespaceStyle","textDisplaySettings","default","EN","textDisplayProps","toTextDisplaySettings","makeStats","startedAt","endedAt","computeSpeed","countErrors","slice","empty","Feedback","TextInput","onStep","inputType","clearChar","clearWord","expected","normalize","head","tail","recoverBufferLength","LCG","seed","m","mark","_5","formatNumber","formatPercents","speedUnitName","f1","minimumFractionDigits","maximumFractionDigits","f2","formatSpeed","unit","opts","formatConfidence","confidence","formatLearningRate","lr","Cell","cell","effort","attach","shade","attachment","attached","_8","_9","_a","_b","_c","_d","_f","u","l","useKeyStyles","slow","fast","parse","confidenceColor","ratio","keyStyles","isIncluded","lessonKey","isSelectable","isCurrent","isFocused","isForced","Happiness","learningRate","Happy","Sad","KeyDetails","bestConfidence","CurrentKey","lessonKeys","focusedKey","findFocusedKey","DailyGoal","dailyGoal","DailyGoalLabel","goal","DailyGoalGauge","barWidth","frameWidth","inlineSize","useEffort","fade","EffortLegend","GaugeList","summaryStats","names","SpeedGauge","AccuracyGauge","ScoreGauge","Gauge","KeySet","onKeyHoverIn","onKeyHoverOut","onKeyClick","onMouseOver","onMouseOut","root","handler","Element","contains","StreakList","streakList","GaugeRow","KeySetRow","keySet","CurrentKeyRow","currentKey","StreakListRow","DailyGoalRow","KeyLegend","KeyLegendList","as","DynamicStylesContext","body","DynamicStylesProvider","elementRef","Provider","useDynamicStyles","Book","author","coverImage","ES","DE","FR","EN_ALICE_WONDERLAND","EN_JEKYLL_HYDE","EN_CALL_WILD","ES_MARIANELA","DE_ALICE_WONDERLAND","FR_ALICE_WONDERLAND","flattenContent","content","paragraphs","splitParagraph","paragraph","split","BookPreview","book","numChapters","numParagraphs","numWords","numUniqueWords","numCharacters","avgWordLength","locale","src","NameValue","BookSelector","ParagraphPreview","paragraphIndex","around","begin","ParagraphIndex","ParagraphContent","ParagraphSelector","swap","wordListStats","wordList","wordLength","wordCount","word","LessonKey","keyStats","asIncluded","asExcluded","asForced","asFocused","LessonKeys","includeAll","keyStatsMap","findIncludedKeys","findExcludedKeys","include","exclude","force","Lesson","codePoints","model","getCodePoints","restrict","byLayoutFamily","LessonType","GUIDED","WORDLIST","BOOKS","CUSTOM","lessonProps","guided","naturalWords","keyboardOrder","alphabetSize","recoverKeys","wordListSize","longWordsOnly","books","lettersOnly","lowercase","customText","maxLength","randomize","numbers","benford","code","syntax","capitals","punctuators","repeatWords","targetSpeed","Target","generateFragment","nextWord","words","wordsLength","randomWords","random","wordSequence","wordIndex","uniqueWords","n","mangledWords","withCapitals","withPunctuators","capitalCase","BooksLesson","flat","update","delete","lowerCase","CodeLesson","programming","CustomTextLesson","MutableDailyGoal","today","Dictionary","Word","focusedCodePoint","matches","every","filterWordList","GuidedLesson","dictionary","maxSize","includedKeys","confidenceOf","weakestKeys","weightedFrequencyOrder","frequencyOrder","pseudoWords","phoneticWords","LearningRate","recent","example","vIndex","vSpeed","mSpeed","certainty","NaN","remainingLessons","session","findSession","getPolynomialDegree","r2","lastIndex","derivative","eval","NumbersLesson","digits","zeroDigit","nonZeroDigits","allDigits","digit","WordListLesson","ExplainerStateContext","toggleExplainers","useExplainerState","observed","WeakMap","resizeObserver","getResizeObserver","ResizeObserver","entry","callback","useElementSize","setSize","observe","unobserve","onElementResize","newSize","eq","toCanvasColor","applyStyle","lineDash","lineDashOffset","setLineDash","Graphics","withStyle","fn","save","restore","clearRect","fillText","beginPath","strokeText","fillRect","strokeRect","fillCircle","cx","cy","r","arc","PI","strokeCircle","strokeLine","x1","y1","x2","y2","moveTo","lineTo","paint","shapes","paintShapes","g","canvas","line","rect","circle","onResize","getSize","getContext","call","toBlob","toDataURL","devicePixelRatio","scale","blockSize","margin","padding","styles","cb","area","vTicks","box","point","hTicks","paintGrid","frame","makeRange","paintFrame","paintAxis","edge","paintTicks","range","fmt","valueLabel","makeTicks","paintKeyTicks","keyLabel","paintNoData","headerText","subheaderText","_","_6","_7","threshold","thresholdLabel","histHit","histMiss","histRatio","AccuracyHistogram","distribution","thresholds","dist","vPmf","vCdf","pmf","cdf","rIndex","rPmf","rCdf","paintPmfHistogram","paintCdfHistogram","paintPmfLine","paintCdfLine","unscale","ceil","usePaint","data","wnd","sum","j","bucketize","buckets","bucketSize","makeSpeedDistribution","makeAccuracyDistribution","xr","yr","xmin","xmax","ymin","ymax","dx","dy","proj","KeyDetailsChart","formatInteger","rSpeed","paintThresholdLine","paintTargetSpeedLine","RollingSpeedChart","vTime","vBumps","curr","rTime","pointAverageSpeedLine","paintBumps","SpeedHistogram","TimeToTypeHistogram","buildHistogram","vValue","rValue","paintHistogram","directionMapping","row","column","wrapMapping","justifyContentMapping","alignItemsMapping","center","baseline","stretch","alignContentMapping","getBoxClassNames","justifyContent","alignItems","alignContent","classNames","initialized","modifiers","ModifierState","numLock","initialize","addEventListener","getModifiers","getModifierState","isTextInput","TimeToType","down","emulateLayout","emulate","emulation","Forward","mapped","fixKey","forwardEmulation","Reverse","fixCode","reverseEmulation","characters","getCharacters","getCodePoint","toKeyModifier","combo","getCombo","codePointAt","mapEvent","timeStampOf","performance","InputHandler","setCallbacks","callbacks","setInput","input","handleKeyboard","handleInput","handleComposition","removeEventListener","KeyboardEvent","isTrusted","repeat","InputEvent","TextEvents","inputRef","handlerRef","useInputHandler","divStyle","autoCapitalize","autoCorrect","spellCheck","inputStyle","overflow","border","outline","addKey","deleteKey","useDepressedKeys","depressedKeys","setDepressedKeys","listener","Distribution","Float64Array","totalSum","reduce","runningSum","Vector","isSafeInteger","RangeError","asVector","Polynomial","coef","trimZeros","Polynomial0","Polynomial1","Polynomial2","Polynomial3","PolynomialN","degree","c","derivativeCoef","vx","vy","sy","my","ssres","sstot","t0","t1","Sle","A","solve","maxrow","abs","k","tmp","polynomialRegression","sx","mx","s1","s2","linearRegression","sle","t","adjust","a0","a1","defined","r0","r1","hasData","LinkButton","anchor","getBoundingBox","href"],"sourceRoot":""}